(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{973:(xe,we,B)=>{"use strict";function P(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const W=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function j(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof W?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{v(s)}catch(o){e=e??[],o instanceof W?e=[...e,...o.errors]:e.push(o)}}if(e)throw new W(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&j(n,e)}remove(e){const{_finalizers:n}=this;n&&j(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const F=J.EMPTY;function Y(t){return t instanceof J||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function v(t){P(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},R={setTimeout(t,e,...n){const{delegate:r}=R;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=R;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){R.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function T(){}const C=L("C",void 0,void 0);function L(t,e,n){return{kind:t,value:e,error:n}}let N=null;function _(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!N;if(e&&(N={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else t()}class H extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Y(e)&&e.add(this)):this.destination=X}static create(e,n,r){return new fe(e,n,r)}next(e){this.isStopped?Se(function A(t){return L("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Se(function S(t){return L("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Se(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function U(t,e){return V.call(t,e)}class q{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ue(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ue(r)}else ue(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ue(n)}}}class fe extends H{constructor(e,n,r){let i;if(super(),P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&U(e.next,s),error:e.error&&U(e.error,s),complete:e.complete&&U(e.complete,s)}):i=e}this.destination=new q(i)}}function ue(t){w.useDeprecatedSynchronousErrorHandling?function x(t){w.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=t)}(t):E(t)}function Se(t,e){const{onStoppedNotification:n}=w;n&&R.setTimeout(()=>n(t,e))}const X={closed:!0,next:T,error:function ge(t){throw t},complete:T},de="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ee(t){return t}function Fe(t){return 0===t.length?Ee:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof H||function rt(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}(t)&&Y(t)}(n)?n:new fe(n,r,i);return _(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ye(r))((i,s)=>{const o=new fe({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[de](){return this}pipe(...n){return Fe(n)(this)}toPromise(n){return new(n=Ye(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ye(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ce=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ce}next(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?F:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,j(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new he;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:F}}function Nt(t){return P(t?.lift)}function Le(t){return e=>{if(Nt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,r,i){return new nt(t,e,n,r,i)}class nt extends H{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Je(t,e){return Le((n,r)=>{let i=0;n.subscribe(it(r,s=>{r.next(t.call(e,s,i++))}))})}function lr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function qt(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ur(t,e){return function(n,r){e(n,r,t)}}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function np(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function zc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function md(t){return P(t?.then)}function lp(t){return P(t[de])}function up(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function _d(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vd=function __(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dr(t){return P(t?.[vd])}function Li(t){return function js(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Vi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Vi(n.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{n.releaseLock()}})}function yd(t){return P(t?.getReader)}function fr(t){if(t instanceof he)return t;if(null!=t){if(lp(t))return function _j(t){return new he(e=>{const n=t[de]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(cp(t))return function vj(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(md(t))return function yj(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(up(t))return kw(t);if(dr(t))return function Ej(t){return new he(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(yd(t))return function Cj(t){return kw(Li(t))}(t)}throw _d(t)}function kw(t){return new he(e=>{(function xj(t,e){var n,r,i,s;return function Ur(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=np(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $s(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qn(t,e,n=1/0){return P(e)?qn((r,i)=>Je((s,o)=>e(r,s,i,o))(fr(t(r,i))),n):("number"==typeof e&&(n=e),Le((r,i)=>function Ij(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let m=!1;fr(n(g,u++)).subscribe(it(e,D=>{i?.(D),s?h(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const D=c.shift();o?$s(e,o,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(it(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function dp(t=1/0){return qn(Ee,t)}const as=new he(t=>t.complete());function v_(t){return t[t.length-1]}function Nw(t){return P(v_(t))?t.pop():void 0}function Ed(t){return function wj(t){return t&&P(t.schedule)}(v_(t))?t.pop():void 0}function fp(t,e=0){return Le((n,r)=>{n.subscribe(it(r,i=>$s(r,t,()=>r.next(i),e),()=>$s(r,t,()=>r.complete(),e),i=>$s(r,t,()=>r.error(i),e)))})}function hp(t,e=0){return Le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ow(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{$s(n,e,()=>{const r=t[Symbol.asyncIterator]();$s(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Wn(t,e){return e?function Mj(t,e){if(null!=t){if(lp(t))return function Tj(t,e){return fr(t).pipe(hp(e),fp(e))}(t,e);if(cp(t))return function Dj(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(md(t))return function Sj(t,e){return fr(t).pipe(hp(e),fp(e))}(t,e);if(up(t))return Ow(t,e);if(dr(t))return function Pj(t,e){return new he(n=>{let r;return $s(n,e,()=>{r=t[vd](),$s(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}(t,e);if(yd(t))return function Rj(t,e){return Ow(Li(t),e)}(t,e)}throw _d(t)}(t,e):fr(t)}class Ei extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Be(...t){return Wn(t,Ed(t))}function Fw(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Le((g,m)=>{l++,!d&&!u&&f();const D=c=c??e();m.add(()=>{l--,0===l&&!d&&!u&&(a=y_(p,i))}),D.subscribe(m),!o&&l>0&&(o=new fe({next:b=>D.next(b),error:b=>{d=!0,f(),a=y_(h,n,b),D.error(b)},complete:()=>{u=!0,f(),a=y_(h,r),D.complete()}}),fr(g).subscribe(o))})(s)}}function y_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fe({next:()=>{r.unsubscribe(),t()}});return fr(e(...n)).subscribe(r)}function Ci(t,e){return Le((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(it(r,c=>{i?.unsubscribe();let l=0;const u=s++;fr(t(c,u)).subscribe(i=it(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Vw(t,e=Ee){return t=t??Nj,Le((n,r)=>{let i,s=!0;n.subscribe(it(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Nj(t,e){return t===e}function bt(t){for(let e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function pp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Dn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Oj=bt({__forward_ref__:bt});function Vt(t){return t.__forward_ref__=Vt,t.toString=function(){return Dn(this())},t}function je(t){return C_(t)?t():t}function C_(t){return"function"==typeof t&&t.hasOwnProperty(Oj)&&t.__forward_ref__===Vt}function x_(t){return t&&!!t.\u0275providers}const Lw="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function gp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function I_(t,e){throw new re(-201,!1)}function xi(t,e){null==t&&function He(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{providers:t.providers||[],imports:t.imports||[]}}function mp(t){return Bw(t,vp)||Bw(t,Hw)}function Bw(t,e){return t.hasOwnProperty(e)?t[e]:null}function _p(t){return t&&(t.hasOwnProperty(b_)||t.hasOwnProperty(jj))?t[b_]:null}const vp=bt({\u0275prov:bt}),b_=bt({\u0275inj:bt}),Hw=bt({ngInjectableDef:bt}),jj=bt({ngInjectorDef:bt});var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lt||{});let w_;function $r(t){const e=w_;return w_=t,e}function Uw(t,e,n){const r=mp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&lt.Optional?null:void 0!==e?e:void I_(Dn(t))}const Lt=globalThis;class Ie{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cd={},P_="__NG_DI_FLAG__",yp="ngTempTokenPath",qj=/\n/gm,$w="__source";let Uc;function Ro(t){const e=Uc;return Uc=t,e}function Yj(t,e=lt.Default){if(void 0===Uc)throw new re(-203,!1);return null===Uc?Uw(t,void 0,e):Uc.get(t,e&lt.Optional?null:void 0,e)}function Re(t,e=lt.Default){return(function zw(){return w_}()||Yj)(je(t),e)}function $(t,e=lt.Default){return Re(t,Ep(e))}function Ep(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function R_(t){const e=[];for(let n=0;n<t.length;n++){const r=je(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=lt.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Qj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Re(i,s))}else e.push(Re(r))}return e}function xd(t,e){return t[P_]=e,t.prototype[P_]=e,t}function Qj(t){return t[P_]}function Gs(t){return{toString:t}.toString()}var Cp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cp||{}),Bi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bi||{});const cs={},vt=[],xp=bt({\u0275cmp:bt}),M_=bt({\u0275dir:bt}),k_=bt({\u0275pipe:bt}),qw=bt({\u0275mod:bt}),qs=bt({\u0275fac:bt}),Id=bt({__NG_ELEMENT_ID__:bt}),Ww=bt({__NG_ENV_ID__:bt});function Kw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function N_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Qw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Yw(t){return 3===t||4===t||6===t}function Qw(t){return 64===t.charCodeAt(0)}function bd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Jw="ng-template";function Zj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Kw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Zw(t){return 4===t.type&&t.value!==Jw}function e$(t,e,n){return e===(4!==t.type||n?t.value:Jw)}function t$(t,e,n){let r=4;const i=t.attrs||[],s=function i$(t){for(let e=0;e<t.length;e++)if(Yw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!e$(t,c,n)||""===c&&1===e.length){if(Hi(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Zj(t.attrs,l,n)){if(Hi(r))return!1;o=!0}continue}const d=n$(8&r?"class":c,i,Zw(t),n);if(-1===d){if(Hi(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Kw(h,l,0)||2&r&&l!==f){if(Hi(r))return!1;o=!0}}}}else{if(!o&&!Hi(r)&&!Hi(c))return!1;if(o&&Hi(c))continue;o=!1,r=c|1&r}}return Hi(r)||o}function Hi(t){return 0==(1&t)}function n$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function eA(t,e,n=!1){for(let r=0;r<e.length;r++)if(t$(t,e[r],n))return!0;return!1}function o$(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function tA(t,e){return t?":not("+e.trim()+")":e}function a$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Hi(o)&&(e+=tA(s,i),i=""),r=o,s=s||!Hi(r);n++}return""!==i&&(e+=tA(s,i)),e}function Pn(t){return Gs(()=>{const e=rA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bi.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""};iA(n);const r=t.dependencies;return n.directiveDefs=Ip(r,!1),n.pipeDefs=Ip(r,!0),n.id=function g$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function d$(t){return ft(t)||Yn(t)}function f$(t){return null!==t}function wt(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nA(t,e){if(null==t)return cs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ve(t){return Gs(()=>{const e=rA(t);return iA(e),e})}function Kn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ft(t){return t[xp]||null}function Yn(t){return t[M_]||null}function xr(t){return t[k_]||null}function si(t,e){const n=t[qw]||null;if(!n&&!0===e)throw new Error(`Type ${Dn(t)} does not have '\u0275mod' property.`);return n}function rA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cs,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nA(t.inputs,e),outputs:nA(t.outputs)}}function iA(t){t.features?.forEach(e=>e(t))}function Ip(t,e){if(!t)return null;const n=e?xr:d$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(f$)}const cn=0,Ae=1,Qe=2,Jt=3,zi=4,wd=5,hr=6,$c=7,mn=8,Mo=9,Gc=10,qe=11,Ad=12,sA=13,qc=14,_n=15,Td=16,Wc=17,ls=18,Sd=19,oA=20,ko=21,Ws=22,Dd=23,Pd=24,st=25,O_=1,aA=2,us=7,Kc=9,Qn=11;function Gr(t){return Array.isArray(t)&&"object"==typeof t[O_]}function Ir(t){return Array.isArray(t)&&!0===t[O_]}function F_(t){return 0!=(4&t.flags)}function Ma(t){return t.componentOffset>-1}function wp(t){return 1==(1&t.flags)}function Ui(t){return!!t.template}function V_(t){return 0!=(512&t[Qe])}function ka(t,e){return t.hasOwnProperty(qs)?t[qs]:null}let Xn=null,Ap=!1;function Ii(t){const e=Xn;return Xn=t,e}const uA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fA(t){if(!Md(t)||t.dirty){if(!t.producerMustRecompute(t)&&!gA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function pA(t){t.dirty=!0,function hA(t){if(void 0===t.liveConsumerNode)return;const e=Ap;Ap=!0;try{for(const n of t.liveConsumerNode)n.dirty||pA(n)}finally{Ap=e}}(t),t.consumerMarkedDirty?.(t)}function B_(t){return t&&(t.nextProducerIndex=0),Ii(t)}function H_(t,e){if(Ii(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Md(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gA(t){Yc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fA(n),r!==n.version))return!0}return!1}function mA(t){if(Yc(t),Md(t))for(let e=0;e<t.producerNode.length;e++)Tp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tp(t,e){if(function vA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Yc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Tp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Yc(i),i.producerIndexOfThis[r]=e}}function Md(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let yA=null;function xA(t){const e=Ii(null);try{return t()}finally{Ii(e)}}const IA=()=>{},S$=(()=>({...uA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:IA}))();class D${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function br(){return bA}function bA(t){return t.type.prototype.ngOnChanges&&(t.setInput=R$),P$}function P$(){const t=AA(this),e=t?.current;if(e){const n=t.previous;if(n===cs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function R$(t,e,n,r){const i=this.declaredInputs[n],s=AA(t)||function M$(t,e){return t[wA]=e}(t,{previous:cs,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new D$(c&&c.currentValue,e,a===cs),t[r]=e}br.ngInherit=!0;const wA="__ngSimpleChanges__";function AA(t){return t[wA]||null}const ds=function(t,e,n){},TA="svg";function Bt(t){for(;Array.isArray(t);)t=t[cn];return t}function Sp(t,e){return Bt(e[t])}function qr(t,e){return Bt(e[t.index])}function DA(t,e){return t.data[e]}function Qc(t,e){return t[e]}function oi(t,e){const n=e[t];return Gr(n)?n:n[cn]}function Oo(t,e){return null==e?null:t[e]}function PA(t){t[Wc]=0}function L$(t){1024&t[Qe]||(t[Qe]|=1024,MA(t,1))}function RA(t){1024&t[Qe]&&(t[Qe]&=-1025,MA(t,-1))}function MA(t,e){let n=t[Jt];if(null===n)return;n[wd]+=e;let r=n;for(n=n[Jt];null!==n&&(1===e&&1===r[wd]||-1===e&&0===r[wd]);)n[wd]+=e,r=n,n=n[Jt]}const ze={lFrame:jA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OA(){return ze.bindingsEnabled}function Xc(){return null!==ze.skipHydrationRootTNode}function ee(){return ze.lFrame.lView}function ht(){return ze.lFrame.tView}function wr(t){return ze.lFrame.contextLView=t,t[mn]}function Ar(t){return ze.lFrame.contextLView=null,t}function Jn(){let t=FA();for(;null!==t&&64===t.type;)t=t.parent;return t}function FA(){return ze.lFrame.currentTNode}function fs(t,e){const n=ze.lFrame;n.currentTNode=t,n.isParent=e}function G_(){return ze.lFrame.isParent}function q_(){ze.lFrame.isParent=!1}function Tr(){const t=ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jc(){return ze.lFrame.bindingIndex++}function Q$(t,e){const n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,W_(e)}function W_(t){ze.lFrame.currentDirectiveIndex=t}function HA(){return ze.lFrame.currentQueryIndex}function Y_(t){ze.lFrame.currentQueryIndex=t}function J$(t){const e=t[Ae];return 2===e.type?e.declTNode:1===e.type?t[hr]:null}function zA(t,e,n){if(n&lt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&lt.Host||(i=J$(s),null===i||(s=s[qc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ze.lFrame=UA();return r.currentTNode=e,r.lView=t,!0}function Q_(t){const e=UA(),n=t[Ae];ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UA(){const t=ze.lFrame,e=null===t?null:t.child;return null===e?jA(t):e}function jA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $A(){const t=ze.lFrame;return ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const GA=$A;function X_(){const t=$A();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sr(){return ze.lFrame.selectedIndex}function Na(t){ze.lFrame.selectedIndex=t}function sn(){const t=ze.lFrame;return DA(t.tView,t.selectedIndex)}function Dr(){ze.lFrame.currentNamespace=TA}let WA=!0;function Dp(){return WA}function Fo(t){WA=t}function Pp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Rp(t,e,n){KA(t,e,3,n)}function Mp(t,e,n,r){(3&t[Qe])===n&&KA(t,e,n,r)}function J_(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function KA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Wc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Wc]+=65536),(a<s||-1==s)&&(sG(t,n,e,c),t[Wc]=(4294901760&t[Wc])+c+2),c++}function YA(t,e){ds(4,t,e);const n=Ii(null);try{e.call(t)}finally{Ii(n),ds(5,t,e)}}function sG(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Wc]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,YA(a,s)):YA(a,s)}const Zc=-1;class Nd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ev(t){return t!==Zc}function Od(t){return 32767&t}function Fd(t,e){let n=function lG(t){return t>>16}(t),r=e;for(;n>0;)r=r[qc],n--;return r}let tv=!0;function kp(t){const e=tv;return tv=t,e}const QA=255,XA=5;let uG=0;const hs={};function Np(t,e){const n=JA(t,e);if(-1!==n)return n;const r=e[Ae];r.firstCreatePass&&(t.injectorIndex=e.length,nv(r.data,t),nv(e,null),nv(r.blueprint,null));const i=Op(t,e),s=t.injectorIndex;if(ev(i)){const o=Od(i),a=Fd(i,e),c=a[Ae].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function nv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Op(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=s5(i),null===r)return Zc;if(n++,i=i[qc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zc}function rv(t,e,n){!function dG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Id)&&(r=n[Id]),null==r&&(r=n[Id]=uG++);const i=r&QA;e.data[t+(i>>XA)]|=1<<i}(t,e,n)}function ZA(t,e,n){if(n&lt.Optional||void 0!==t)return t;I_()}function e5(t,e,n,r){if(n&lt.Optional&&void 0===r&&(r=null),!(n&(lt.Self|lt.Host))){const i=t[Mo],s=$r(void 0);try{return i?i.get(e,r,n&lt.Optional):Uw(e,r,n&lt.Optional)}finally{$r(s)}}return ZA(r,0,n)}function t5(t,e,n,r=lt.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&lt.Self)){const o=function _G(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Qe]&&!(512&o[Qe]);){const a=n5(s,o,n,r|lt.Self,hs);if(a!==hs)return a;let c=s.parent;if(!c){const l=o[oA];if(l){const u=l.get(n,hs,r);if(u!==hs)return u}c=s5(o),o=o[qc]}s=c}return i}(t,e,n,r,hs);if(o!==hs)return o}const s=n5(t,e,n,r,hs);if(s!==hs)return s}return e5(e,n,r,i)}function n5(t,e,n,r,i){const s=function pG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Id)?t[Id]:void 0;return"number"==typeof e?e>=0?e&QA:mG:e}(n);if("function"==typeof s){if(!zA(e,t,r))return r&lt.Host?ZA(i,0,r):e5(e,n,r,i);try{let o;if(o=s(r),null!=o||r&lt.Optional)return o;I_()}finally{GA()}}else if("number"==typeof s){let o=null,a=JA(t,e),c=Zc,l=r&lt.Host?e[_n][hr]:null;for((-1===a||r&lt.SkipSelf)&&(c=-1===a?Op(t,e):e[a+8],c!==Zc&&i5(r,!1)?(o=e[Ae],a=Od(c),e=Fd(c,e)):a=-1);-1!==a;){const u=e[Ae];if(r5(s,a,u.data)){const d=hG(a,e,n,o,r,l);if(d!==hs)return d}c=e[a+8],c!==Zc&&i5(r,e[Ae].data[a+8]===l)&&r5(s,a,e)?(o=u,a=Od(c),e=Fd(c,e)):a=-1}}return i}function hG(t,e,n,r,i,s){const o=e[Ae],a=o.data[t+8],u=Fp(a,o,n,null==r?Ma(a)&&tv:r!=o&&0!=(3&a.type),i&lt.Host&&s===a);return null!==u?Oa(e,o,u,a):hs}function Fp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Ui(h)&&h.type===n)return c}return null}function Oa(t,e,n,r){let i=t[n];const s=e.data;if(function oG(t){return t instanceof Nd}(i)){const o=i;o.resolving&&function Fj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(s[n]));const a=kp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?$r(o.injectImpl):null;zA(t,r,lt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function iG(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&$r(l),kp(a),o.resolving=!1,GA()}}return i}function r5(t,e,n){return!!(n[e+(t>>XA)]&1<<t)}function i5(t,e){return!(t&lt.Self||t&lt.Host&&e)}class Pr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return t5(this._tNode,this._lView,e,Ep(r),n)}}function mG(){return new Pr(Jn(),ee())}function Zn(t){return Gs(()=>{const e=t.prototype.constructor,n=e[qs]||iv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[qs]||iv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function iv(t){return C_(t)?()=>{const e=iv(je(t));return e&&e()}:ka(t)}function s5(t){const e=t[Ae],n=e.type;return 2===n?e.declTNode:1===n?t[hr]:null}const tl="__parameters__";function rl(t,e,n){return Gs(()=>{const r=function sv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(tl)?c[tl]:Object.defineProperty(c,tl,{value:[]})[tl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function sl(t,e){t.forEach(n=>Array.isArray(n)?sl(n,e):e(n))}function a5(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ai(t,e,n){let r=ol(t,e);return r>=0?t[1|r]=n:(r=~r,function bG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ov(t,e){const n=ol(t,e);if(n>=0)return t[1|n]}function ol(t,e){return function c5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ht=xd(rl("Optional"),8),cv=xd(rl("SkipSelf"),4);function $p(t){return 128==(128&t.flags)}var Vo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vo||{});const GG=/^>|^->|<!--|-->|--!>|<!-$/g,qG=/(<|>)/g,WG="\u200b$1\u200b";const fv=new Map;let KG=0;const pv="__ngContext__";function pr(t,e){Gr(e)?(t[pv]=e[Sd],function QG(t){fv.set(t[Sd],t)}(e)):t[pv]=e}let gv;function mv(t,e){return gv(t,e)}function Ud(t){const e=t[Jt];return Ir(e)?e[Jt]:e}function S5(t){return P5(t[Ad])}function D5(t){return P5(t[zi])}function P5(t){for(;null!==t&&!Ir(t);)t=t[zi];return t}function ll(t,e,n,r,i){if(null!=r){let s,o=!1;Ir(r)?s=r:Gr(r)&&(o=!0,r=r[cn]);const a=Bt(r);0===t&&null!==n?null==i?N5(e,n,a):Fa(e,n,a,i||null,!0):1===t&&null!==n?Fa(e,n,a,i||null,!0):2===t?function Xp(t,e,n){const r=Yp(t,e);r&&function gq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function vq(t,e,n,r,i){const s=n[us];s!==Bt(n)&&ll(e,t,r,s,i);for(let a=Qn;a<n.length;a++){const c=n[a];$d(c[Ae],c,t,e,r,s)}}(e,t,s,n,i)}}function _v(t,e){return t.createComment(function E5(t){return t.replace(GG,e=>e.replace(qG,WG))}(e))}function Wp(t,e,n){return t.createElement(e,n)}function M5(t,e){const n=t[Kc],r=n.indexOf(e);RA(e),n.splice(r,1)}function Kp(t,e){if(t.length<=Qn)return;const n=Qn+e,r=t[n];if(r){const i=r[Td];null!==i&&i!==t&&M5(i,r),e>0&&(t[n-1][zi]=r[zi]);const s=Lp(t,Qn+e);!function aq(t,e){$d(t,e,e[qe],2,null,null),e[cn]=null,e[hr]=null}(r[Ae],r);const o=s[ls];null!==o&&o.detachView(s[Ae]),r[Jt]=null,r[zi]=null,r[Qe]&=-129}return r}function vv(t,e){if(!(256&e[Qe])){const n=e[qe];e[Dd]&&mA(e[Dd]),e[Pd]&&mA(e[Pd]),n.destroyNode&&$d(t,e,n,3,null,null),function uq(t){let e=t[Ad];if(!e)return yv(t[Ae],t);for(;e;){let n=null;if(Gr(e))n=e[Ad];else{const r=e[Qn];r&&(n=r)}if(!n){for(;e&&!e[zi]&&e!==t;)Gr(e)&&yv(e[Ae],e),e=e[Jt];null===e&&(e=t),Gr(e)&&yv(e[Ae],e),n=e&&e[zi]}e=n}}(e)}}function yv(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function pq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ds(4,a,c);try{c.call(a)}finally{ds(5,a,c)}}else{ds(4,i,s);try{s.call(i)}finally{ds(5,i,s)}}}}}(t,e),function hq(t,e){const n=t.cleanup,r=e[$c];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[$c]=null);const i=e[ko];if(null!==i){e[ko]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Ae].type&&e[qe].destroy();const n=e[Td];if(null!==n&&Ir(e[Jt])){n!==e[Jt]&&M5(n,e);const r=e[ls];null!==r&&r.detachView(t)}!function XG(t){fv.delete(t[Sd])}(e)}}function Ev(t,e,n){return function k5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[cn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Bi.None||s===Bi.Emulated)return null}return qr(r,n)}}(t,e.parent,n)}function Fa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function N5(t,e,n){t.appendChild(e,n)}function O5(t,e,n,r,i){null!==r?Fa(t,e,n,r,i):N5(t,e,n)}function Yp(t,e){return t.parentNode(e)}function F5(t,e,n){return L5(t,e,n)}let Cv,Jp,wv,Zp,L5=function V5(t,e,n){return 40&t.type?qr(t,n):null};function Qp(t,e,n,r){const i=Ev(t,r,e),s=e[qe],a=F5(r.parent||e[hr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)O5(s,i,n[c],a,!1);else O5(s,i,n,a,!1);void 0!==Cv&&Cv(s,r,e,n,i)}function jd(t,e){if(null!==e){const n=e.type;if(3&n)return qr(e,t);if(4&n)return xv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return jd(t,r);{const i=t[e.index];return Ir(i)?xv(-1,i):Bt(i)}}if(32&n)return mv(e,t)()||Bt(t[e.index]);{const r=H5(t,e);return null!==r?Array.isArray(r)?r[0]:jd(Ud(t[_n]),r):jd(t,e.next)}}return null}function H5(t,e){return null!==e?t[_n][hr].projection[e.projection]:null}function xv(t,e){const n=Qn+t+1;if(n<e.length){const r=e[n],i=r[Ae].firstChild;if(null!==i)return jd(r,i)}return e[us]}function Iv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&pr(Bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Iv(t,e,n.child,r,i,s,!1),ll(e,t,i,a,s);else if(32&c){const l=mv(n,r);let u;for(;u=l();)ll(e,t,i,u,s);ll(e,t,i,a,s)}else 16&c?U5(t,e,r,n,i,s):ll(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $d(t,e,n,r,i,s){Iv(n,r,t.firstChild,e,i,s,!1)}function U5(t,e,n,r,i,s){const o=n[_n],c=o[hr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ll(e,t,i,c[l],s);else{let l=c;const u=o[Jt];$p(r)&&(l.flags|=128),Iv(t,e,l,u,i,s,!0)}}function j5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&N_(t,e,r),null!==i&&j5(t,e,i),null!==s&&function Eq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ul(t){return function bv(){if(void 0===Jp&&(Jp=null,Lt.trustedTypes))try{Jp=Lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jp}()?.createHTML(t)||t}function dl(){if(void 0!==wv)return wv;if(typeof document<"u")return document;throw new re(210,!1)}function G5(t){return function Av(){if(void 0===Zp&&(Zp=null,Lt.trustedTypes))try{Zp=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zp}()?.createHTML(t)||t}class Va{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lw})`}}class wq extends Va{getTypeName(){return"HTML"}}class Aq extends Va{getTypeName(){return"Style"}}class Tq extends Va{getTypeName(){return"Script"}}class Sq extends Va{getTypeName(){return"URL"}}class Dq extends Va{getTypeName(){return"ResourceURL"}}function ci(t){return t instanceof Va?t.changingThisBreaksApplicationSecurity:t}function ps(t,e){const n=function Pq(t){return t instanceof Va&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Lw})`)}return n===e}class Fq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ul(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Vq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ul(e),n}}const Bq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eg(t){return(t=String(t)).match(Bq)?t:"unsafe:"+t}function Qs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Y5=Qs("area,br,col,hr,img,wbr"),Q5=Qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X5=Qs("rp,rt"),Tv=Gd(Y5,Gd(Q5,Qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gd(X5,Qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gd(X5,Q5)),Sv=Qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),J5=Gd(Sv,Qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hq=Qs("script,style,template");class zq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Tv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Hq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!J5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Sv[a]&&(c=eg(c)),this.buf.push(" ",o,'="',Z5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Tv.hasOwnProperty(n)&&!Y5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Z5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Uq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jq=/([^\#-~ |!])/g;function Z5(t){return t.replace(/&/g,"&amp;").replace(Uq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(jq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tg;function eT(t,e){let n=null;try{tg=tg||function K5(t){const e=new Vq(t);return function Lq(){try{return!!(new window.DOMParser).parseFromString(ul(""),"text/html")}catch{return!1}}()?new Fq(e):e}(t);let r=e?String(e):"";n=tg.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=tg.getInertBodyElement(r)}while(r!==s);return ul((new zq).sanitizeChildren(Dv(n)||n))}finally{if(n){const r=Dv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Dv(t){return"content"in t&&function $q(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wi||{});function tT(t){const e=function qd(){const t=ee();return t&&t[Gc].sanitizer}();return e?G5(e.sanitize(wi.HTML,t)||""):ps(t,"HTML")?G5(ci(t)):eT(dl(),Ge(t))}const Wd=new Ie("ENVIRONMENT_INITIALIZER"),sT=new Ie("INJECTOR",-1),oT=new Ie("INJECTOR_DEF_TYPES");class Pv{get(e,n=Cd){if(n===Cd){const r=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Qq(...t){return{\u0275providers:aT(0,t),\u0275fromNgModule:!0}}function aT(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return sl(e,o=>{const a=o;ng(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&cT(i,s),n}function cT(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Mv(i,s=>{e(s,r)})}}function ng(t,e,n,r){if(!(t=je(t)))return!1;let i=null,s=_p(t);const o=!s&&ft(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=_p(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)ng(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{sl(s.imports,u=>{ng(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&cT(l,e)}if(!a){const l=ka(i)||(()=>new i);e({provide:i,useFactory:l,deps:vt},i),e({provide:oT,useValue:i,multi:!0},i),e({provide:Wd,useValue:()=>Re(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;Mv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Mv(t,e){for(let n of t)x_(n)&&(n=n.\u0275providers),Array.isArray(n)?Mv(n,e):e(n)}const Xq=bt({provide:String,useValue:bt});function kv(t){return null!==t&&"object"==typeof t&&Xq in t}function La(t){return"function"==typeof t}const Nv=new Ie("Set Injector scope."),rg={},Zq={};let Ov;function ig(){return void 0===Ov&&(Ov=new Pv),Ov}class Ai{}class fl extends Ai{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vv(e,o=>this.processProvider(o)),this.records.set(sT,hl(void 0,this)),i.has("environment")&&this.records.set(Ai,hl(void 0,this));const s=this.records.get(Nv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oT.multi,vt,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ro(this),r=$r(void 0);try{return e()}finally{Ro(n),$r(r)}}get(e,n=Cd,r=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ww))return e[Ww](this);r=Ep(r);const s=Ro(this),o=$r(void 0);try{if(!(r&lt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function iW(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ie}(e)&&mp(e);c=l&&this.injectableDefInScope(l)?hl(Fv(e),rg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&lt.Self?ig():this.parent).get(e,n=r&lt.Optional&&n===Cd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[yp]=a[yp]||[]).unshift(Dn(e)),s)throw a;return function Xj(t,e,n,r){const i=t[yp];throw e[$w]&&i.unshift(e[$w]),t.message=function Jj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Dn(e);if(Array.isArray(e))i=e.map(Dn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Dn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[yp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{$r(o),Ro(s)}}resolveInjectorInitializers(){const e=Ro(this),n=$r(void 0);try{const i=this.get(Wd.multi,vt,lt.Self);for(const s of i)s()}finally{Ro(e),$r(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Dn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=La(e=je(e))?e:je(e&&e.provide);const r=function tW(t){return kv(t)?hl(void 0,t.useValue):hl(dT(t),rg)}(e);if(La(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=hl(void 0,rg,!0),i.factory=()=>R_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===rg&&(n.value=Zq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function rW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=je(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Fv(t){const e=mp(t),n=null!==e?e.factory:ka(t);if(null!==n)return n;if(t instanceof Ie)throw new re(204,!1);if(t instanceof Function)return function eW(t){const e=t.length;if(e>0)throw Bd(e,"?"),new re(204,!1);const n=function Uj(t){return t&&(t[vp]||t[Hw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function dT(t,e,n){let r;if(La(t)){const i=je(t);return ka(i)||Fv(i)}if(kv(t))r=()=>je(t.useValue);else if(function uT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...R_(t.deps||[]));else if(function lT(t){return!(!t||!t.useExisting)}(t))r=()=>Re(je(t.useExisting));else{const i=je(t&&(t.useClass||t.provide));if(!function nW(t){return!!t.deps}(t))return ka(i)||Fv(i);r=()=>new i(...R_(t.deps))}return r}function hl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vv(t,e){for(const n of t)Array.isArray(n)?Vv(n,e):n&&x_(n)?Vv(n.\u0275providers,e):e(n)}const sg=new Ie("AppId",{providedIn:"root",factory:()=>sW}),sW="ng",fT=new Ie("Platform Initializer"),gs=new Ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hT=new Ie("CSP nonce",{providedIn:"root",factory:()=>dl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pT=(t,e,n)=>null;function Gv(t,e,n=!1){return pT(t,e,n)}class gW{}class _T{}class _W{resolveComponentFactory(e){throw function mW(t){const e=Error(`No component factory found for ${Dn(t)}.`);return e.ngComponent=t,e}(e)}}let Qd=(()=>{class e{}return e.NULL=new _W,e})();function vW(){return ml(Jn(),ee())}function ml(t,e){return new Rr(qr(t,e))}let Rr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=vW,e})();function yW(t){return t instanceof Rr?t.nativeElement:t}class yT{}let ms=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function EW(){const t=ee(),n=oi(Jn().index,t);return(Gr(n)?n:t)[qe]}(),e})(),CW=(()=>{var t;class e{}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>null}),e})();class _l{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ET=new _l("16.2.12"),Kv={};function bT(t,e=null,n=null,r){const i=wT(t,e,n,r);return i.resolveInjectorInitializers(),i}function wT(t,e=null,n=null,r,i=new Set){const s=[n||vt,Qq(t)];return r=r||("object"==typeof t?void 0:Dn(t)),new fl(s,e||ig(),r||null,i)}let Mn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return bT({name:""},i,r,"");{const s=r.name??"";return bT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Cd,t.NULL=new Pv,t.\u0275prov=Ce({token:t,providedIn:"any",factory:()=>Re(sT)}),t.__NG_ELEMENT_ID__=-1,e})();function Qv(t){return t.ngOriginalError}class Xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qv(e);for(;n&&Qv(n);)n=Qv(n);return n||null}}function Jv(t){return e=>{setTimeout(t,void 0,e)}}const Pt=class SW extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Jv(s),i&&(i=Jv(i)),o&&(o=Jv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function TT(...t){}class mt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function DW(){const t="function"==typeof Lt.requestAnimationFrame;let e=Lt[t?"requestAnimationFrame":"setTimeout"],n=Lt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function MW(t){const e=()=>{!function RW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ey(t),t.isCheckStableRunning=!0,Zv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ey(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function NW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return ST(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),DT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ST(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),DT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ey(t),Zv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PW,TT,TT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const PW={};function Zv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ey(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ST(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DT(t){t._nesting--,Zv(t)}class kW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const PT=new Ie("",{providedIn:"root",factory:RT});function RT(){const t=$(mt);let e=!0;return function kj(...t){const e=Ed(t),n=function Aj(t,e){return"number"==typeof v_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?fr(r[0]):dp(n)(Wn(r,e)):as}(new he(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new he(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{mt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Fw()))}function Js(t){return t instanceof Function?t():t}let ty=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function Xd(t){for(;t;){t[Qe]|=64;const e=Ud(t);if(V_(t)&&!e)return t;t=e}return null}const FT=new Ie("",{providedIn:"root",factory:()=>!1});let fg=null;function HT(t,e){return t[e]??jT()}function zT(t,e){const n=jT();n.producerNode?.length&&(t[e]=fg,n.lView=t,fg=UT())}const $W={...uA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xd(t.lView)},lView:null};function UT(){return Object.create($W)}function jT(){return fg??=UT(),fg}const Ke={};function ae(t){$T(ht(),ee(),Sr()+t,!1)}function $T(t,e,n,r){if(!r)if(3==(3&e[Qe])){const s=t.preOrderCheckHooks;null!==s&&Rp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Mp(e,s,0,n)}Na(n)}function te(t,e=lt.Default){const n=ee();return null===n?Re(t,e):t5(Jn(),n,je(t),e)}function hg(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[cn]=i,d[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(d[Qe]|=2048),PA(d),d[Jt]=d[qc]=t,d[mn]=n,d[Gc]=o||t&&t[Gc],d[qe]=a||t&&t[qe],d[Mo]=c||t&&t[Mo]||null,d[hr]=s,d[Sd]=function YG(){return KG++}(),d[Ws]=u,d[oA]=l,d[_n]=2==e.type?t[_n]:d,d}function El(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ny(t,e,n,r,i){const s=FA(),o=G_(),c=t.data[e]=function ZW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Xc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function Y$(){return ze.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function kd(){const t=ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return fs(s,!0),s}function Jd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GT(t,e,n,r,i){const s=HT(e,Dd),o=Sr(),a=2&r;try{Na(-1),a&&e.length>st&&$T(t,e,st,!1),ds(a?2:0,i);const l=a?s:null,u=B_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{H_(l,u)}}finally{a&&null===e[Dd]&&zT(e,Dd),Na(o),ds(a?3:1,i)}}function ry(t,e,n){if(F_(e)){const r=Ii(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ii(r)}}}function iy(t,e,n){OA()&&(function oK(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ma(n)&&function hK(t,e,n){const r=qr(e,t),i=qT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=pg(t,hg(t,i,null,o,r,e,null,t[Gc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Np(n,e),pr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Oa(e,t,a,n);pr(l,e),null!==o&&pK(0,a-i,l,c,0,o),Ui(c)&&(oi(n.index,e)[mn]=Oa(e,t,a,n))}}(t,e,n,qr(n,e)),64==(64&n.flags)&&XT(t,e,n))}function sy(t,e,n=qr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oy(t,e,n,r,i,s,o,a,c,l,u){const d=st+r,f=d+i,h=function WW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ke);return n}(d,f),p="function"==typeof l?l():l;return h[Ae]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let WT=t=>null;function KT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?YT(n,e,i,s):r.hasOwnProperty(i)&&YT(n,e,r[i],s)}return n}function YT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function li(t,e,n,r,i,s,o,a){const c=qr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(dy(t,n,u,r,i),Ma(e)&&function nK(t,e){const n=oi(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function tK(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function ay(t,e,n,r){if(OA()){const i=null===r?null:{"":-1},s=function cK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(eA(e,o.selectors,!1))if(r||(r=[]),Ui(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),cy(t,e,a.length)}else r.unshift(o),cy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QT(t,e,n,o,i,a),i&&function lK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=bd(n.mergedAttrs,n.attrs)}function QT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)rv(Np(n,e),t,r[l].type);!function dK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Jd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=bd(n.mergedAttrs,u.hostAttrs),fK(t,n,e,c,u),uK(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function eK(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=KT(d.inputs,u,c,f?f.inputs:null),l=KT(d.outputs,u,l,p);const g=null===c||null===o||Zw(e)?null:gK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function XT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function X$(){return ze.lFrame.currentDirectiveIndex}();try{Na(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];W_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aK(c,l)}}finally{Na(-1),W_(o)}}function aK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function cy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ui(e)&&(n[""]=t)}}function fK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ka(i.type)),o=new Nd(s,Ui(i),te);t.blueprint[r]=o,n[r]=o,function iK(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function sK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Jd(t,n,i.hostVars,Ke),i)}function _s(t,e,n,r,i,s){const o=qr(t,e);!function ly(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ge(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[qe],o,s,t.value,n,r,i)}function pK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)JT(r,n,o[a++],o[a++],o[a++])}function JT(t,e,n,r,i){const s=Ii(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ii(s)}}function gK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ZT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function eS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Y_(n[r]),o.contentQueries(2,e[s],s)}}}function pg(t,e){return t[Ad]?t[sA][zi]=e:t[Ad]=e,t[sA]=e,e}function uy(t,e,n){Y_(0);const r=Ii(null);try{e(t,n)}finally{Ii(r)}}function tS(t){return t[$c]||(t[$c]=[])}function nS(t){return t.cleanup||(t.cleanup=[])}function iS(t,e){const n=t[Mo],r=n?n.get(Xs,null):null;r&&r.handleError(e)}function dy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];JT(t.data[o],e[o],r,a,i)}}function mK(t,e){const n=oi(e,t),r=n[Ae];!function _K(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[cn];null!==i&&null===n[Ws]&&(n[Ws]=Gv(i,n[Mo])),fy(r,n,n[mn])}function fy(t,e,n){Q_(e);try{const r=t.viewQuery;null!==r&&uy(1,r,n);const i=t.template;null!==i&&GT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&eS(t,e),t.staticViewQueries&&uy(2,t.viewQuery,n);const s=t.components;null!==s&&function vK(t,e){for(let n=0;n<e.length;n++)mK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,X_()}}let sS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function T$(t,e,n){const r=Object.create(S$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>pA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!gA(r))return;r.hasRun=!0;const o=B_(r);try{r.cleanupFn(),r.cleanupFn=IA,r.fn(i)}finally{H_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function gg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=E_(i,a):2==s&&(r=E_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Zd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Bt(s)),Ir(s)&&oS(s,r);const o=n.type;if(8&o)Zd(t,e,n.child,r);else if(32&o){const a=mv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=H5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Ud(e[_n]);Zd(c[Ae],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oS(t,e){for(let n=Qn;n<t.length;n++){const r=t[n],i=r[Ae].firstChild;null!==i&&Zd(r[Ae],r,i,e)}t[us]!==t[cn]&&e.push(t[us])}function mg(t,e,n,r=!0){const i=e[Gc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{aS(t,e,t.template,n)}catch(c){throw r&&iS(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function aS(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[Gc].effectManager?.flush(),Q_(e);try{PA(e),function LA(t){return ze.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&GT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Rp(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Mp(e,l,0,null),J_(e,0)}if(function CK(t){for(let e=S5(t);null!==e;e=D5(e)){if(!e[aA])continue;const n=e[Kc];for(let r=0;r<n.length;r++){L$(n[r])}}}(e),cS(e,2),null!==t.contentQueries&&eS(t,e),o){const l=t.contentCheckHooks;null!==l&&Rp(e,l)}else{const l=t.contentHooks;null!==l&&Mp(e,l,1),J_(e,1)}!function qW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=HT(e,Pd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Na(~s);else{const o=s,a=n[++i],c=n[++i];Q$(a,o),r.dirty=!1;const l=B_(r);try{c(2,e[o])}finally{H_(r,l)}}}}finally{null===e[Pd]&&zT(e,Pd),Na(-1)}}(t,e);const a=t.components;null!==a&&uS(e,a,0);const c=t.viewQuery;if(null!==c&&uy(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Rp(e,l)}else{const l=t.viewHooks;null!==l&&Mp(e,l,2),J_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,RA(e)}finally{X_()}}}function cS(t,e){for(let n=S5(t);null!==n;n=D5(n))for(let r=Qn;r<n.length;r++)lS(n[r],e)}function xK(t,e,n){lS(oi(e,t),n)}function lS(t,e){if(!function F$(t){return 128==(128&t[Qe])}(t))return;const n=t[Ae],r=t[Qe];if(80&r&&0===e||1024&r||2===e)aS(n,t,n.template,t[mn]);else if(t[wd]>0){cS(t,1);const i=n.components;null!==i&&uS(t,i,1)}}function uS(t,e,n){for(let r=0;r<e.length;r++)xK(t,e[r],n)}class ef{get rootNodes(){const e=this._lView,n=e[Ae];return Zd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(e){this._lView[mn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Jt];if(Ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Kp(e,r),Lp(n,r))}this._attachedToViewContainer=!1}vv(this._lView[Ae],this._lView)}onDestroy(e){!function kA(t,e){if(256==(256&t[Qe]))throw new re(911,!1);null===t[ko]&&(t[ko]=[]),t[ko].push(e)}(this._lView,e)}markForCheck(){Xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){mg(this._lView[Ae],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lq(t,e){$d(t,e,e[qe],2,null,null)}(this._lView[Ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class IK extends ef{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mg(e[Ae],e,e[mn],!1)}checkNoChanges(){}get context(){return null}}class dS extends Qd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ft(e);return new tf(n,this.ngModule)}}function fS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class wK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ep(r);const i=this.injector.get(e,Kv,r);return i!==Kv||n===Kv?i:this.parentInjector.get(e,n,r)}}class tf extends _T{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=fS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function c$(t){return t.map(a$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ai?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new wK(e,s):e,a=o.get(yT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(CW,null),effectManager:o.get(sS,null),afterRenderEventManager:o.get(ty,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function KW(t,e,n,r){const s=r.get(FT,!1)||n===Bi.ShadowDom,o=t.selectRootElement(e,s);return function YW(t){WT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):Wp(f,h,function bK(t){const e=t.toLowerCase();return"svg"===e?TA:"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==p&&(b=Gv(p,o,!0));const G=oy(0,null,null,1,0,null,null,null,null,null,null),Q=hg(null,G,null,D,null,null,d,f,o,null,b);let pe,Ne;Q_(Q);try{const Xe=this.componentDef;let rn,Vn=null;Xe.findHostDirectiveDefs?(rn=[],Vn=new Map,Xe.findHostDirectiveDefs(Xe,rn,Vn),rn.push(Xe)):rn=[Xe];const Ta=function TK(t,e){const n=t[Ae],r=st;return t[r]=e,El(n,r,2,"#host",null)}(Q,p),L3e=function SK(t,e,n,r,i,s,o){const a=i[Ae];!function DK(t,e,n,r){for(const i of t)e.mergedAttrs=bd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(gg(e,e.mergedAttrs,!0),null!==n&&$5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Gv(e,i[Mo]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=hg(i,qT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&cy(a,t,r.length-1),pg(i,d),i[t.index]=d}(Ta,p,Xe,rn,Q,d,f);Ne=DA(G,st),p&&function RK(t,e,n,r){if(r)N_(t,n,["ng-version",ET.full]);else{const{attrs:i,classes:s}=function l$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Hi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&N_(t,n,i),s&&s.length>0&&j5(t,n,s.join(" "))}}(f,Xe,p,r),void 0!==n&&function MK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Ne,this.ngContentSelectors,n),pe=function PK(t,e,n,r,i,s){const o=Jn(),a=i[Ae],c=qr(o,i);QT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)pr(Oa(i,a,o.directiveStart+u,o),i);XT(a,i,o),c&&pr(c,i);const l=Oa(i,a,o.directiveStart+o.componentOffset,o);if(t[mn]=i[mn]=l,null!==s)for(const u of s)u(l,e);return ry(a,o,t),l}(L3e,Xe,rn,Vn,Q,[kK]),fy(G,Q,null)}finally{X_()}return new AK(this.componentType,pe,ml(Ne,Q),Q,Ne)}}class AK extends gW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new IK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;dy(s[Ae],s,i,e,n),this.previousInputValues.set(e,n),Xd(oi(this._tNode.index,s))}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kK(){const t=Jn();Pp(ee()[Ae],t)}function At(t){let e=function hS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ui(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=_g(t.inputs),o.inputTransforms=_g(t.inputTransforms),o.declaredInputs=_g(t.declaredInputs),o.outputs=_g(t.outputs);const a=i.hostBindings;a&&VK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&OK(t,c),l&&FK(t,l),pp(t.inputs,i.inputs),pp(t.declaredInputs,i.declaredInputs),pp(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),pp(o.inputTransforms,i.inputTransforms)),Ui(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===At&&(n=!1)}}e=Object.getPrototypeOf(e)}!function NK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bd(i.hostAttrs,n=bd(n,i.hostAttrs))}}(r)}function _g(t){return t===cs?{}:t===vt?[]:t}function OK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function FK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function VK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function vg(t){return!!hy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vs(t,e,n){return t[e]=n}function nf(t,e){return t[e]}function gr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ba(t,e,n,r){const i=gr(t,e,n);return gr(t,e+1,r)||i}function ji(t,e,n,r){const i=ee();return gr(i,Jc(),e)&&(ht(),_s(sn(),i,t,e,n,r)),ji}function xl(t,e,n,r){return gr(t,Jc(),n)?e+Ge(n)+r:Ke}function _t(t,e,n,r,i,s,o,a){const c=ee(),l=ht(),u=t+st,d=l.firstCreatePass?function cY(t,e,n,r,i,s,o,a,c){const l=e.consts,u=El(e,t,4,o||null,Oo(l,a));ay(e,n,u,Oo(l,c)),Pp(e,u);const d=u.tView=oy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];fs(d,!1);const f=PS(l,c,d,t);Dp()&&Qp(l,c,f,d),pr(f,c),pg(c,c[u]=ZT(f,c,f,d)),wp(d)&&iy(l,c,d),null!=o&&sy(c,d,a)}let PS=function RS(t,e,n,r){return Fo(!0),e[qe].createComment("")};function yy(t){return Qc(function K$(){return ze.lFrame.contextLView}(),st+t)}function Te(t,e,n){const r=ee();return gr(r,Jc(),e)&&li(ht(),sn(),r,t,e,r[qe],n,!1),Te}function Ey(t,e,n,r,i){const o=i?"class":"style";dy(t,n,e.inputs[o],o,r)}function k(t,e,n,r){const i=ee(),s=ht(),o=st+t,a=i[qe],c=s.firstCreatePass?function fY(t,e,n,r,i,s){const o=e.consts,c=El(e,t,2,r,Oo(o,i));return ay(e,n,c,Oo(o,s)),null!==c.attrs&&gg(c,c.attrs,!1),null!==c.mergedAttrs&&gg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=MS(s,i,c,a,e,t);i[o]=l;const u=wp(c);return fs(c,!0),$5(a,l,c),32!=(32&c.flags)&&Dp()&&Qp(s,i,l,c),0===function H$(){return ze.lFrame.elementDepthCount}()&&pr(l,i),function z$(){ze.lFrame.elementDepthCount++}(),u&&(iy(s,i,c),ry(s,c,i)),null!==r&&sy(i,c),k}function O(){let t=Jn();G_()?q_():(t=t.parent,fs(t,!1));const e=t;(function j$(t){return ze.skipHydrationRootTNode===t})(e)&&function W$(){ze.skipHydrationRootTNode=null}(),function U$(){ze.lFrame.elementDepthCount--}();const n=ht();return n.firstCreatePass&&(Pp(n,t),F_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aG(t){return 0!=(8&t.flags)}(e)&&Ey(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cG(t){return 0!=(16&t.flags)}(e)&&Ey(n,e,ee(),e.stylesWithoutHost,!1),O}function Ue(t,e,n,r){return k(t,e,n,r),O(),Ue}let MS=(t,e,n,r,i,s)=>(Fo(!0),Wp(r,i,function qA(){return ze.lFrame.currentNamespace}()));function Lo(t,e,n){const r=ee(),i=ht(),s=t+st,o=i.firstCreatePass?function gY(t,e,n,r,i){const s=e.consts,o=Oo(s,r),a=El(e,t,8,"ng-container",o);return null!==o&&gg(a,o,!0),ay(e,n,a,Oo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];fs(o,!0);const a=NS(i,r,o,t);return r[s]=a,Dp()&&Qp(i,r,a,o),pr(a,r),wp(o)&&(iy(i,r,o),ry(i,o,r)),null!=n&&sy(r,o),Lo}function Bo(){let t=Jn();const e=ht();return G_()?q_():(t=t.parent,fs(t,!1)),e.firstCreatePass&&(Pp(e,t),F_(t)&&e.queries.elementEnd(t)),Bo}let NS=(t,e,n,r)=>(Fo(!0),_v(e[qe],""));function Pl(){return ee()}function cf(t){return!!t&&"function"==typeof t.then}function OS(t){return!!t&&"function"==typeof t.subscribe}function Ot(t,e,n,r){const i=ee(),s=ht(),o=Jn();return function VS(t,e,n,r,i,s,o){const a=wp(r),l=t.firstCreatePass&&nS(t),u=e[mn],d=tS(e);let f=!0;if(3&r.type||o){const g=qr(r,e),m=o?o(g):g,D=d.length,b=o?Q=>o(Bt(Q[r.index])):r.index;let G=null;if(!o&&a&&(G=function vY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[$c],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,f=!1;else{s=BS(r,e,u,s,!1);const Q=n.listen(m,i,s);d.push(s,Q),l&&l.push(i,b,D,D+1)}}else s=BS(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const pe=e[p[m]][p[m+1]].subscribe(s),Ne=d.length;d.push(s,pe),l&&l.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[qe],o,t,e,r),Ot}function LS(t,e,n,r){try{return ds(6,e,n),!1!==n(r)}catch(i){return iS(t,i),!1}finally{ds(7,e,n)}}function BS(t,e,n,r,i){return function s(o){if(o===Function)return r;Xd(t.componentOffset>-1?oi(t.index,e):e);let c=LS(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=LS(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Rt(t=1){return function Z$(t){return(ze.lFrame.contextLView=function eG(t,e){for(;t>0;)e=e[qc],t--;return e}(t,ze.lFrame.contextLView))[mn]}(t)}function yY(t,e){let n=null;const r=function r$(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?eA(t,s,!0):o$(r,s))return i}else n=i}return n}function Cy(t,e,n){return xy(t,"",e,"",n),Cy}function xy(t,e,n,r,i){const s=ee(),o=xl(s,e,n,r);return o!==Ke&&li(ht(),sn(),s,t,o,s[qe],i,!1),xy}function Ig(t,e){return t<<17|e<<2}function Ho(t){return t>>17&32767}function Iy(t){return 2|t}function Ha(t){return(131068&t)>>2}function by(t,e){return-131069&t|e<<2}function wy(t){return 1|t}function QS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ho(s):Ha(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];wY(t[a],e)&&(c=!0,t[a+1]=r?wy(u):Iy(u)),a=r?Ho(u):Ha(u)}c&&(t[n+1]=r?Iy(s):wy(s))}function wY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ol(t,e)>=0}function lf(t,e){return function $i(t,e,n,r){const i=ee(),s=ht(),o=function Ys(t){const e=ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function sD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Sr()],o=function iD(t,e){return e>=t.expandoStartIndex}(t,n);(function lD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function NY(t,e,n,r){const i=function K_(t){const e=ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=uf(n=Ay(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ay(i,t,e,n,r),null===s){let c=function OY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ha(r))return t[Ho(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Ay(null,t,e,c[1],r),c=uf(c,e.attrs,r),function FY(t,e,n,r){t[Ho(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function VY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=uf(r,t[s].hostAttrs,n);return uf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function IY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ho(o),c=Ha(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||ol(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Ho(t[a+1]);t[r+1]=Ig(f,a),0!==f&&(t[f+1]=by(t[f+1],r)),t[a+1]=function CY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ig(a,0),0!==a&&(t[a+1]=by(t[a+1],r)),a=r;else t[r+1]=Ig(c,0),0===a?a=r:t[c+1]=by(t[c+1],r),c=r;l&&(t[r+1]=Iy(t[r+1])),QS(t,u,r,!0),QS(t,u,r,!1),function bY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ol(s,e)>=0&&(n[r+1]=wy(n[r+1]))}(e,u,t,r,s),o=Ig(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ke&&gr(i,o,e)&&function aD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function xY(t){return 1==(1&t)}(l)?cD(c,e,n,i,Ha(l),o):void 0;bg(u)||(bg(s)||function EY(t){return 2==(2&t)}(l)&&(s=cD(c,null,n,i,a,o)),function yq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Vo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vo.Important),t.setStyle(n,r,i,s))}}(r,o,Sp(Sr(),n),i,s))}(s,s.data[Sr()],i,i[qe],t,i[o+1]=function zY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Dn(ci(t)))),t}(e,n),r,o)}(t,e,null,!0),lf}function Ay(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=uf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ai(t,o,!!n||e[++s]))}return void 0===t?null:t}function cD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ke&&(f=d?vt:void 0);let h=d?ov(f,r):u===r?f:void 0;if(l&&!bg(h)&&(h=ov(c,r)),bg(h)&&(a=h,o))return a;const p=t[i+1];i=o?Ho(p):Ha(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=ov(c,r))}return a}function bg(t){return void 0!==t}function K(t,e=""){const n=ee(),r=ht(),i=t+st,s=r.firstCreatePass?El(r,i,1,e,null):r.data[i],o=uD(r,n,s,e,t);n[i]=o,Dp()&&Qp(r,n,o,s),fs(s,!1)}let uD=(t,e,n,r,i)=>(Fo(!0),function qp(t,e){return t.createText(e)}(e[qe],r));function ot(t){return za("",t,""),ot}function za(t,e,n){const r=ee(),i=xl(r,t,e,n);return i!==Ke&&function Zs(t,e,n){const r=Sp(e,t);!function R5(t,e,n){t.setValue(e,n)}(t[qe],r,n)}(r,Sr(),i),za}function Ty(t,e,n){const r=ee();return gr(r,Jc(),e)&&li(ht(),sn(),r,t,e,r[qe],n,!0),Ty}const Ua=void 0;var lQ=["en",[["a","p"],["AM","PM"],Ua],[["AM","PM"],Ua,Ua],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ua,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ua,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ua,"{1} 'at' {0}",Ua],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ml={};function Mr(t){const e=function uQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=PD(e);if(n)return n;const r=e.split("-")[0];if(n=PD(r),n)return n;if("en"===r)return lQ;throw new re(701,!1)}function PD(t){return t in Ml||(Ml[t]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[t]),Ml[t]}var zt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(zt||{});const kl="en-US";let RD=kl;function Py(t,e,n,r,i){if(t=je(t),Array.isArray(t))for(let s=0;s<t.length;s++)Py(t[s],e,n,r,i);else{const s=ht(),o=ee(),a=Jn();let c=La(t)?t:je(t.provide);const l=dT(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(La(t)||!t.multi){const h=new Nd(l,i,te),p=My(c,e,i?u:u+f,d);-1===p?(rv(Np(a,o),s,c),Ry(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=My(c,e,u+f,d),p=My(c,e,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){rv(Np(a,o),s,c);const D=function cX(t,e,n,r,i){const s=new Nd(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,n7(s,i,r&&!n),s}(i?aX:oX,n.length,i,r,l);!i&&m&&(n[p].providerFactory=D),Ry(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else Ry(s,t,h>-1?h:p,n7(n[i?p:h],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ry(t,e,n,r){const i=La(e),s=function Jq(t){return!!t.useClass}(e);if(i||s){const c=(s?je(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function n7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function My(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oX(t,e,n,r){return ky(this.multi,[])}function aX(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Oa(n,n[Ae],this.providerFactory.index,r);s=a.slice(0,o),ky(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ky(i,s);return s}function ky(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function sX(t,e,n){const r=ht();if(r.firstCreatePass){const i=Ui(t);Py(n,r.data,r.blueprint,i,!0),Py(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ja{}class r7{}class Ny extends ja{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dS(this);const i=si(e);this._bootstrapComponents=Js(i.bootstrap),this._r3Injector=wT(e,n,[{provide:ja,useValue:this},{provide:Qd,useValue:this.componentFactoryResolver},...r],Dn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Oy extends r7{constructor(e){super(),this.moduleType=e}create(e){return new Ny(this.moduleType,e,[])}}class i7 extends ja{constructor(e){super(),this.componentFactoryResolver=new dS(this),this.instance=null;const n=new fl([...e.providers,{provide:ja,useValue:this},{provide:Qd,useValue:this.componentFactoryResolver}],e.parent||ig(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function s7(t,e,n=null){return new i7({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let dX=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=aT(0,r.type),s=i.length>0?s7([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(Re(Ai))}),e})();function o7(t){t.getStandaloneInjector=e=>e.get(dX).getOrCreateStandaloneInjector(t)}function Mt(t,e,n,r){return g7(ee(),Tr(),t,e,n,r)}function p7(t,e,n,r,i,s,o,a){const c=Tr()+t,l=ee(),u=function Ti(t,e,n,r,i,s){const o=Ba(t,e,n,r);return Ba(t,e+2,i,s)||o}(l,c,n,r,i,s);return gr(l,c+4,o)||u?vs(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):nf(l,c+5)}function mf(t,e){const n=t[e];return n===Ke?void 0:n}function g7(t,e,n,r,i,s){const o=e+n;return gr(t,o,i)?vs(t,o+1,s?r.call(s,i):r(i)):mf(t,o+1)}function _7(t,e,n,r,i,s,o,a){const c=e+n;return function yg(t,e,n,r,i){const s=Ba(t,e,n,r);return gr(t,e+2,i)||s}(t,c,i,s,o)?vs(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):mf(t,c+3)}function Wt(t,e){const n=ht();let r;const i=t+st;n.firstCreatePass?(r=function TX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ka(r.type)),a=$r(te);try{const c=kp(!1),l=s();return kp(c),function dY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{$r(a)}}function Si(t,e,n){const r=t+st,i=ee(),s=Qc(i,r);return _f(i,r)?g7(i,Tr(),e,s.transform,n,s):s.transform(n)}function Yr(t,e,n,r,i){const s=t+st,o=ee(),a=Qc(o,s);return _f(o,s)?_7(o,Tr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function _f(t,e){return t[Ae].data[e].pure}function RX(){return this._results[Symbol.iterator]()}class Vy{get changes(){return this._changes||(this._changes=new Pt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Vy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function bi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function xG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function kX(t,e,n,r=!0){const i=e[Ae];if(function dq(t,e,n,r){const i=Qn+r,s=n.length;r>0&&(n[i-1][zi]=e),r<s-Qn?(e[zi]=n[i],a5(n,Qn+r,e)):(n.push(e),e[zi]=null),e[Jt]=n;const o=e[Td];null!==o&&n!==o&&function fq(t,e){const n=t[Kc];e[_n]!==e[Jt][Jt][_n]&&(t[aA]=!0),null===n?t[Kc]=[e]:n.push(e)}(o,e);const a=e[ls];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const s=xv(n,t),o=e[qe],a=Yp(o,t[us]);null!==a&&function cq(t,e,n,r,i,s){r[cn]=i,r[hr]=e,$d(t,r,n,1,i,s)}(i,t[hr],o,e,a,s)}}let eo=(()=>{class e{}return e.__NG_ELEMENT_ID__=FX,e})();const NX=eo,OX=class extends NX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function MX(t,e,n,r){const i=e.tView,a=hg(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Td]=t[e.index];const l=t[ls];return null!==l&&(a[ls]=l.createEmbeddedView(i)),fy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new ef(i)}};function FX(){return Dg(Jn(),ee())}function Dg(t,e){return 4&t.type?new OX(e,t,ml(t,e)):null}let qi=(()=>{class e{}return e.__NG_ELEMENT_ID__=UX,e})();function UX(){return A7(Jn(),ee())}const jX=qi,b7=class extends jX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Op(this._hostTNode,this._hostLView);if(ev(e)){const n=Fd(e,this._hostLView),r=Od(e);return new Pr(n[Ae].data[r+8],n)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=w7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Ld(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new tf(ft(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?l:this.parentInjector).get(Ai,null);m&&(s=m)}ft(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function V$(t){return Ir(t[Jt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Jt],u=new b7(l,l[hr],l[Jt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return kX(a,i,o,!r),e.attachToViewContainerRef(),a5(Ly(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=w7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Kp(this._lContainer,n);r&&(Lp(Ly(this._lContainer),n),vv(r[Ae],r))}detach(e){const n=this._adjustIndex(e,-1),r=Kp(this._lContainer,n);return r&&null!=Lp(Ly(this._lContainer),n)?new ef(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function w7(t){return t[8]}function Ly(t){return t[8]||(t[8]=[])}function A7(t,e){let n;const r=e[t.index];return Ir(r)?n=r:(n=ZT(r,e,null,t),e[t.index]=n,pg(e,n)),T7(n,e,t,r),new b7(n,t,e)}let T7=function S7(t,e,n,r){if(t[us])return;let i;i=8&n.type?Bt(r):function $X(t,e){const n=t[qe],r=n.createComment(""),i=qr(e,t);return Fa(n,Yp(n,i),r,function mq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[us]=i};class By{constructor(e){this.queryList=e,this.matches=null}clone(){return new By(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Hy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==N7(e,n).matches&&this.queries[n].setDirty()}}class D7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class zy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new zy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Uy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Uy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,WX(n,s)),this.matchTNodeWithReadOption(e,n,Fp(n,e,s,!1,!1))}else r===eo?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rr||i===qi||i===eo&&4&n.type)this.addMatch(n.index,-2);else{const s=Fp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function WX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function YX(t,e,n,r){return-1===n?function KX(t,e){return 11&t.type?ml(t,e):4&t.type?Dg(t,e):null}(e,t):-2===n?function QX(t,e,n){return n===Rr?ml(e,t):n===eo?Dg(e,t):n===qi?A7(e,t):void 0}(t,e,r):Oa(t,t[Ae],n,e)}function P7(t,e,n,r){const i=e[ls].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:YX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function jy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=P7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Qn;d<u.length;d++){const f=u[d];f[Td]===f[Jt]&&jy(f[Ae],f,l,r)}if(null!==u[Kc]){const d=u[Kc];for(let f=0;f<d.length;f++){const h=d[f];jy(h[Ae],h,l,r)}}}}}return r}function Qr(t){const e=ee(),n=ht(),r=HA();Y_(r+1);const i=N7(n,r);if(t.dirty&&function O$(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?jy(n,e,r,[]):P7(n,e,i,r);t.reset(s,yW),t.notifyOnChanges()}return!0}return!1}function ui(t,e,n){const r=ht();r.firstCreatePass&&(function k7(t,e,n){null===t.queries&&(t.queries=new zy),t.queries.track(new Uy(e,n))}(r,new D7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function M7(t,e,n){const r=new Vy(4==(4&n));(function JW(t,e,n,r){const i=tS(e);i.push(n),t.firstCreatePass&&nS(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ls]&&(e[ls]=new Hy),e[ls].queries.push(new By(r))}(r,ee(),e)}function Xr(){return function XX(t,e){return t[ls].queries[e].queryList}(ee(),HA())}function N7(t,e){return t.queries.getByIndex(e)}const X7=new Ie("Application Initializer");let Yy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=$(X7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(cf(o))r.push(o);else if(OS(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),J7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const to=new Ie("LocaleId",{providedIn:"root",factory:()=>$(to,lt.Optional|lt.SkipSelf)||function EJ(){return typeof $localize<"u"&&$localize.locale||kl}()});let Mg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ei(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class IJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let bJ=(()=>{var t;class e{compileModuleSync(r){return new Oy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Js(si(r).declarations).reduce((a,c)=>{const l=ft(c);return l&&a.push(new tf(l)),a},[]);return new IJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const nP=new Ie(""),Ng=new Ie("");let e4,Jy=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e4||(function qJ(t){e4=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(mt),Re(Zy),Re(Ng))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})(),Zy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return e4?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),zo=null;const rP=new Ie("AllowMultipleToken"),t4=new Ie("PlatformDestroyListeners"),iP=new Ie("appBootstrapListener");function aP(t,e,n=[]){const r=`Platform: ${e}`,i=new Ie(r);return(s=[])=>{let o=n4();if(!o||o.injector.get(rP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function YJ(t){if(zo&&!zo.get(rP,!1))throw new re(400,!1);(function sP(){!function x$(t){yA=t}(()=>{throw new re(600,!1)})})(),zo=t;const e=t.get(lP);(function oP(t){t.get(fT,null)?.forEach(n=>n())})(t)}(function cP(t=[],e){return Mn.create({name:e,providers:[{provide:Nv,useValue:"platform"},{provide:t4,useValue:new Set([()=>zo=null])},...t]})}(a,r))}return function XJ(t){const e=n4();if(!e)throw new re(401,!1);return e}()}}function n4(){return zo?.get(lP)??null}let lP=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function JJ(t="zone.js",e){return"noop"===t?new kW:"zone.js"===t?new mt(e):t}(i?.ngZone,function uP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function uX(t,e,n){return new Ny(t,e,n)}(r.moduleType,this.injector,function gP(t){return[{provide:mt,useFactory:t},{provide:Wd,multi:!0,useFactory:()=>{const e=$(eZ,{optional:!0});return()=>e.initialize()}},{provide:pP,useFactory:ZJ},{provide:PT,useFactory:RT}]}(()=>s)),a=o.injector.get(Xs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Og(this._modules,o),c.unsubscribe()})}),function dP(t,e,n){try{const r=n();return cf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Yy);return c.runInitializers(),c.donePromise.then(()=>(function MD(t){xi(t,"Expected localeId to be defined"),"string"==typeof t&&(RD=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(to,kl)||kl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=fP({},i);return function WJ(t,e,n){const r=new Oy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Ef);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(t4,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Mn))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function fP(t,e){return Array.isArray(e)?e.reduce(fP,t):{...t,...e}}let Ef=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(pP),this.zoneIsStable=$(PT),this.componentTypes=[],this.components=[],this.isStable=$(Mg).hasPendingTasks.pipe(Ci(r=>r?Be(!1):this.zoneIsStable),Vw(),Fw()),this._injector=$(Ai)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof _T;if(!this._injector.get(Yy).done)throw!s&&function jc(t){const e=ft(t)||Yn(t)||xr(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(Qd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function KJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ja),u=a.create(Mn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(nP,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Og(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Og(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(iP,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Og(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Og(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pP=new Ie("",{providedIn:"root",factory:()=>$(Xs).handleError.bind(void 0)});function ZJ(){const t=$(mt),e=$(Xs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let eZ=(()=>{var t;class e{constructor(){this.zone=$(mt),this.applicationRef=$(Ef)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Cs=(()=>{class e{}return e.__NG_ELEMENT_ID__=rZ,e})();function rZ(t){return function iZ(t,e,n){if(Ma(t)&&!n){const r=oi(t.index,e);return new ef(r,r)}return 47&t.type?new ef(e[_n],e):null}(Jn(),ee(),16==(16&t))}class yP{constructor(){}supports(e){return vg(e)}create(e){return new uZ(e)}}const lZ=(t,e)=>e;class uZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lZ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<CP(r,i,s)?n:r,a=CP(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!vg(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function $K(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new dZ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dZ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new fZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xP{constructor(){}supports(e){return e instanceof Map||hy(e)}create(){return new hZ}}class hZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||hy(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new pZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class pZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IP(){return new Lg([new yP])}let Lg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||IP()),deps:[[e,new cv,new Ht]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:IP}),e})();function bP(){return new Cf([new xP])}let Cf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||bP()),deps:[[e,new cv,new Ht]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:bP}),e})();const _Z=aP(null,"core",[]);let vZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Ef))},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})();let c4=null;function Uo(){return c4}class RZ{}const Zr=new Ie("DocumentToken");let kP=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return $(MZ)},providedIn:"platform"}),e})(),MZ=(()=>{var t;class e extends kP{constructor(){super(),this._doc=$(Zr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uo().getBaseHref(this._doc)}onPopState(r){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function NP(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function OP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ga(t){return t&&"?"!==t[0]?"?"+t:t}let Hg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return $(NZ)},providedIn:"root"}),e})();const kZ=new Ie("appBaseHref");let NZ=(()=>{var t;class e extends Hg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$(Zr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return NP(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ga(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Ga(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Ga(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(kP),Re(kZ,8))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),l4=(()=>{var t;class e{constructor(r){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function VZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(OP(FP(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ga(i))}normalize(r){return e.stripTrailingSlash(function FZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,FP(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ga(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ga(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Ga,t.joinWithSlash=NP,t.stripTrailingSlash=OP,t.\u0275fac=function(r){return new(r||t)(Re(Hg))},t.\u0275prov=Ce({token:t,factory:function(){return function OZ(){return new l4(Re(Hg))}()},providedIn:"root"}),e})();function FP(t){return t.replace(/\/index.html$/,"")}var zg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(zg||{}),vn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(vn||{});function Di(t,e){const n=Mr(t),r=n[zt.NumberSymbols][e];if(typeof r>"u"){if(e===vn.CurrencyDecimal)return n[zt.NumberSymbols][vn.Decimal];if(e===vn.CurrencyGroup)return n[zt.NumberSymbols][vn.Group]}return r}const uee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function GP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const y4=/\s+/,qP=[];let E4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=qP,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(y4):qP}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(y4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(y4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Lg),te(Cf),te(Rr),te(ms))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class xee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new xee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),KP(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{KP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(qi),te(eo),te(Lg))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function KP(t,e){t.context.$implicit=e.item}let Ki=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Iee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){YP("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){YP("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(qi),te(eo))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Iee{constructor(){this.$implicit=null,this.ngIf=null}}function YP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Dn(e)}'.`)}function Yi(t,e){return new re(2100,!1)}class Aee{createSubscription(e,n){return xA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){xA(()=>e.unsubscribe())}}class Tee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const See=new Tee,Dee=new Aee;let bf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(cf(r))return See;if(OS(r))return Dee;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Cs,16))},t.\u0275pipe=Kn({name:"async",type:t,pure:!1,standalone:!0}),e})(),XP=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=JP}transform(r,i=JP){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Uee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Cf,16))},t.\u0275pipe=Kn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function JP(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Qi=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function I4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function mee(t,e,n){return function g4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function vee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function _ee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const b=s.match(uee);if(null===b)throw new Error(`${s} is not a valid digit info`);const G=b[1],Q=b[3],pe=b[5];null!=G&&(u=_4(G)),null!=Q&&(d=_4(Q)),null!=pe?f=_4(pe):null!=Q&&d>f&&(f=d)}!function yee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?m=h.splice(p,h.length):(m=h,h=[0]);const D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(Di(n,r)),m.length&&(a+=Di(n,i)+m.join("")),g&&(a+=Di(n,vn.Exponential)+"+"+g)}else a=Di(n,vn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function m4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function u4(t,e){return Mr(t)[zt.NumberFormats][e]}(e,zg.Decimal),Di(e,vn.MinusSign)),e,vn.Group,vn.Decimal,n)}(function b4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Yi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(to,16))},t.\u0275pipe=Kn({name:"number",type:t,pure:!0,standalone:!0}),e})();let Gee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})();const qee="server";function w4(t){return t===qee}class eR{}class vte extends RZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S4 extends vte{static makeCurrent(){!function PZ(t){c4||(c4=t)}(new S4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function yte(){return Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null}();return null==n?null:function Ete(t){e1=e1||document.createElement("a"),e1.setAttribute("href",t);const e=e1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return GP(document.cookie,e)}}let e1,Af=null,xte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const D4=new Ie("EventManagerPlugins");let sR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(D4),Re(mt))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class oR{constructor(e){this._doc=e}}const P4="ng-app-id";let aR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=w4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${P4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(P4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(P4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr),Re(sg),Re(hT,8),Re(gs))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const R4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M4=/%COMP%/g,Ate=new Ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function lR(t,e){return e.map(n=>n.replace(M4,t))}let uR=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=w4(c),this.defaultRenderer=new k4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bi.ShadowDom&&(i={...i,encapsulation:Bi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof fR?s.applyToHost(r):s instanceof N4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Bi.Emulated:o=new fR(l,u,i,this.appId,d,a,c,f);break;case Bi.ShadowDom:return new Pte(l,u,r,i,a,c,this.nonce,f);default:o=new N4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(sR),Re(aR),Re(sg),Re(Ate),Re(Zr),Re(gs),Re(mt),Re(hT))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class k4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(R4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=R4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=R4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vo.DashCase|Vo.Important)?e.style.setProperty(n,r,i&Vo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Uo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function dR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Pte extends k4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=lR(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class N4 extends k4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?lR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fR extends N4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function Tte(t){return"_ngcontent-%COMP%".replace(M4,t)}(l),this.hostAttr=function Ste(t){return"_nghost-%COMP%".replace(M4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Rte=(()=>{var t;class e extends oR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const hR=["alt","control","meta","shift"],Mte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Nte=(()=>{var t;class e extends oR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),hR.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Mte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),hR.forEach(a=>{a!==s&&(0,kte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const gR=[{provide:gs,useValue:"browser"},{provide:fT,useValue:function Ote(){S4.makeCurrent()},multi:!0},{provide:Zr,useFactory:function Vte(){return function bq(t){wv=t}(document),document},deps:[]}],Lte=aP(_Z,"browser",gR),Bte=new Ie(""),mR=[{provide:Ng,useClass:class Cte{addToWindow(e){Lt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Lt.getAllAngularRootElements=()=>e.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(r=>{const i=Lt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Uo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:nP,useClass:Jy,deps:[mt,Zy,Ng]},{provide:Jy,useClass:Jy,deps:[mt,Zy,Ng]}],_R=[{provide:Nv,useValue:"root"},{provide:Xs,useFactory:function Fte(){return new Xs},deps:[]},{provide:D4,useClass:Rte,multi:!0,deps:[Zr,mt,gs]},{provide:D4,useClass:Nte,multi:!0,deps:[Zr]},uR,aR,sR,{provide:yT,useExisting:uR},{provide:eR,useClass:xte,deps:[]},[]];let Or=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:sg,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Bte,12))},t.\u0275mod=wt({type:t}),t.\u0275inj=It({providers:[..._R,...mR],imports:[Gee,vZ]}),e})(),O4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function zte(){return new O4(Re(Zr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let ER=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new(r||t):Re(CR),i},providedIn:"root"}),e})(),CR=(()=>{var t;class e extends ER{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case wi.NONE:return i;case wi.HTML:return ps(i,"HTML")?ci(i):eT(this._doc,String(i)).toString();case wi.STYLE:return ps(i,"Style")?ci(i):i;case wi.SCRIPT:if(ps(i,"Script"))return ci(i);throw new re(5200,!1);case wi.URL:return ps(i,"URL")?ci(i):eg(String(i));case wi.RESOURCE_URL:if(ps(i,"ResourceURL"))return ci(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function Rq(t){return new wq(t)}(r)}bypassSecurityTrustStyle(r){return function Mq(t){return new Aq(t)}(r)}bypassSecurityTrustScript(r){return function kq(t){return new Tq(t)}(r)}bypassSecurityTrustUrl(r){return function Nq(t){return new Sq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function Oq(t){return new Dq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Gte(t){return new CR(t.get(Zr))}(Re(Mn)),i},providedIn:"root"}),e})();class V4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class IR{constructor(){this._orbit=0,this._ground=0,this._workers=new V4,this._soldiers=new V4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class L4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let qte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new IR,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new L4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class B4{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new V4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var er=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(er||{});class Wte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class $o{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var jt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(jt||{});class bR{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Kte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new B4,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=er.RESOURCE;break;case 1:s=er.SURFACE;break;case 2:s=er.FLEET;break;default:s=er.UNKNOWN}});let o=new Wte(r,s);if(s!==er.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new bR(c.split("Owner:")[1].trim(),""):new bR("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===er.RESOURCE||s===er.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===er.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new L4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===er.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new L4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new $o(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case jt.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case jt.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case jt.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case jt.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case jt.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case jt.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case jt.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case jt.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case jt.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case jt.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case jt.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case jt.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case jt.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Yte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new IR;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class wR{constructor(){this._ships=[],this._hostile=!1,this._allied=!1,this._friendly=!1,this._score=0}get id(){return this._id}set id(e){this._id=e}get score(){return this._score}set score(e){this._score=e}get hostile(){return this._hostile}set hostile(e){this._hostile=e}get allied(){return this._allied}set allied(e){this._allied=e}get friendly(){return this._friendly}set friendly(e){this._friendly=e}get ships(){return this._ships}set ships(e){this._ships=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get eta(){return this._eta}set eta(e){this._eta=e}toJSON(){return{eta:this.eta,alliance:this.alliance,owner:this.owner,ships:this.ships,hostile:this.hostile,allied:this.allied,friendly:this.friendly,score:this.score,id:this.id}}}var ve=function(t){return t.FIGHTER="fighter",t.BOMBER="bomber",t.FRIGATE="frigate",t.DESTROYER="destroyer",t.CRUISER="cruiser",t.BATTLESHIP="battleship",t}(ve||{}),qa=function(t){return t[t.FIGHTER=.24]="FIGHTER",t[t.BOMBER=.7200000000000001]="BOMBER",t[t.FRIGATE=2.8800000000000003]="FRIGATE",t[t.DESTROYER=12]="DESTROYER",t[t.CRUISER=25.200000000000003]="CRUISER",t[t.BATTLESHIP=144]="BATTLESHIP",t}(qa||{});let Jte=(()=>{var t;class e{extract(){let r=[];return document.querySelector("#planet-scan-additional")&&document.querySelectorAll("#planet-scan-additional .dgt-fleet").forEach(s=>{let o=new wR;const a=s.attributes.getNamedItem("dgt-fleet-id");if(null!=a&&(o.id=a.value),o.friendly=!!s.querySelector("span.friendly"),o.allied=!!s.querySelector("span.allied"),o.hostile=!!s.querySelector("span.hostile"),o.owner=s.querySelector(".playerName").textContent.toLowerCase().trim(),s.querySelector(".allianceName")&&(o.alliance=s.querySelector(".allianceName").textContent.toLowerCase().trim().replace(/\[/g,"").replace(/]/g,"")),null!=s.querySelector(".ofHidden:first-child > .right")){const l=s.querySelector(".ofHidden:first-child > .right").textContent.trim().match(/\d+/)||[];o.eta=l.length>0?parseInt(l[0]):0}else o.eta=0;let c=s.querySelectorAll("table tr:not(.dgt-empty-fleet-row)");c.length>0&&(c.forEach(l=>{let u=l.querySelector("td:first-child").textContent.trim().toLowerCase(),d=parseInt(l.querySelector("td:last-child").textContent.trim().match(/\d+/)[0]);if(Object.values(ve).includes(u))switch(o.ships.push(new $o(u,d)),u){case ve.FIGHTER:o.score+=d*qa.FIGHTER;break;case ve.BOMBER:o.score+=d*qa.BOMBER;break;case ve.FRIGATE:o.score+=d*qa.FRIGATE;break;case ve.DESTROYER:o.score+=d*qa.DESTROYER;break;case ve.CRUISER:o.score+=d*qa.CRUISER;break;case ve.BATTLESHIP:o.score+=d*qa.BATTLESHIP}}),o.ships.length>0&&r.push(o))}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Ll;class Ri{constructor(){this.planetListExtractor=$(qte),this.planetScanExtractor=$(Kte),this.navigationSystemPlanetsExtractor=$(Yte),this.fleetScanExtractor=$(Jte),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}fleetScan(){return this.fleetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getCountDownMinutes(){return parseInt(document.querySelector("#countdownField").textContent.trim().split(/:/)[0])}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function Tf(t){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ct(t,e,n){return(e=function ene(t){var e=function Zte(t,e){if("object"!==Tf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AR(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){AR(s,r,i,o,a,"next",c)}function a(c){AR(s,r,i,o,a,"throw",c)}o(void 0)})}}(Ll=Ri).\u0275fac=function(e){return new(e||Ll)},Ll.\u0275prov=Ce({token:Ll,factory:Ll.\u0275fac,providedIn:"platform"}),qt([ur(0,Ht())],Ri.prototype,"username",null);const TR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new ine;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ine extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t1=function(t){return function(t){const e=TR(t);return z4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},n1=function(t){try{return z4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r1=()=>{try{return DR().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},PR=t=>{var e,n;return null===(n=null===(e=r1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},RR=()=>{var t;return null===(t=r1())||void 0===t?void 0:t.config},MR=t=>{var e;return null===(e=r1())||void 0===e?void 0:e[`_${t}`]};class Bl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ln(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Sf(){try{return"object"==typeof indexedDB}catch{return!1}}function j4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function kR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function _ne(t,e){return t.replace(vne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const vne=/\{\$([^}]+)}/g;function Df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(OR(s)&&OR(o)){if(!Df(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function OR(t){return null!==t&&"object"==typeof t}function Pf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Cne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function xne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=$4),void 0===i.error&&(i.error=$4),void 0===i.complete&&(i.complete=$4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $4(){}const Ine=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},bne=1e3,wne=2,Ane=144e5,Tne=.5;function q4(t,e=bne,n=wne){const r=e*Math.pow(n,t),i=Math.round(Tne*r*(Math.random()-.5)*2);return Math.min(Ane,r+i)}function un(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class Dne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Rne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Wa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const W4=[];var ut=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ut||{});const FR={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},kne=ut.INFO,Nne={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},One=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Nne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class kf{constructor(e){this.name=e,this._logLevel=kne,this._logHandler=One,this._userLogHandler=null,W4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const Fne=(t,e)=>e.some(n=>t instanceof n);let VR,LR;const BR=new WeakMap,K4=new WeakMap,HR=new WeakMap,Y4=new WeakMap,Q4=new WeakMap;let X4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return K4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||HR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function jne(t){return"function"==typeof t?function Une(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lne(){return LR||(LR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(J4(this),e),qo(BR.get(this))}:function(...e){return qo(t.apply(J4(this),e))}:function(e,...n){const r=t.call(J4(this),e,...n);return HR.set(r,e.sort?e.sort():[e]),qo(r)}}(t):(t instanceof IDBTransaction&&function Hne(t){if(K4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});K4.set(t,e)}(t),Fne(t,function Vne(){return VR||(VR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,X4):t)}function qo(t){if(t instanceof IDBRequest)return function Bne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BR.set(n,t)}).catch(()=>{}),Q4.set(e,t),e}(t);if(Y4.has(t))return Y4.get(t);const e=jne(t);return e!==t&&(Y4.set(t,e),Q4.set(e,t)),e}const J4=t=>Q4.get(t),Gne=["get","getKey","getAll","getAllKeys","count"],qne=["put","add","delete","clear"],Z4=new Map;function zR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Z4.get(e))return Z4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gne.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Z4.set(e,s),s}!function zne(t){X4=t(X4)}(t=>({...t,get:(e,n,r)=>zR(e,n)||t.get(e,n,r),has:(e,n)=>!!zR(e,n)||t.has(e,n)}));class Wne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Kne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const e6="@firebase/app",Ka=new kf("@firebase/app"),s1="[DEFAULT]",Ere={[e6]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ya=new Map,o1=new Map;function Cre(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){const e=t.name;if(o1.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,t);for(const n of Ya.values())Cre(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const io=new Go("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ire{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}const Hl="10.5.2";function jR(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:s1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw io.create("bad-app-name",{appName:String(i)});if(n||(n=RR()),!n)throw io.create("no-options");const s=Ya.get(i);if(s){if(Df(n,s.options)&&Df(r,s.config))return s;throw io.create("duplicate-app",{appName:i})}const o=new Mne(i);for(const c of o1.values())o.addComponent(c);const a=new Ire(n,r,o);return Ya.set(i,a),a}function zl(t=s1){const e=Ya.get(t);if(!e&&t===s1&&RR())return jR();if(!e)throw io.create("no-app",{appName:t});return e}function $R(){return Array.from(Ya.values())}function dn(t,e,n){var r;let i=null!==(r=Ere[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ka.warn(a.join(" "))}Mi(new fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const bre="firebase-heartbeat-database",wre=1,Nf="firebase-heartbeat-store";let n6=null;function GR(){return n6||(n6=function $ne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qo(o.result),c.oldVersion,c.newVersion,qo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(bre,wre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Nf)}}).catch(t=>{throw io.create("idb-open",{originalErrorMessage:t.message})})),n6}function r6(){return(r6=y(function*(t){try{return yield(yield GR()).transaction(Nf).objectStore(Nf).get(WR(t))}catch(e){if(e instanceof Xi)Ka.warn(e.message);else{const n=io.create("idb-get",{originalErrorMessage:e?.message});Ka.warn(n.message)}}})).apply(this,arguments)}function qR(t,e){return i6.apply(this,arguments)}function i6(){return(i6=y(function*(t,e){try{const r=(yield GR()).transaction(Nf,"readwrite");yield r.objectStore(Nf).put(e,WR(t)),yield r.done}catch(n){if(n instanceof Xi)Ka.warn(n.message);else{const r=io.create("idb-set",{originalErrorMessage:n?.message});Ka.warn(r.message)}}})).apply(this,arguments)}function WR(t){return`${t.name}!${t.options.appId}`}class Dre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=KR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=KR(),{heartbeatsToSend:r,unsentEntries:i}=function Pre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=t1(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function KR(){return(new Date).toISOString().substring(0,10)}class Rre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Sf()&&j4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Are(t){return r6.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function YR(t){return t1(JSON.stringify({version:2,heartbeats:t})).length}!function Mre(t){Mi(new fi("platform-logger",e=>new Wne(e),"PRIVATE")),Mi(new fi("heartbeat",e=>new Dre(e),"PRIVATE")),dn(e6,"0.9.22",t),dn(e6,"0.9.22","esm2017"),dn("fire-js","")}(""),dn("firebase","10.5.2","app");class Ore extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const a1={setInterval(t,e,...n){const{delegate:r}=a1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=a1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class QR extends Ore{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return a1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&a1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,j(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const XR={now:()=>(XR.delegate||Date).now(),delegate:void 0};class Of{constructor(e,n=Of.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Of.now=XR.now;class JR extends Of{constructor(e,n=Of.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Lre=new class Vre extends JR{}(class Fre extends QR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Bre=new JR(QR);function tr(t,e,n){const r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?Le((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ee}const Wo=new _l("ANGULARFIRE2_VERSION");function c1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const l1=(t,e)=>{const n=e?[e]:$R(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class s6{constructor(){return l1(ZR)}}const ZR="app-check";function Ul(){}class eM{constructor(e,n=Lre){Ct(this,"zone",void 0),Ct(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class zre{constructor(e){Ct(this,"zone",void 0),Ct(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ul,{},Ul,Ul)),n.pipe(tr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ff=(()=>{var t;class e{constructor(r){Ct(this,"ngZone",void 0),Ct(this,"outsideAngular",void 0),Ct(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new eM(Zone.current)),this.insideAngular=r.run(()=>new eM(Zone.current,Bre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(mt))}),Ct(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function jl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Qa(t){return jl().ngZone.run(()=>t())}function jre(t){return function $re(t){return function(n){return(n=n.lift(new zre(t.ngZone))).pipe(hp(t.outsideAngular),fp(t.insideAngular))}}(jl())(t)}const Gre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Qa(()=>t.apply(void 0,r))},bn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Qa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ul,{},Ul,Ul))),r[s]=Gre(r[s],n));const i=function Ure(t){return jl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof he){const s=jl();return i.pipe(hp(s.outsideAngular),fp(s.insideAngular))}return Qa(()=>i)}return i instanceof he?i.pipe(jre):i instanceof Promise?Qa(()=>new Promise((s,o)=>i.then(a=>Qa(()=>s(a)),a=>Qa(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Qa(()=>i)};class Xa{constructor(e){return e}}class Vf{constructor(){return $R()}}const o6=new Ie("angularfire2._apps"),Wre={provide:Xa,useFactory:function qre(t){return t&&1===t.length?t[0]:new Xa(zl())},deps:[[new Ht,o6]]},Kre={provide:Vf,deps:[[new Ht,o6]]};function Yre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xa(r)}}let Qre=(()=>{var t;class e{constructor(r){dn("angularfire",Wo.full,"core"),dn("angularfire",Wo.full,"app"),dn("angular",ET.full,r.toString())}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(gs))}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[Wre,Kre]})),e})();function so(t,...e){return{ngModule:Qre,providers:[{provide:o6,useFactory:Yre(t),multi:!0,deps:[mt,Mn,Ff,...e]}]}}const oo=bn(zl,!0),ao=bn(jR,!0);const Xre=function tM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nM=new Go("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u1=new kf("@firebase/auth");function d1(t,...e){u1.logLevel<=ut.ERROR&&u1.error(`Auth (${Hl}): ${t}`,...e)}function ei(t,...e){throw a6(t,...e)}function hi(t,...e){return a6(t,...e)}function rM(t,e,n){const r=Object.assign(Object.assign({},Xre()),{[e]:n});return new Go("auth","Firebase",r).create(e,{appName:t.name})}function a6(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nM.create(t,...e)}function me(t,e,...n){if(!t)throw a6(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d1(e),new Error(e)}function co(t,e){t||Is(e)}function Lf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function iM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,co(n>e,"Short delay should be less than long delay!"),this.isMobile=function fne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}()||function pne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Zre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function c6(){return"http:"===iM()||"https:"===iM()}()||U4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function l6(t,e){co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nie=new Bf(3e4,6e4);function en(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function on(t,e,n,r){return u6.apply(this,arguments)}function u6(){return(u6=y(function*(t,e,n,r,i={}){return oM(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Pf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),sM.fetch()(aM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function oM(t,e,n){return d6.apply(this,arguments)}function d6(){return(d6=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tie),e);try{const i=new iie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Hf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Hf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Hf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Hf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rM(t,u,l);ei(t,u)}}catch(i){if(i instanceof Xi)throw i;ei(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function lo(t,e,n,r){return f6.apply(this,arguments)}function f6(){return(f6=y(function*(t,e,n,r,i={}){const s=yield on(t,e,n,r,i);return"mfaPendingCredential"in s&&ei(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function aM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?l6(t.config,i):`${t.config.apiScheme}://${i}`}function rie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),nie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hi(t,e,r);return i.customData._tokenResponse=n,i}function lM(t){return void 0!==t&&void 0!==t.enterprise}class uM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rie(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function dM(t,e){return p6.apply(this,arguments)}function p6(){return(p6=y(function*(t,e){return on(t,"GET","/v2/recaptchaConfig",en(t,e))})).apply(this,arguments)}function g6(){return(g6=y(function*(t,e){return on(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _6(){return(_6=y(function*(t,e){return on(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function zf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function v6(){return(v6=y(function*(t,e=!1){const n=un(t),r=yield n.getIdToken(e),i=f1(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:zf(y6(i.auth_time)),issuedAtTime:zf(y6(i.iat)),expirationTime:zf(y6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function y6(t){return 1e3*Number(t)}function f1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return d1("JWT malformed, contained fewer than 3 sections"),null;try{const i=n1(n);return i?JSON.parse(i):(d1("Failed to decode base64 JWT payload"),null)}catch(i){return d1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uo(t,e){return E6.apply(this,arguments)}function E6(){return(E6=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Xi&&function die({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class fie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class fM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zf(this.lastLoginAt),this.creationTime=zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Uf(t){return C6.apply(this,arguments)}function C6(){return C6=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield uo(t,function cie(t,e){return _6.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function gie(t){return t.map(e=>{var{providerId:n}=e,r=lr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function pie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),C6.apply(this,arguments)}function x6(){return(x6=y(function*(t){const e=un(t);yield Uf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function I6(){return(I6=y(function*(t,e){const n=yield oM(t,{},y(function*(){const r=Pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class jf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function uie(t){const e=f1(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function mie(t,e){return I6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jf;return r&&(me("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(me("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jf,this.toJSON())}_performRefresh(){return Is("not implemented")}}function Ko(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ja{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fM(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield uo(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function lie(t){return v6.apply(this,arguments)}(this,e)}reload(){return function hie(t){return x6.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ja(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Uf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield uo(e,function oie(t,e){return g6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(l=n.createdAt)&&void 0!==l?l:void 0,b=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:G,emailVerified:Q,isAnonymous:pe,providerData:Ne,stsTokenManager:Xe}=n;me(G&&Xe,e,"internal-error");const rn=jf.fromJSON(this.name,Xe);me("string"==typeof G,e,"internal-error"),Ko(d,e.name),Ko(f,e.name),me("boolean"==typeof Q,e,"internal-error"),me("boolean"==typeof pe,e,"internal-error"),Ko(h,e.name),Ko(p,e.name),Ko(g,e.name),Ko(m,e.name),Ko(D,e.name),Ko(b,e.name);const Vn=new Ja({uid:G,auth:e,email:f,emailVerified:Q,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:rn,createdAt:D,lastLoginAt:b});return Ne&&Array.isArray(Ne)&&(Vn.providerData=Ne.map(Ta=>Object.assign({},Ta))),m&&(Vn._redirectEventId=m),Vn}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new jf;i.updateFromServerResponse(n);const s=new Ja({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uf(s),s})()}}const hM=new Map;function fo(t){co(t instanceof Function,"Expected a class definition");let e=hM.get(t);return e?(co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hM.set(t,e),e)}const pM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function h1(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=h1(this.userKey,i.apiKey,s),this.fullPersistenceKey=h1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ja._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Gl(fo(pM),e,r);const i=(yield Promise.all(n.map(function(){var l=y(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||fo(pM);const o=h1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ja._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Gl(s,e,r)):new Gl(s,e,r)})()}}function gM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EM(e))return"Blackberry";if(CM(e))return"Webos";if(b6(e))return"Safari";if((e.includes("chrome/")||_M(e))&&!e.includes("edge/"))return"Chrome";if(yM(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function mM(t=Ln()){return/firefox\//i.test(t)}function b6(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _M(t=Ln()){return/crios\//i.test(t)}function vM(t=Ln()){return/iemobile/i.test(t)}function yM(t=Ln()){return/android/i.test(t)}function EM(t=Ln()){return/blackberry/i.test(t)}function CM(t=Ln()){return/webos/i.test(t)}function p1(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xM(t=Ln()){return p1(t)||yM(t)||CM(t)||EM(t)||/windows phone/i.test(t)||vM(t)}function IM(t,e=[]){let n;switch(t){case"Browser":n=gM(Ln());break;case"Worker":n=`${gM(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hl}/${r}`}class Eie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function w6(){return(w6=y(function*(t,e={}){return on(t,"GET","/v2/passwordPolicy",en(t,e))})).apply(this,arguments)}class Iie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class bie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bM(this),this.idTokenSubscription=new bM(this),this.beforeStateQueue=new Eie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=fo(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Gl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Uf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function eie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?un(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return y(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return y(function*(){const n=yield function Cie(t){return w6.apply(this,arguments)}(e),r=new Iie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&fo(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield Gl.create(n,[fo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Jre(t,...e){u1.logLevel<=ut.WARN&&u1.warn(`Auth (${Hl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function wn(t){return un(t)}class bM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ene(t,e){const n=new Cne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function A6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function wie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function wM(t){return`__${t}${Math.floor(1e6*Math.random())}`}class AM{constructor(e){this.type="recaptcha-enterprise",this.auth=wn(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(l,u){dM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new uM(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;lM(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&lM(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));A6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function TM(t,e,n){return T6.apply(this,arguments)}function T6(){return(T6=y(function*(t,e,n,r=!1){const i=new AM(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function S6(){return S6=y(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield TM(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=y(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield TM(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),S6.apply(this,arguments)}function SM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class P6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}function RM(t,e){return M6.apply(this,arguments)}function M6(){return(M6=y(function*(t,e){return on(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Fie(t,e){return N6.apply(this,arguments)}function N6(){return(N6=y(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithPassword",en(t,e))})).apply(this,arguments)}function H6(){return(H6=y(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithEmailLink",en(t,e))})).apply(this,arguments)}function z6(){return(z6=y(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithEmailLink",en(t,e))})).apply(this,arguments)}class $f extends P6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $f(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $f(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return function g1(t,e,n,r){return S6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fie);case"emailLink":return function zie(t,e){return H6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:ei(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return RM(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Uie(t,e){return z6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:ei(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ho(t,e){return U6.apply(this,arguments)}function U6(){return(U6=y(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithIdp",en(t,e))})).apply(this,arguments)}class ql extends P6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ql(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ho(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pf(n)}return e}}class qf{constructor(e){var n,r,i,s,o,a;const c=Rf(Mf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Yie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);me(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Qie(t){const e=Rf(Mf(t)).link,n=e?Rf(Mf(e)).deep_link_id:null,r=Rf(Mf(t)).deep_link_id;return(r?Rf(Mf(r)).link:null)||r||n||e||t}(e);try{return new qf(n)}catch{return null}}}let MM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $f._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=qf.parseLink(r);return me(i,"argument-error"),$f._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Yo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kM extends Yo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Xie=(()=>{class t extends kM{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ql._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield Ja._fromIdTokenResponse(e,r,i),o=OM(r);return new ki({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=OM(r);return new ki({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function OM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class v1 extends Xi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,v1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new v1(e,n,r,i)}}function FM(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?v1._fromErrorAndOperation(t,s,e,r):s})}function J6(){return(J6=y(function*(t,e,n=!1){const r=yield uo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ki._forOperation(t,"link",r)})).apply(this,arguments)}function e3(){return(e3=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield uo(t,FM(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=f1(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ki._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&ei(r,"user-mismatch"),s}})).apply(this,arguments)}function BM(t,e){return t3.apply(this,arguments)}function t3(){return(t3=y(function*(t,e,n=!1){const r="signIn",i=yield FM(t,r,e),s=yield ki._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function r3(){return(r3=y(function*(t,e){return BM(wn(t),e)})).apply(this,arguments)}function f3(){return(f3=y(function*(t){const e=wn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function ise(t,e,n){return function n3(t,e){return r3.apply(this,arguments)}(un(t),MM.credential(e,n)).catch(function(){var r=y(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function d3(t){return f3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const C1="__sak";class zM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(C1,"1"),this.storage.removeItem(C1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xse=(()=>{class t extends zM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yse(){const t=Ln();return b6(t)||p1(t)}()&&function yie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function vie(){return function gne(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),UM=(()=>{class t extends zM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let bse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=y(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function Ise(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function x1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class wse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=x1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function An(){return window}function N3(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function O3(){return(O3=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jM="firebaseLocalStorageDb",I1="firebaseLocalStorage",$M="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function b1(t,e){return t.transaction([I1],e?"readwrite":"readonly").objectStore(I1)}function F3(){const t=indexedDB.open(jM,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(I1,{keyPath:$M})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(I1)?e(r):(r.close(),yield function Rse(){const t=indexedDB.deleteDatabase(jM);return new Kf(t).toPromise()}(),e(yield F3()))}))})}function GM(t,e,n){return V3.apply(this,arguments)}function V3(){return(V3=y(function*(t,e,n){const r=b1(t,!0).put({[$M]:e,value:n});return new Kf(r).toPromise()})).apply(this,arguments)}function L3(){return(L3=y(function*(t,e){const n=b1(t,!1).get(e),r=yield new Kf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qM(t,e){const n=b1(t,!0).delete(e);return new Kf(n).toPromise()}const Ose=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield F3()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return N3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=bse._getInstance(function Dse(){return N3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function Tse(){return O3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new wse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function Sse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield F3();return yield GM(n,C1,"1"),yield qM(n,C1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>GM(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function Mse(t,e){return L3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>qM(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=b1(o,!1).getAll();return new Kf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ec(t,e){return e?fo(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}wM("rcb"),new Bf(3e4,6e4);class W3 extends P6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xse(t){return BM(t.auth,new W3(t),t.bypassAuthState)}function Jse(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function LM(t,e){return e3.apply(this,arguments)}(n,new W3(t),t.bypassAuthState)}function Zse(t){return K3.apply(this,arguments)}function K3(){return(K3=y(function*(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function X6(t,e){return J6.apply(this,arguments)}(n,new W3(t),t.bypassAuthState)})).apply(this,arguments)}class KM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xse;case"linkViaPopup":case"linkViaRedirect":return Zse;case"reauthViaPopup":case"reauthViaRedirect":return Jse;default:ei(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eoe=new Bf(2e3,1e4);function toe(t,e,n){return Y3.apply(this,arguments)}function Y3(){return(Y3=y(function*(t,e,n){const r=wn(t);!function $l(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&ei(t,"argument-error"),rM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Yo);const i=ec(r,n);return new J3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let J3=(()=>{class t extends KM{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return y(function*(){const r=yield n.execute();return me(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return y(function*(){co(1===n.filter.length,"Popup operations only handle one event");const r=x1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(hi(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,eoe.get())};n()}}return t.currentPopupAction=null,t})();const noe="pendingRedirect",Yf=new Map;class roe extends KM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Yf.get(n.auth._key());if(!r){try{const s=(yield function ioe(t,e){return Z3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Yf.set(n.auth._key(),r)}return n.bypassAuthState||Yf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function Z3(){return(Z3=y(function*(t,e){const n=function QM(t){return h1(noe,t.config.apiKey,t.name)}(e),r=function YM(t){return fo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function soe(t,e){Yf.set(t._key(),e)}function XM(t,e){return oE.apply(this,arguments)}function oE(){return(oE=y(function*(t,e,n=!1){const r=wn(t),i=ec(r,e),o=yield new roe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class uoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function doe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e9(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!e9(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZM(e))}saveEventToCache(e){this.cachedEventUids.add(ZM(e)),this.lastProcessedEventTime=Date.now()}}function ZM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function e9({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function cE(){return(cE=y(function*(t,e={}){return on(t,"GET","/v1/projects",e)})).apply(this,arguments)}const hoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,poe=/^https?/;function lE(){return lE=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function foe(t){return cE.apply(this,arguments)}(t);for(const n of e)try{if(moe(n))return}catch{}ei(t,"unauthorized-domain")}),lE.apply(this,arguments)}function moe(t){const e=Lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!poe.test(n))return!1;if(hoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _oe=new Bf(3e4,6e4);function t9(){const t=An().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let A1=null;const Eoe=new Bf(5e3,15e3),Coe="__/auth/iframe",xoe="emulator/auth/iframe",Ioe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},boe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function woe(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l6(e,xoe):`https://${t.config.authDomain}/${Coe}`,r={apiKey:e.apiKey,appName:t.name,v:Hl},i=boe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pf(r).slice(1)}`}function uE(){return uE=y(function*(t){const e=yield function yoe(t){return A1=A1||function voe(t){return new Promise((e,n)=>{var r,i,s;function o(){t9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t9(),n(hi(t,"network-request-failed"))},timeout:_oe.get()})}if(null!==(i=null===(r=An().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=An().gapi)||void 0===s||!s.load){const a=wM("iframefcb");return An()[a]=()=>{gapi.load?o():n(hi(t,"network-request-failed"))},A6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw A1=null,e})}(t),A1}(t),n=An().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:woe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ioe,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=hi(t,"network-request-failed"),c=An().setTimeout(()=>{o(a)},Eoe.get());function l(){An().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),uE.apply(this,arguments)}const Toe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Noe="__/auth/handler",Ooe="emulator/auth/handler",Foe=encodeURIComponent("fac");function r9(t,e,n,r,i,s){return dE.apply(this,arguments)}function dE(){return(dE=y(function*(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hl,eventId:i};if(e instanceof Yo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function yne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof kM){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Foe}=${encodeURIComponent(c)}`:"";return`${function Voe({config:t}){return t.emulator?l6(t,Ooe):`https://${t.authDomain}/${Noe}`}(t)}?${Pf(a).slice(1)}${l}`})).apply(this,arguments)}const fE="webStorageSupport",Boe=class Loe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UM,this._completeRedirectFn=XM,this._overrideRedirectResult=soe}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;co(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield r9(e,n,r,Lf(),i);return function Moe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Toe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ln().toLowerCase();n&&(a=_M(l)?"_blank":n),mM(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function _ie(t=Ln()){var e;return p1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function koe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new n9(null);const d=window.open(e||"",a,u);me(d,t,"popup-blocked");try{d.focus()}catch{}return new n9(d)}(e,a,x1())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function Ase(t){An().location.href=t}(yield r9(e,n,r,Lf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(co(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function Aoe(t){return uE.apply(this,arguments)}(e),i=new uoe(e);return r.register("authEvent",s=>(me(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fE,{type:fE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[fE];void 0!==o&&n(!!o),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function goe(t){return lE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xM()||b6()||p1()}};var o9="@firebase/auth";class Hoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $oe=MR("authIdTokenMaxAge")||300;let c9=null;const Goe=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>$oe)return;const s=r?.token;c9!==s&&(c9=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function qoe(t=zl()){const e=xs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Pie(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Df(n.getOptions(),e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Boe,persistence:[Ose,xse,UM]}),r=MR("authTokenSyncURL");if(r){const s=Goe(r);(function hse(t,e,n){un(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function fse(t,e,n,r){un(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=PR("auth");return i&&function Mie(t,e,n){const r=wn(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=SM(e),{host:o,port:a}=function kie(t){const e=SM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:DM(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:DM(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Nie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Woe(t){return new he(function(e){var n=function pse(t,e,n,r){return un(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Uoe(t){Mi(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IM(t)},l=new bie(r,i,s,c);return function Rie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new fi("auth-internal",e=>{const n=wn(e.getProvider("auth").getImmediate());return new Hoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(o9,"1.3.2",function zoe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),dn(o9,"1.3.2","esm2017")}("Browser");class Qf{constructor(e){return e}}class u9{constructor(){return l1("auth")}}const pE=new Ie("angularfire2.auth-instances");function Qoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qf(r)}}const Xoe={provide:u9,deps:[[new Ht,pE]]},Joe={provide:Qf,useFactory:function Yoe(t,e){const n=c1("auth",t,e);return n&&new Qf(n)},deps:[[new Ht,pE],Xa]};let Zoe=(()=>{var t;class e{constructor(){dn("angularfire",Wo.full,"auth")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[Joe,Xoe]})),e})();function Qo(t,...e){return{ngModule:Zoe,providers:[{provide:pE,useFactory:Qoe(t),multi:!0,deps:[mt,Mn,Ff,Vf,[new Ht,s6],...e]}]}}const d9=bn(Woe,!0),Xo=bn(qoe,!0),eae=bn(ise,!0),tae=bn(toe,!0);var be,nae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ji={},gE=gE||{},We=nae||self;function S1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mE="closure_uid_"+(1e9*Math.random()>>>0),iae=0;function sae(t,e,n){return t.call.apply(t.bind,arguments)}function oae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function mr(t,e,n){return(mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sae:oae).apply(null,arguments)}function D1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Jo(){this.s=this.s,this.o=this.o}Jo.prototype.s=!1,Jo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rae(t){Object.prototype.hasOwnProperty.call(t,mE)&&t[mE]||(t[mE]=++iae)}(this)},Jo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const f9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _E(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function h9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(S1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var cae=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return t}();function Jf(t){return/^[\s\xa0]*$/.test(t)}function P1(){var t=We.navigator;return t&&(t=t.userAgent)?t:""}function bs(t){return-1!=P1().indexOf(t)}function vE(t){return vE[" "](t),t}vE[" "]=function(){};var EE,t,uae=bs("Opera"),Wl=bs("Trident")||bs("MSIE"),p9=bs("Edge"),yE=p9||Wl,g9=bs("Gecko")&&!(-1!=P1().toLowerCase().indexOf("webkit")&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),dae=-1!=P1().toLowerCase().indexOf("webkit")&&!bs("Edge");function m9(){var t=We.document;return t?t.documentMode:void 0}e:{var CE="",xE=(t=P1(),g9?/rv:([^\);]+)(\)|;)/.exec(t):p9?/Edge\/([\d\.]+)/.exec(t):Wl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):dae?/WebKit\/(\S+)/.exec(t):uae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(xE&&(CE=xE?xE[1]:""),Wl){var IE=m9();if(null!=IE&&IE>parseFloat(CE)){EE=String(IE);break e}}EE=CE}var fae=We.document&&Wl&&(m9()||parseInt(EE,10))||void 0;function Zf(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(g9){e:{try{vE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zf.$.h.call(this)}}Bn(Zf,_r);var hae={2:"touch",3:"pen",4:"mouse"};Zf.prototype.h=function(){Zf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),pae=0;function gae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++pae,this.fa=this.ia=!1}function R1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function v9(t){const e={};for(const n in t)e[n]=t[n];return e}const y9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<y9.length;s++)n=y9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M1(t){this.src=t,this.g={},this.h=0}function AE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=f9(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(R1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function TE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}M1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=TE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new gae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var SE="closure_lm_"+(1e6*Math.random()|0),DE={};function C9(t,e,n,r,i){if(r&&r.once)return I9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)C9(t,e[s],n,r,i);return null}return n=kE(n),t&&t[eh]?t.O(e,n,Xf(r)?!!r.capture:!!r,i):x9(t,e,n,!1,r,i)}function x9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xf(i)?!!i.capture:!!i,a=RE(t);if(a||(t[SE]=a=new M1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function _ae(){const e=vae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(w9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function I9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I9(t,e[s],n,r,i);return null}return n=kE(n),t&&t[eh]?t.P(e,n,Xf(r)?!!r.capture:!!r,i):x9(t,e,n,!0,r,i)}function b9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)b9(t,e[s],n,r,i);else r=Xf(r)?!!r.capture:!!r,n=kE(n),t&&t[eh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=TE(s=t.g[e],n,r,i))&&(R1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=RE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TE(e,n,r,i)),(n=-1<t?e[t]:null)&&PE(n))}function PE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[eh])AE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=RE(e))?(AE(n,t),0==n.h&&(n.src=null,e[SE]=null)):R1(t)}}}function w9(t){return t in DE?DE[t]:DE[t]="on"+t}function vae(t,e){if(t.fa)t=!0;else{e=new Zf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&PE(t),t=n.call(r,e)}return t}function RE(t){return(t=t[SE])instanceof M1?t:null}var ME="__closure_events_fn_"+(1e9*Math.random()>>>0);function kE(t){return"function"==typeof t?t:(t[ME]||(t[ME]=function(e){return t.handleEvent(e)}),t[ME])}function Hn(){Jo.call(this),this.i=new M1(this),this.S=this,this.J=null}function nr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var i=e;E9(e=new _r(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=k1(o,r,!0,e)&&i}if(i=k1(o=e.g=t,r,!0,e)&&i,i=k1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=k1(o=e.g=n[s],r,!1,e)&&i}function k1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&AE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Bn(Hn,Jo),Hn.prototype[eh]=!0,Hn.prototype.removeEventListener=function(t,e,n,r){b9(this,t,e,n,r)},Hn.prototype.N=function(){if(Hn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)R1(n[r]);delete t.g[e],t.h--}}this.J=null},Hn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Hn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var NE=We.JSON.stringify;function Eae(){var t=OE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var A9=new class yae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xae,t=>t.reset());class xae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Iae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bae(t){We.setTimeout(()=>{throw t},0)}let th,nh=!1,OE=new class Cae{constructor(){this.h=this.g=null}add(e,n){const r=A9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},T9=()=>{const t=We.Promise.resolve(void 0);th=()=>{t.then(wae)}};var wae=()=>{for(var t;t=Eae();){try{t.h.call(t.g)}catch(n){bae(n)}var e=A9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nh=!1};function N1(t,e){Hn.call(this),this.h=t||1,this.g=e||We,this.j=mr(this.qb,this),this.l=Date.now()}function FE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function VE(t,e,n){if("function"==typeof t)n&&(t=mr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=mr(t.handleEvent,t)}return 2147483647<Number(e)?-1:We.setTimeout(t,e||0)}function S9(t){t.g=VE(()=>{t.g=null,t.i&&(t.i=!1,S9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Bn(N1,Hn),(be=N1.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(FE(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){N1.$.N.call(this),FE(this),delete this.g};class Aae extends Jo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:S9(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rh(t){Jo.call(this),this.h=t,this.g={}}Bn(rh,Jo);var D9=[];function P9(t,e,n,r){Array.isArray(n)||(n&&(D9[0]=n.toString()),n=D9);for(var i=0;i<n.length;i++){var s=C9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function R9(t){wE(t.g,function(e,n){this.g.hasOwnProperty(n)&&PE(e)},t),t.g={}}function O1(){this.g=!0}function Kl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Pae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return NE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}rh.prototype.N=function(){rh.$.N.call(this),R9(this)},rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O1.prototype.Ea=function(){this.g=!1},O1.prototype.info=function(){};var tc={},M9=null;function F1(){return M9=M9||new Hn}function k9(t){_r.call(this,tc.Ta,t)}function ih(t){const e=F1();nr(e,new k9(e))}function N9(t,e){_r.call(this,tc.STAT_EVENT,t),this.stat=e}function Fr(t){const e=F1();nr(e,new N9(e,t))}function O9(t,e){_r.call(this,tc.Ua,t),this.size=e}function sh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){t()},e)}tc.Ta="serverreachability",Bn(k9,_r),tc.STAT_EVENT="statevent",Bn(N9,_r),tc.Ua="timingevent",Bn(O9,_r);var V1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},F9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LE(){}function L9(){}LE.prototype.h=null;var zE,oh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BE(){_r.call(this,"d")}function HE(){_r.call(this,"c")}function L1(){}function ah(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rh(this),this.P=Rae,this.V=new N1(t=yE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new B9}function B9(){this.i=null,this.g="",this.h=!1}Bn(BE,_r),Bn(HE,_r),Bn(L1,LE),L1.prototype.g=function(){return new XMLHttpRequest},L1.prototype.i=function(){return{}},zE=new L1;var Rae=45e3,UE={},B1={};function jE(t,e,n){t.L=1,t.v=j1(po(e)),t.s=n,t.S=!0,H9(t,null)}function H9(t,e){t.G=Date.now(),ch(t),t.A=po(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Q9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new B9,t.g=Ek(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Aae(mr(t.Pa,t,t.g),t.O)),P9(t.U,t.g,"readystatechange",t.nb),e=t.I?v9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ih(),function Tae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function z9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function U9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Mae(t,n),i==B1){4==e&&(t.o=4,Fr(14),r=!1),Kl(t.j,t.m,null,"[Incomplete Response]");break}if(i==UE){t.o=4,Fr(15),Kl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Kl(t.j,t.m,i,null),$E(t,i)}z9(t)&&i!=B1&&i!=UE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XE(e),e.M=!0,Fr(11))):(Kl(t.j,t.m,n,"[Invalid Chunked Response]"),nc(t),lh(t))}function Mae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?B1:(n=Number(e.substring(n,r)),isNaN(n)?UE:(r+=1)+n>e.length?B1:(e=e.slice(r,r+n),t.C=r+n,e))}function ch(t){t.Y=Date.now()+t.P,j9(t,t.P)}function j9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=sh(mr(t.lb,t),e)}function H1(t){t.B&&(We.clearTimeout(t.B),t.B=null)}function lh(t){0==t.l.H||t.J||mk(t.l,t)}function nc(t){H1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,FE(t.V),R9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $E(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GE(n.i,t)))if(!t.K&&GE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Y1(n),W1(n)}QE(n),Fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sh(mr(n.ib,n),6e3));if(1>=Z9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ic(n,11)}else if((t.K||n.g==t)&&Y1(n),!Jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(qE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Kt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=yk(r,r.J?r.pa:null,r.Y),o.K){ek(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(H1(a),ch(a)),r.g=o}else pk(r);0<n.j.length&&K1(n)}else"stop"!=l[0]&&"close"!=l[0]||ic(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ic(n,7):YE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ih()}catch{}}function $9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(S1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Nae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(S1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function kae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(S1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(be=ah.prototype).setTimeout=function(t){this.P=t},be.nb=function(t){t=t.target;const e=this.M;e&&3==ws(t)?e.l():this.Pa(t)},be.Pa=function(t){try{if(t==this.g)e:{const u=ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||yE||this.g&&(this.h.h||this.g.ja()||ck(this.g)))){this.J||4!=u||7==e||ih(),H1(this);var n=this.g.da();this.ca=n;t:if(z9(this)){var r=ck(this.g);t="";var i=r.length,s=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),lh(this);var o="";break t}this.h.i=new We.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Sae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Fr(12),nc(this),lh(this);break e}Kl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$E(this,n)}this.S?(U9(this,u,o),yE&&this.i&&3==u&&(P9(this.U,this.V,"tick",this.mb),this.V.start())):(Kl(this.j,this.m,o,null),$E(this,o)),4==u&&nc(this),this.i&&!this.J&&(4==u?mk(this.l,this):(this.i=!1,ch(this)))}else(function Jae(t){const e={};t=(t.g&&2<=ws(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Jf(t[r]))continue;var n=Iae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function mae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),nc(this),lh(this)}}}catch{}},be.mb=function(){if(this.g){var t=ws(this.g),e=this.g.ja();this.C<e.length&&(H1(this),U9(this,t,e),this.i&&4!=t&&ch(this))}},be.cancel=function(){this.J=!0,nc(this)},be.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Dae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ih(),Fr(17)),nc(this),this.o=2,lh(this)):j9(this,this.Y-t)};var G9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rc){this.h=t.h,z1(this,t.j),this.s=t.s,this.g=t.g,U1(this,t.m),this.l=t.l;var e=t.i,n=new fh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),q9(this,n),this.o=t.o}else t&&(e=String(t).match(G9))?(this.h=!1,z1(this,e[1]||"",!0),this.s=uh(e[2]||""),this.g=uh(e[3]||"",!0),U1(this,e[4]),this.l=uh(e[5]||"",!0),q9(this,e[6]||"",!0),this.o=uh(e[7]||"")):(this.h=!1,this.i=new fh(null,this.h))}function po(t){return new rc(t)}function z1(t,e,n){t.j=n?uh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function U1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function q9(t,e,n){e instanceof fh?(t.i=e,function zae(t,e){e&&!t.j&&(Zo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(K9(this,r),Q9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=dh(e,Bae)),t.i=new fh(e,t.h))}function Kt(t,e,n){t.i.set(e,n)}function j1(t){return Kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dh(e,W9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(dh(e,W9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(dh(n,"/"==n.charAt(0)?Lae:Vae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dh(n,Hae)),t.join("")};var W9=/[#\/\?@]/g,Vae=/[#\?:]/g,Lae=/[#\?]/g,Bae=/[#\?@]/g,Hae=/#/g;function fh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Oae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function K9(t,e){Zo(t),e=Yl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Y9(t,e){return Zo(t),e=Yl(t,e),t.g.has(e)}function Q9(t,e,n){K9(t,e),0<n.length&&(t.i=null,t.g.set(Yl(t,e),_E(n)),t.h+=n.length)}function Yl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function X9(t){this.l=t||jae,t=We.PerformanceNavigationTiming?0<(t=We.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=fh.prototype).add=function(t,e){Zo(this),this.i=null,t=Yl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},be.forEach=function(t,e){Zo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},be.ta=function(){Zo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},be.Z=function(t){Zo(this);let e=[];if("string"==typeof t)Y9(this,t)&&(e=e.concat(this.g.get(Yl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},be.set=function(t,e){return Zo(this),this.i=null,Y9(this,t=Yl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},be.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var jae=10;function J9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Z9(t){return t.h?1:t.g?t.g.size:0}function GE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function qE(t,e){t.g?t.g.add(e):t.h=e}function ek(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function tk(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _E(t.i)}X9.prototype.cancel=function(){if(this.i=tk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var $ae=class{stringify(t){return We.JSON.stringify(t,void 0)}parse(t){return We.JSON.parse(t,void 0)}};function Gae(){this.g=new $ae}function qae(t,e,n){const r=n||"";try{$9(t,function(i,s){let o=i;Xf(i)&&(o=NE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hh(t){this.l=t.ec||null,this.j=t.ob||!1}function G1(t,e){Hn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=WE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bn(hh,LE),hh.prototype.g=function(){return new G1(this.l,this.j)},hh.prototype.i=function(t){return function(){return t}}({}),Bn(G1,Hn);var WE=0;function nk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ph(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gh(t)}function gh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(be=G1.prototype).open=function(t,e){if(this.readyState!=WE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gh(this)},be.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=WE},be.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ph(this):gh(this),3==this.readyState&&nk(this)}},be.Za=function(t){this.g&&(this.response=this.responseText=t,ph(this))},be.Ya=function(t){this.g&&(this.response=t,ph(this))},be.ka=function(){this.g&&ph(this)},be.setRequestHeader=function(t,e){this.v.append(t,e)},be.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(G1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Kae=We.JSON.parse;function fn(t){Hn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rk,this.L=this.M=!1}Bn(fn,Hn);var rk="",Yae=/^https?$/i,Qae=["POST","PUT"];function ik(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sk(t),q1(t)}function sk(t){t.F||(t.F=!0,nr(t,"complete"),nr(t,"error"))}function ok(t){if(t.h&&typeof gE<"u"&&(!t.C[1]||4!=ws(t)||2!=t.da()))if(t.v&&4==ws(t))VE(t.La,0,t);else if(nr(t,"readystatechange"),4==ws(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(G9)[1]||null;!i&&We.self&&We.self.location&&(i=We.self.location.protocol.slice(0,-1)),r=!Yae.test(i?i.toLowerCase():"")}n=r}if(n)nr(t,"complete"),nr(t,"success");else{t.m=6;try{var s=2<ws(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",sk(t)}}finally{q1(t)}}}function q1(t,e){if(t.g){ak(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||nr(t,"ready");try{n.onreadystatechange=r}catch{}}}function ak(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(We.clearTimeout(t.A),t.A=null)}function ws(t){return t.g?t.g.readyState:0}function ck(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case rk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lk(t){let e="";return wE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function KE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Kt(t,e,n))}function mh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uk(t){this.Ga=0,this.j=[],this.l=new O1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mh("baseRetryDelayMs",5e3,t),this.hb=mh("retryDelaySeedMs",1e4,t),this.eb=mh("forwardChannelMaxRetries",2,t),this.xa=mh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new X9(t&&t.concurrentRequestLimit),this.Ja=new Gae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function YE(t){if(dk(t),3==t.H){var e=t.W++,n=po(t.I);if(Kt(n,"SID",t.K),Kt(n,"RID",e),Kt(n,"TYPE","terminate"),_h(t,n),(e=new ah(t,t.l,e)).L=2,e.v=j1(po(n)),n=!1,We.navigator&&We.navigator.sendBeacon)try{n=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&We.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ek(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ch(e)}vk(t)}function W1(t){t.g&&(XE(t),t.g.cancel(),t.g=null)}function dk(t){W1(t),t.u&&(We.clearTimeout(t.u),t.u=null),Y1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&We.clearTimeout(t.m),t.m=null)}function K1(t){if(!J9(t.i)&&!t.m){t.m=!0;var e=t.Na;th||T9(),nh||(th(),nh=!0),OE.add(e,t),t.C=0}}function fk(t,e){var n;n=e?e.m:t.W++;const r=po(t.I);Kt(r,"SID",t.K),Kt(r,"RID",n),Kt(r,"AID",t.V),_h(t,r),t.o&&t.s&&KE(r,t.o,t.s),n=new ah(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qE(t.i,n),jE(n,r,e)}function _h(t,e){t.na&&wE(t.na,function(n,r){Kt(e,r,n)}),t.h&&$9({},function(n,r){Kt(e,r,n)})}function hk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?mr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{qae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function pk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;th||T9(),nh||(th(),nh=!0),OE.add(e,t),t.A=0}}function QE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=sh(mr(t.Ma,t),_k(t,t.A)),t.A++,0))}function XE(t){null!=t.B&&(We.clearTimeout(t.B),t.B=null)}function gk(t){t.g=new ah(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=po(t.wa);Kt(e,"RID","rpc"),Kt(e,"SID",t.K),Kt(e,"AID",t.V),Kt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Kt(e,"TO",t.qa),Kt(e,"TYPE","xmlhttp"),_h(t,e),t.o&&t.s&&KE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=j1(po(e)),n.s=null,n.S=!0,H9(n,t)}function Y1(t){null!=t.v&&(We.clearTimeout(t.v),t.v=null)}function mk(t,e){var n=null;if(t.g==e){Y1(t),XE(t),t.g=null;var r=2}else{if(!GE(t.i,e))return;n=e.F,ek(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;nr(r=F1(),new O9(r,n)),K1(t)}else pk(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Zae(t,e){return!(Z9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=sh(mr(t.Na,t,e),_k(t,t.C)),t.C++,0)))}(t,e)||2==r&&QE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ic(t,5);break;case 4:ic(t,10);break;case 3:ic(t,6);break;default:ic(t,2)}}function _k(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ic(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=mr(t.pb,t);n||(n=new rc("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||z1(n,"https"),j1(n)),function Wae(t,e){const n=new O1;if(We.Image){const r=new Image;r.onload=D1($1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=D1($1,n,r,"TestLoadImage: error",!1,e),r.onabort=D1($1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=D1($1,n,r,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fr(2);t.H=0,t.h&&t.h.za(e),vk(t),dk(t)}function vk(t){if(t.H=0,t.ma=[],t.h){const e=tk(t.i);(0!=e.length||0!=t.j.length)&&(h9(t.ma,e),h9(t.ma,t.j),t.i.i.length=0,_E(t.j),t.j.length=0),t.h.ya()}}function yk(t,e,n){var r=n instanceof rc?po(n):new rc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),U1(r,r.m);else{var i=We.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new rc(null);r&&z1(s,r),e&&(s.g=e),i&&U1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Kt(r,n,e),Kt(r,"VER",t.ra),_h(t,r),r}function Ek(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(n&&t.Ha&&!t.va?new hh({ob:!0}):t.va)).Oa(t.J),e}function Ck(){}function Q1(){if(Wl&&!(10<=Number(fae)))throw Error("Environmental error: no available transport.")}function pi(t,e){Hn.call(this),this.g=new uk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ql(this)}function xk(t){BE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ik(){HE.call(this),this.status=1}function Ql(t){this.g=t}function Zi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function JE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Tt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(be=fn.prototype).Oa=function(t){this.M=t},be.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zE.g(),this.C=function V9(t){return t.h||(t.h=t.i())}(this.u?this.u:zE),this.g.onreadystatechange=mr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void ik(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=We.FormData&&t instanceof We.FormData,!(0<=f9(Qae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ak(this),0<this.B&&((this.L=function Xae(t){return Wl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mr(this.ua,this)):this.A=VE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ik(this,s)}},be.ua=function(){typeof gE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},be.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,nr(this,"complete"),nr(this,"abort"),q1(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),q1(this,!0)),fn.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?ok(this):this.kb())},be.kb=function(){ok(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kae(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=uk.prototype).ra=8,be.H=1,be.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ah(this,this.l,t);let s=this.s;if(this.U&&(s?(s=v9(s),E9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hk(this,i,e),Kt(n=po(this.I),"RID",t),Kt(n,"CVER",22),this.F&&Kt(n,"X-HTTP-Session-Id",this.F),_h(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(lk(s)))+"&"+e:this.o&&KE(n,this.o,s)),qE(this.i,i),this.bb&&Kt(n,"TYPE","init"),this.P?(Kt(n,"$req",e),Kt(n,"SID","null"),i.aa=!0,jE(i,n,null)):jE(i,n,e),this.H=2}}else 3==this.H&&(t?fk(this,t):0==this.j.length||J9(this.i)||fk(this))},be.Ma=function(){if(this.u=null,gk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sh(mr(this.jb,this),t)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fr(10),W1(this),gk(this))},be.ib=function(){null!=this.v&&(this.v=null,W1(this),QE(this),Fr(19))},be.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fr(2)):(this.l.info("Failed to ping google.com"),Fr(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=Ck.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},Q1.prototype.g=function(t,e){return new pi(t,e)},Bn(pi,Hn),pi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yk(t,null,t.Y),K1(t)},pi.prototype.close=function(){YE(this.g)},pi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=NE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&K1(e)},pi.prototype.N=function(){this.g.h=null,delete this.j,YE(this.g),delete this.g,pi.$.N.call(this)},Bn(xk,BE),Bn(Ik,HE),Bn(Ql,Ck),Ql.prototype.Ba=function(){nr(this.g,"a")},Ql.prototype.Aa=function(t){nr(this.g,new xk(t))},Ql.prototype.za=function(t){nr(this.g,new Ik)},Ql.prototype.ya=function(){nr(this.g,"b")},Bn(Zi,function ece(){this.blockSize=-1}),Zi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)JE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){JE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){JE(this,r),i=0;break}}this.h=i,this.i+=e},Zi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var tce={};function ZE(t){return-128<=t&&128>t?function lae(t,e){var n=tce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Tt([0|e],0>e?-1:0)}):new Tt([0|t],0>t?-1:0)}function As(t){if(isNaN(t)||!isFinite(t))return Xl;if(0>t)return rr(As(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=e8;return new Tt(e,0)}var e8=4294967296,Xl=ZE(0),t8=ZE(1),wk=ZE(16777216);function go(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ni(t){return-1==t.h}function rr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Tt(n,~t.h).add(t8)}function X1(t,e){return t.add(rr(e))}function J1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vh(t,e){this.g=t,this.h=e}function Z1(t,e){if(go(e))throw Error("division by zero");if(go(t))return new vh(Xl,Xl);if(Ni(t))return e=Z1(rr(t),e),new vh(rr(e.g),rr(e.h));if(Ni(e))return e=Z1(t,rr(e)),new vh(rr(e.g),e.h);if(30<t.g.length){if(Ni(t)||Ni(e))throw Error("slowDivide_ only works with positive integers.");for(var n=t8,r=e;0>=r.X(t);)n=Ak(n),r=Ak(r);var i=Jl(n,1),s=Jl(r,1);for(r=Jl(r,2),n=Jl(n,2);!go(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jl(r,1),n=Jl(n,1)}return e=X1(t,i.R(e)),new vh(i,e)}for(i=Xl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=As(n)).R(e);Ni(o)||0<o.X(t);)o=(s=As(n-=r)).R(e);go(s)&&(s=t8),i=i.add(s),t=X1(t,o)}return new vh(i,t)}function Ak(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Tt(n,t.h)}function Jl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Tt(i,t.h)}(be=Tt.prototype).ea=function(){if(Ni(this))return-rr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:e8+r)*e,e*=e8}return t},be.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(go(this))return"0";if(Ni(this))return"-"+rr(this).toString(t);for(var e=As(Math.pow(t,6)),n=this,r="";;){var i=Z1(n,e).g,s=((0<(n=X1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(go(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},be.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},be.X=function(t){return Ni(t=X1(this,t))?-1:go(t)?0:1},be.abs=function(){return Ni(this)?rr(this):this},be.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Tt(n,-2147483648&n[n.length-1]?-1:0)},be.R=function(t){if(go(this)||go(t))return Xl;if(Ni(this))return Ni(t)?rr(this).R(rr(t)):rr(rr(this).R(t));if(Ni(t))return rr(this.R(rr(t)));if(0>this.X(wk)&&0>t.X(wk))return As(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,J1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,J1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,J1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,J1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Tt(n,0)},be.gb=function(t){return Z1(this,t).h},be.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Tt(n,this.h&t.h)},be.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Tt(n,this.h|t.h)},be.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Tt(n,this.h^t.h)},Q1.prototype.createWebChannel=Q1.prototype.g,pi.prototype.send=pi.prototype.u,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,V1.NO_ERROR=0,V1.TIMEOUT=8,V1.HTTP_ERROR=6,F9.COMPLETE="complete",L9.EventType=oh,oh.OPEN="a",oh.CLOSE="b",oh.ERROR="c",oh.MESSAGE="d",Hn.prototype.listen=Hn.prototype.O,fn.prototype.listenOnce=fn.prototype.P,fn.prototype.getLastError=fn.prototype.Sa,fn.prototype.getLastErrorCode=fn.prototype.Ia,fn.prototype.getStatus=fn.prototype.da,fn.prototype.getResponseJson=fn.prototype.Wa,fn.prototype.getResponseText=fn.prototype.ja,fn.prototype.send=fn.prototype.ha,fn.prototype.setWithCredentials=fn.prototype.Oa,Zi.prototype.digest=Zi.prototype.l,Zi.prototype.reset=Zi.prototype.reset,Zi.prototype.update=Zi.prototype.j,Tt.prototype.add=Tt.prototype.add,Tt.prototype.multiply=Tt.prototype.R,Tt.prototype.modulo=Tt.prototype.gb,Tt.prototype.compare=Tt.prototype.X,Tt.prototype.toNumber=Tt.prototype.ea,Tt.prototype.toString=Tt.prototype.toString,Tt.prototype.getBits=Tt.prototype.D,Tt.fromNumber=As,Tt.fromString=function bk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return rr(bk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=As(Math.pow(e,8)),r=Xl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=As(Math.pow(e,s)),r=r.R(s).add(As(o))):r=(r=r.R(n)).add(As(o))}return r};var nce=Ji.createWebChannelTransport=function(){return new Q1},rce=Ji.getStatEventTarget=function(){return F1()},n8=Ji.ErrorCode=V1,ice=Ji.EventType=F9,sce=Ji.Event=tc,Tk=Ji.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oce=Ji.FetchXmlHttpFactory=hh,em=Ji.WebChannel=L9,ace=Ji.XhrIo=fn,cce=Ji.Md5=Zi,Zl=Ji.Integer=Tt;const Sk="@firebase/firestore";class zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let eu="10.5.2";const ea=new kf("@firebase/firestore");function tu(){return ea.logLevel}function ie(t,...e){if(ea.logLevel<=ut.DEBUG){const n=e.map(r8);ea.debug(`Firestore (${eu}): ${t}`,...n)}}function yn(t,...e){if(ea.logLevel<=ut.ERROR){const n=e.map(r8);ea.error(`Firestore (${eu}): ${t}`,...n)}}function gi(t,...e){if(ea.logLevel<=ut.WARN){const n=e.map(r8);ea.warn(`Firestore (${eu}): ${t}`,...n)}}function r8(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function De(t="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function Me(t,e){t||De()}function _e(t,e){return t}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Dk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class uce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dce{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me("string"==typeof r.accessToken),new Dk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new zn(e)}}class fce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me("string"==typeof n.token),this.R=n.token,new Pk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Rk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=gce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function nu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class an{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new an(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new an(0,0))}static max(){return new Oe(new an(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yh{constructor(e,n,r){void 0===n?n=0:n>e.length&&De(),void 0===r?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===yh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends yh{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const mce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends yh{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return mce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}function Nk(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(Oe.min(),ye.empty(),-1)}static max(){return new mi(Oe.max(),ye.empty(),-1)}}function s8(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ye.comparator(t.documentKey,e.documentKey),0!==n?n:$e(t.largestBatchId,e.largestBatchId))}const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ta(t){return o8.apply(this,arguments)}function o8(){return o8=y(function*(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Ok)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),o8.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function na(t){return"IndexedDbTransactionError"===t.name}let _i=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ch(t){return null==t}function xh(t){return 0===t&&1/t==-1/0}function $k(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class $t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=s??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qk(this.data.getIterator())}getIteratorFrom(e){return new qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ti([])}unionWith(e){let n=new kt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wk("Invalid base64 string: "+s):s}}(e);return new On(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const Uce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(Me(!!t),"string"==typeof t){let e=0;const n=Uce.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mo(t){return"string"==typeof t?On.fromBase64String(t):On.fromUint8Array(t)}function im(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sm(t){const e=t.mapValue.fields.__previous_value__;return im(e)?sm(e):e}function Ih(t){const e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}class jce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?im(t)?4:Xk(t)?9007199254740991:10:De()}function Ss(t,e){if(t===e)return!0;const n=oa(t);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ia(i.timestampValue),a=ia(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,mo(t.bytesValue).isEqual(mo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return hn(i.geoPointValue.latitude)===hn(s.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return hn(i.integerValue)===hn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=hn(i.doubleValue),a=hn(s.doubleValue);return o===a?xh(o)===xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($k(o)!==$k(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Ss(o[c],a[c])))return!1;return!0}(t,e);default:return De()}var s}function bh(t,e){return void 0!==(t.values||[]).find(n=>Ss(n,e))}function aa(t,e){if(t===e)return 0;const n=oa(t),r=oa(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=hn(s.integerValue||s.doubleValue),c=hn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Kk(t.timestampValue,e.timestampValue);case 4:return Kk(Ih(t),Ih(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=mo(s),c=mo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=$e(a[l],c[l]);if(0!==u)return u}return $e(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=$e(hn(s.latitude),hn(o.latitude));return 0!==a?a:$e(hn(s.longitude),hn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=aa(a[l],c[l]);if(u)return u}return $e(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sa.mapValue&&o===sa.mapValue)return 0;if(s===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=$e(c[d],u[d]);if(0!==f)return f;const h=aa(a[c[d]],l[u[d]]);if(0!==h)return h}return $e(c.length,u.length)}(t.mapValue,e.mapValue);default:throw De()}}function Kk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $e(t,e);const n=ia(t),r=ia(e),i=$e(n.seconds,r.seconds);return 0!==i?i:$e(n.nanos,r.nanos)}function ou(t){return l8(t)}function l8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mo(t.bytesValue).toBase64():"referenceValue"in t?ye.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=l8(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${l8(n.fields[o])}`;return i+"}"}(t.mapValue):De()}function lc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u8(t){return!!t&&"integerValue"in t}function wh(t){return!!t&&"arrayValue"in t}function Yk(t){return!!t&&"nullValue"in t}function Qk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function Ah(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ah(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ah(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ah(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ra(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sr(Ah(this.value))}}function eN(t){const e=[];return ra(t.fields,(n,r)=>{const i=new tn([n]);if(cm(r)){const s=eN(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ti(e)}class Yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,Oe.min(),Oe.min(),Oe.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Oe.min(),Oe.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Oe.min(),Oe.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ca{constructor(e,n){this.position=e,this.inclusive=n}}function tN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ye.comparator(ye.fromName(o.referenceValue),n.key):aa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nN(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function qce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class rN{}class at extends rN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Wce(e,n,r):"array-contains"===n?new Qce(e,r):"in"===n?new lN(e,r):"not-in"===n?new Xce(e,r):"array-contains-any"===n?new Jce(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Kce(e,r):new Yce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(aa(n,this.value)):null!==n&&oa(this.value)===oa(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends rN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new St(e,n)}matches(e){return au(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function au(t){return"and"===t.op}function f8(t){return function iN(t){for(const e of t.filters)if(e instanceof St)return!1;return!0}(t)&&au(t)}function h8(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+ou(t.value);if(f8(t))return t.filters.map(e=>h8(e)).join(",");{const e=t.filters.map(n=>h8(n)).join(",");return`${t.op}(${e})`}}function sN(t,e){return t instanceof at?(r=t,(i=e)instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Ss(r.value,i.value)):t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&sN(o,i.filters[a]),!0)}(t,e):void De();var r,i}function aN(t){return t instanceof at?`${(n=t).field.canonicalString()} ${n.op} ${ou(n.value)}`:t instanceof St?function(n){return n.op.toString()+" {"+n.getFilters().map(aN).join(" ,")+"}"}(t):"Filter";var n}class Wce extends at{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kce extends at{constructor(e,n){super(e,"in",n),this.keys=cN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yce extends at{constructor(e,n){super(e,"not-in",n),this.keys=cN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Qce extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wh(n)&&bh(n.arrayValue,this.value)}}class lN extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bh(this.value.arrayValue,n)}}class Xce extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bh(this.value.arrayValue,n)}}class Jce extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}}class Zce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function p8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zce(t,e,n,r,i,s,o)}function uc(t){const e=_e(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ou(r)).join(",")),e.ce=n}return e.ce}function Sh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nN(t.startAt,e.startAt)&&nN(t.endAt,e.endAt)}function lm(t){return ye.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class _o{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function cu(t){return new _o(t)}function hN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function g8(t){return null!==t.collectionGroup}function lu(t){const e=_e(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(tn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Th(s,r))}),n.has(tn.keyField().canonicalString())||e.le.push(new Th(tn.keyField(),r))}return e.le}function Vr(t){const e=_e(t);return e.he||(e.he=function pN(t,e){if("F"===t.limitType)return p8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Th(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ca(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ca(t.startAt.position,t.startAt.inclusive):null;return p8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,lu(t))),e.he}function m8(t,e){const n=t.filters.concat([e]);return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return Sh(Vr(t),Vr(e))&&t.limitType===e.limitType}function gN(t){return`${uc(Vr(t))}|lt:${t.limitType}`}function uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aN(i)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ou(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ou(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of lu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=tN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,lu(r),i)||r.endAt&&!function(o,a,c){const l=tN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,lu(r),i)));var r,i}function _N(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const s=ele(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ele(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?aa(c,l):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}}const tle=new $t(ye.comparator);function ni(){return tle}const vN=new $t(ye.comparator);function Rh(...t){let e=vN;for(const n of t)e=e.insert(n.key,n);return e}function yN(t){let e=vN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ds(){return Mh()}function EN(){return Mh()}function Mh(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const nle=new $t(ye.comparator),rle=new kt(ye.comparator);function Ze(...t){let e=rle;for(const n of t)e=e.add(n);return e}const ile=new kt($e);function CN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function xN(t){return{integerValue:""+t}}function IN(t,e){return function Vk(t){return"number"==typeof t&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?xN(e):CN(t,e)}class fm{constructor(){this._=void 0}}function sle(t,e,n){return t instanceof du?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&im(s)&&(s=sm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof dc?wN(t,e):t instanceof fc?AN(t,e):function(i,s){const o=bN(i,s),a=TN(o)+TN(i.Ie);return u8(o)&&u8(i.Ie)?xN(a):CN(i.serializer,a)}(t,e)}function ole(t,e,n){return t instanceof dc?wN(t,e):t instanceof fc?AN(t,e):n}function bN(t,e){return t instanceof fu?u8(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class du extends fm{}class dc extends fm{constructor(e){super(),this.elements=e}}function wN(t,e){const n=SN(e);for(const r of t.elements)n.some(i=>Ss(i,r))||n.push(r);return{arrayValue:{values:n}}}class fc extends fm{constructor(e){super(),this.elements=e}}function AN(t,e){let n=SN(e);for(const r of t.elements)n=n.filter(i=>!Ss(i,r));return{arrayValue:{values:n}}}class fu extends fm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function TN(t){return hn(t.integerValue||t.doubleValue)}function SN(t){return wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cle{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pm{}function DN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pu(t.key,nn.none()):new hu(t.key,t.data,nn.none());{const n=t.data,r=sr.empty();let i=new kt(tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new yo(t.key,r,new ti(i.toArray()),nn.none())}}function lle(t,e,n){t instanceof hu?function(i,s,o){const a=i.value.clone(),c=MN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(i,s,o){if(!hm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=MN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(RN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Nh(t,e,n,r){return t instanceof hu?function(s,o,a,c){if(!hm(s.precondition,o))return a;const l=s.value.clone(),u=kN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(s,o,a,c){if(!hm(s.precondition,o))return a;const l=kN(s.fieldTransforms,c,o),u=o.data;return u.setAll(RN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,hm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function ule(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bN(r.transform,i||null);null!=s&&(null===n&&(n=sr.empty()),n.set(r.field,s))}return n||null}function PN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&nu(r,i,(s,o)=>function ale(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof dc&&i instanceof dc||r instanceof fc&&i instanceof fc?nu(r.elements,i.elements,Ss):r instanceof fu&&i instanceof fu?Ss(r.Ie,i.Ie):r instanceof du&&i instanceof du);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class hu extends pm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yo extends pm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MN(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ole(o,a,n[i]))}return r}function kN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sle(s,o,e))}return r}class pu extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v8 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lle(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=DN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(n,r)=>PN(n,r))&&nu(this.baseMutations,e.baseMutations,(n,r)=>PN(n,r))}}class E8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=nle;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new E8(e,n,r,i)}}class C8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fle{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,gt;function ON(t){if(void 0===t)return yn("GRPC error has no .code"),z.UNKNOWN;switch(t){case Tn.OK:return z.OK;case Tn.CANCELLED:return z.CANCELLED;case Tn.UNKNOWN:return z.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return z.INTERNAL;case Tn.UNAVAILABLE:return z.UNAVAILABLE;case Tn.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Tn.NOT_FOUND:return z.NOT_FOUND;case Tn.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Tn.ABORTED:return z.ABORTED;case Tn.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Tn.DATA_LOSS:return z.DATA_LOSS;default:return De()}}(gt=Tn||(Tn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";const hle=new Zl([4294967295,4294967295],0);function VN(t){const e=function FN(){return new TextEncoder}().encode(t),n=new cce;return n.update(e),new Uint8Array(n.digest())}function LN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zl([n,r],0),new Zl([i,s],0)]}class x8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oh(`Invalid padding: ${n}`);if(r<0)throw new Oh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Oh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Oh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Zl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Zl.fromNumber(r)));return 1===i.compare(hle)&&(i=new Zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=VN(e),[r,i]=LN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new x8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=VN(e),[r,i]=LN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(Oe.min(),i,new $t($e),ni(),Ze())}}class Vh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,Ze(),Ze(),Ze())}}class mm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class BN{constructor(e,n){this.targetId=e,this.fe=n}}class HN{constructor(e,n,r=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zN{constructor(){this.ge=0,this.pe=jN(),this.ye=On.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Vh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ple{constructor(e){this.Le=e,this.ke=new Map,this.qe=ni(),this.Qe=UN(),this.Ke=new $t($e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(lm(s))if(0===r){const o=new ye(s.path);this.We(n,o,Yt.newNoDocument(o,Oe.min()))}else Me(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=mo(r).toUint8Array()}catch(c){if(c instanceof Wk)return gi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new x8(o,i,s)}catch(c){return gi(c instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&lm(a.target)){const c=new ye(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Yt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ze();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Fh(e,n,this.Ke,this.qe,r);return this.qe=ni(),this.Qe=UN(),this.Ke=new $t($e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new zN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt($e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function UN(){return new $t(ye.comparator)}function jN(){return new $t(ye.comparator)}const gle={asc:"ASCENDING",desc:"DESCENDING"},mle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_le={and:"AND",or:"OR"};class vle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function I8(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $N(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yle(t,e){return gu(t,e.toTimestamp())}function En(t){return Me(!!t),Oe.fromTimestamp(function(n){const r=ia(n);return new an(r.seconds,r.nanos)}(t))}function b8(t,e){return(r=t,new pt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function GN(t){const e=pt.fromString(t);return Me(eO(e)),e}function Lh(t,e){return b8(t.databaseId,e.path)}function Ps(t,e){const n=GN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(WN(n))}function w8(t,e){return b8(t.databaseId,e)}function Bh(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WN(t){return Me(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function KN(t,e,n){return{name:Lh(t,e),fields:n.value.mapValue.fields}}function QN(t,e){return{documents:[w8(t,e.path)]}}function T8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=w8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=w8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return ZN(St.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:la((d=l).field),direction:ble(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=I8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function XN(t){let e=function qN(t){const e=GN(t);return 4===e.length?pt.emptyPath():WN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=JN(d);return f instanceof St&&f8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new Th(mu((p=f).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,Ch(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new ca((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new ca(d.values||[],!d.before)}(n.endAt)),function fN(t,e,n,r,i,s,o,a){return new _o(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function JN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mu(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mu(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):void 0!==t.fieldFilter?at.create(mu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return St.create(n.compositeFilter.filters.map(r=>JN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De();var n}function ble(t){return gle[t]}function wle(t){return mle[t]}function Ale(t){return _le[t]}function la(t){return{fieldPath:t.canonicalString()}}function mu(t){return tn.fromServerFormat(t.fieldPath)}function ZN(t){return t instanceof at?function(n){if("=="===n.op){if(Qk(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(Yk(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Qk(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(Yk(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:wle(n.op),value:n.value}}}(t):t instanceof St?function(n){const r=n.getFilters().map(i=>ZN(i));return 1===r.length?r[0]:{compositeFilter:{op:Ale(n.op),filters:r}}}(t):De()}function Tle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Eo{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),a=On.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tO{constructor(e){this.ut=e}}function S8(t){const e=XN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?dm(e,e.limit,"L"):e}class mc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(hn(e.integerValue));else if("doubleValue"in e){const r=hn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),xh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(mo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Xk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):De()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ye.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}mc.St=new mc;class Ole{constructor(){this.on=new N8}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(mi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class N8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(pt.comparator)).toArray()}}new Uint8Array(0);class yr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);class vc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new vc(0)}static Nn(){return new vc(-1)}}class zle{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $le{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Nh(r.mutation,i,ti.empty(),an.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ni();const o=Mh(),a=Mh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof yo)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Nh(u.mutation,l,u.mutation.getFieldMask(),an.now())):o.set(l.key,ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new $le(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Mh();let i=new $t((o,a)=>o-a),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||ti.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Ze()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=EN();u.forEach(f=>{if(!s.has(f)){const h=DN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ye.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):g8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ds());let a=-1,c=s;return o.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ze())).next(u=>({batchId:a,changes:yN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Rh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const l=(d=n,f=c.child(s),new _o(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Yt.newInvalidDocument(u)))});let a=Rh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Nh(u.mutation,l,ti.empty(),an.now()),Ph(n,l)&&(a=a.insert(c,l))}),a})}}class Gle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:En(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:S8(i.bundledQuery),readTime:En(i.readTime)}),M.resolve();var i}}class qle{constructor(){this.overlays=new $t(ye.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ds();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ds(),s=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Ds(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ds(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C8(n,r));let s=this.lr.get(n);void 0===s&&(s=Ze(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class O8{constructor(){this.hr=new kt(jn.Pr),this.Ir=new kt(jn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new jn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ye(new pt([])),r=new jn(n,e),i=new jn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ye(new pt([])),r=new jn(n,e),i=new jn(n,e+1);let s=Ze();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ye.comparator(e.key,n.key)||$e(e.gr,n.gr)}static Tr(e,n){return $e(e.gr,n.gr)||ye.comparator(e.key,n.key)}}class Wle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new kt(jn.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new y8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt($e);return n.forEach(i=>{const s=new jn(i,0),o=new jn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new jn(new ye(s),0);let a=new kt($e);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Me(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new jn(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Kle{constructor(e){this.Cr=e,this.docs=new $t(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ni();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ni();const o=n.path,a=new ye(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||s8(Nk(u),r)<=0||(i.has(u.key)||Ph(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){De()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yle(this)}getSize(e){return M.resolve(this.size)}}class Yle extends zle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Qle{constructor(e){this.persistence=e,this.Fr=new vo(n=>uc(n),Sh),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new O8,this.targetCount=0,this.Nr=vc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}class F8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new _i(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Qle(this),this.indexManager=new Ole,this.remoteDocumentCache=new Kle(r=>this.referenceDelegate.Qr(r)),this.serializer=new tO(n),this.Kr=new Gle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Wle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Xle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Xle extends yce{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Gr=new O8,this.zr=null}static jr(e){return new bm(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ye.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class H8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new H8(e,n.fromCache,r,i)}}class Zle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Zle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(tu()<=ut.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(tu()<=ut.DEBUG&&ie("QueryEngine","Query:",uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(tu()<=ut.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):M.resolve())}zi(e,n){if(hN(n))return M.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=dm(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ze(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,dm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return hN(n)||i.isEqual(Oe.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(tu()<=ut.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uu(n)),this.Xi(e,o,n,function kk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(1e9===r?new an(n+1,0):new an(n,r));return new mi(i,ye.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new kt(_N(e));return n.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return tu()<=ut.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",uu(n)),this.Gi.getDocumentsMatchingQuery(e,n,mi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class eue{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new $t($e),this.ns=new vo(s=>uc(s),Sh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function MO(t,e){return z8.apply(this,arguments)}function z8(){return z8=y(function*(t,e){const n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ze();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),z8.apply(this,arguments)}function kO(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function rue(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xu(t,e,n){return U8.apply(this,arguments)}function U8(){return U8=y(function*(t,e,n){const r=_e(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!na(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),U8.apply(this,arguments)}function Tm(t,e,n){const r=_e(t);let i=Oe.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=_e(c),f=d.ns.get(u);return void 0!==f?M.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:Ze())).next(a=>(function VO(t,e,n){let r=t.rs.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function mN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class W8{constructor(){this.activeTargetIds=function _8(){return ile}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HO{constructor(){this.eo=new W8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new W8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oue{ro(e){}shutdown(){}}class zO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pm=null;function Y8(){return null===Pm?Pm=268435456+Math.round(2147483648*Math.random()):Pm++,"0x"+Pm.toString(16)}const aue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cue{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Er="WebChannelConnection";class lue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Y8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw gi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+eu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${aue[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Y8();return new Promise((o,a)=>{const c=new ace;c.setWithCredentials(!0),c.listenOnce(ice.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case n8.NO_ERROR:const u=c.getResponseJson();ie(Er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case n8.TIMEOUT:ie(Er,`RPC '${e}' ${s} timed out`),a(new se(z.DEADLINE_EXCEEDED,"Request time out"));break;case n8.HTTP_ERROR:const d=c.getStatus();if(ie(Er,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(m){const D=m.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(D)>=0?D:z.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(z.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ie(Er,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(Er,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=Y8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nce(),a=rce(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new oce({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(Er,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new cue({co:m=>{h?ie(Er,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(ie(Er,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(Er,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,D,b)=>{m.listen(D,G=>{try{b(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return g(d,em.EventType.OPEN,()=>{h||ie(Er,`RPC '${e}' stream ${i} transport opened.`)}),g(d,em.EventType.CLOSE,()=>{h||(h=!0,ie(Er,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,em.EventType.ERROR,m=>{h||(h=!0,gi(Er,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new se(z.UNAVAILABLE,"The operation could not be completed")))}),g(d,em.EventType.MESSAGE,m=>{var D;if(!h){const b=m.data[0];Me(!!b);const Q=b.error||(null===(D=b[0])||void 0===D?void 0:D.error);if(Q){ie(Er,`RPC '${e}' stream ${i} received error:`,Q);const pe=Q.status;let Ne=function(Vn){const Ta=Tn[Vn];if(void 0!==Ta)return ON(Ta)}(pe),Xe=Q.message;void 0===Ne&&(Ne=z.INTERNAL,Xe="Unknown error status: "+pe+" with message "+Q.message),h=!0,p.Ro(new se(Ne,Xe)),d.close()}else ie(Er,`RPC '${e}' stream ${i} received:`,b),p.Vo(b)}}),g(a,sce.STAT_EVENT,m=>{m.stat===Tk.PROXY?ie(Er,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Tk.NOPROXY&&ie(Er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Rm(){return typeof document<"u"?document:null}function Kh(t){return new vle(t,!0)}class Q8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class jO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Q8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return y(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return y(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return y(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===z.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(y(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uue extends jO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Cle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:De(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Me(void 0===u||"string"==typeof u),On.fromBase64String(u||"")):(Me(void 0===u||u instanceof Uint8Array),On.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?z.UNKNOWN:ON(l.code);return new se(u,l.message||"")}(o);n=new HN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ps(t,r.document.name),s=En(r.document.updateTime),o=r.document.createTime?En(r.document.createTime):Oe.min(),a=new sr({mapValue:{fields:r.document.fields}}),c=Yt.newFoundDocument(i,s,o,a);n=new mm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ps(t,r.document),s=r.readTime?En(r.readTime):Oe.min(),o=Yt.newNoDocument(i,s);n=new mm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ps(t,r.document);n=new mm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new fle(i,s);n=new BN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?En(o.readTime):Oe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Bh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=lm(c)?{documents:QN(s,c)}:{query:T8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$N(s,o.resumeToken);const l=I8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Oe.min())>0){a.readTime=gu(s,o.snapshotVersion.toTimestamp());const l=I8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Ile(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Bh(this.serializer),n.removeTarget=e,this.e_(n)}}class due extends jO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function xle(t,e){return t&&t.length>0?(Me(void 0!==e),t.map(n=>function(i,s){let o=En(i.updateTime?i.updateTime:s);return o.isEqual(Oe.min())&&(o=En(s)),new cle(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.I_(r,n)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Bh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Hh(t,e){let n;if(e instanceof hu)n={update:KN(t,e.key,e.value)};else if(e instanceof pu)n={delete:Lh(t,e.key)};else if(e instanceof yo)n={update:KN(t,e.key,e.data),updateMask:Tle(e.fieldMask)};else{if(!(e instanceof v8))return De();n={verify:Lh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:yle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:De()),n;var s}(this.serializer,r))};this.e_(n)}}class fue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(z.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(z.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class pue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(yn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class gue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(y(function*(){var c;ha(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const d=_e(u);d.C_.add(4),yield Iu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Yh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new pue(r,i)}}function Yh(t){return J8.apply(this,arguments)}function J8(){return J8=y(function*(t){if(ha(t))for(const e of t.v_)yield e(!0)}),J8.apply(this,arguments)}function Iu(t){return Z8.apply(this,arguments)}function Z8(){return Z8=y(function*(t){for(const e of t.v_)yield e(!1)}),Z8.apply(this,arguments)}function Mm(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),nC(n)?tC(n):wu(n).Ho()&&eC(n,e))}function Qh(t,e){const n=_e(t),r=wu(n);n.D_.delete(e),r.Ho()&&$O(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ha(n)&&n.M_.set("Unknown"))}function eC(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wu(t).u_(e)}function $O(t,e){t.x_.Oe(e),wu(t).c_(e)}function tC(t){t.x_=new ple({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.M_.g_()}function nC(t){return ha(t)&&!wu(t).jo()&&t.D_.size>0}function ha(t){return 0===_e(t).C_.size}function GO(t){t.x_=void 0}function mue(t){return rC.apply(this,arguments)}function rC(){return rC=y(function*(t){t.D_.forEach((e,n)=>{eC(t,e)})}),rC.apply(this,arguments)}function _ue(t,e){return iC.apply(this,arguments)}function iC(){return iC=y(function*(t,e){GO(t),nC(t)?(t.M_.w_(e),tC(t)):t.M_.set("Unknown")}),iC.apply(this,arguments)}function vue(t,e,n){return sC.apply(this,arguments)}function sC(){return sC=y(function*(t,e,n){if(t.M_.set("Online"),e instanceof HN&&2===e.state&&e.cause)try{yield(r=y(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield km(t,r)}else if(e instanceof mm?t.x_.$e(e):e instanceof BN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Oe.min()))try{const r=yield kO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(On.EMPTY_BYTE_STRING,u.snapshotVersion)),$O(s,c);const d=new Eo(u.target,c,l,u.sequenceNumber);eC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield km(t,r)}var r}),sC.apply(this,arguments)}function km(t,e,n){return oC.apply(this,arguments)}function oC(){return oC=y(function*(t,e,n){if(!na(e))throw e;t.C_.add(1),yield Iu(t),t.M_.set("Offline"),n||(n=()=>kO(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Yh(t)}))}),oC.apply(this,arguments)}function qO(t,e){return e().catch(n=>km(t,n,e))}function bu(t){return aC.apply(this,arguments)}function aC(){return aC=y(function*(t){const e=_e(t),n=pa(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;yue(e);)try{const i=yield rue(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Eue(e,i)}catch(i){yield km(e,i)}WO(e)&&KO(e)}),aC.apply(this,arguments)}function yue(t){return ha(t)&&t.b_.length<10}function Eue(t,e){t.b_.push(e);const n=pa(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function WO(t){return ha(t)&&!pa(t).jo()&&t.b_.length>0}function KO(t){pa(t).start()}function Cue(t){return cC.apply(this,arguments)}function cC(){return cC=y(function*(t){pa(t).E_()}),cC.apply(this,arguments)}function xue(t){return lC.apply(this,arguments)}function lC(){return lC=y(function*(t){const e=pa(t);for(const n of t.b_)e.P_(n.mutations)}),lC.apply(this,arguments)}function Iue(t,e,n){return uC.apply(this,arguments)}function uC(){return uC=y(function*(t,e,n){const r=t.b_.shift(),i=E8.from(r,e,n);yield qO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield bu(t)}),uC.apply(this,arguments)}function bue(t,e){return dC.apply(this,arguments)}function dC(){return dC=y(function*(t,e){var n;e&&pa(t).h_&&(yield(n=y(function*(i,s){if(function NN(t){switch(t){default:return De();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}(a=s.code)&&a!==z.ABORTED){const o=i.b_.shift();pa(i).Yo(),yield qO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield bu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),WO(t)&&KO(t)}),dC.apply(this,arguments)}function YO(t,e){return fC.apply(this,arguments)}function fC(){return fC=y(function*(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=ha(n);n.C_.add(3),yield Iu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Yh(n)}),fC.apply(this,arguments)}function pC(){return pC=y(function*(t,e){const n=_e(t);e?(n.C_.delete(2),yield Yh(n)):e||(n.C_.add(2),yield Iu(n),n.M_.set("Unknown"))}),pC.apply(this,arguments)}function wu(t){return t.O_||(t.O_=function(n,r,i){const s=_e(n);return s.A_(),new uue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:mue.bind(null,t),Io:_ue.bind(null,t),a_:vue.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.O_.Yo(),nC(t)?tC(t):t.M_.set("Unknown")):(yield t.O_.stop(),GO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function pa(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.A_(),new due(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Cue.bind(null,t),Io:bue.bind(null,t),T_:xue.bind(null,t),I_:Iue.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.N_.Yo(),yield bu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class gC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(t,e){if(yn("AsyncQueue",`${e}: ${t}`),na(t))return new se(z.UNAVAILABLE,`${e}: ${t}`);throw t}class Tu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Rh(),this.sortedSet=new $t(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class QO{constructor(){this.B_=new $t(ye.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Su{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Su(e,n,Tu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class wue{constructor(){this.k_=void 0,this.listeners=[]}}class Aue{constructor(){this.queries=new vo(e=>gN(e),Dh),this.onlineState="Unknown",this.q_=new Set}}function _C(){return _C=y(function*(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Au(o,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&EC(n)}),_C.apply(this,arguments)}function yC(){return yC=y(function*(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),yC.apply(this,arguments)}function Tue(t,e){const n=_e(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&EC(n)}function Sue(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function EC(t){t.q_.forEach(e=>{e.next()})}class CC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class ZO{constructor(e){this.key=e}}class eF{constructor(e){this.key=e}}class tF{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ze(),this.mutatedKeys=Ze(),this._a=_N(e),this.aa=new Tu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new QO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Ph(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),m=!0):this.ha(f,h)||(r.track({type:2,doc:h}),m=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),m=!0):f&&!h&&(r.track({type:1,doc:f}),m=!0,(c||l)&&(a=!0)),m&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Su(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new QO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ze(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new eF(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new ZO(r))}),n}da(e){this.ia=e.ls,this.oa=Ze();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Su.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Rue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mue{constructor(e){this.key=e,this.Ra=!1}}class kue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vo(a=>gN(a),Dh),this.fa=new Map,this.ga=new Set,this.pa=new $t(ye.comparator),this.ya=new Map,this.wa=new O8,this.Sa={},this.ba=new Map,this.Da=vc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Nue(t,e){return xC.apply(this,arguments)}function xC(){return xC=y(function*(t,e){const n=function GC(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vue.bind(null,e),e.Va.a_=Tue.bind(null,e.eventManager),e.Va.Fa=Sue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function Cu(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Eo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Vr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function IC(t,e,n,r,i){return bC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Mm(n.remoteStore,o)}return i}),xC.apply(this,arguments)}function bC(){return bC=y(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=y(function*(m,D,b,G){let Q=D.view.ca(b);Q.Zi&&(Q=yield Tm(m.localStore,D.query,!1).then(({documents:Xe})=>D.view.ca(Xe,Q)));const pe=G&&G.targetChanges.get(D.targetId),Ne=D.view.applyChanges(Q,m.isPrimaryClient,pe);return NC(m,D.targetId,Ne.Ta),Ne.snapshot}),function g(m,D,b,G){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield Tm(t.localStore,e,!0),o=new tF(e,s.ls),a=o.ca(s.documents),c=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);NC(t,n,l.Ta);const u=new Rue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),bC.apply(this,arguments)}function Oue(t,e){return wC.apply(this,arguments)}function wC(){return wC=y(function*(t,e){const n=_e(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Dh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qh(n.remoteStore,r.targetId),Du(n,r.targetId)}).catch(ta))):(Du(n,r.targetId),yield xu(n.localStore,r.targetId,!0))}),wC.apply(this,arguments)}function AC(){return AC=y(function*(t,e,n){const r=function qC(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=_e(o),l=an.now(),u=a.reduce((h,p)=>h.add(p.key),Ze());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ni(),g=Ze();return c.ss.getEntries(h,u).next(m=>{p=m,p.forEach((D,b)=>{b.isValidDocument()||(g=g.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(m=>{d=m;const D=[];for(const b of a){const G=ule(b,d.get(b.key).overlayedDocument);null!=G&&D.push(new yo(b.key,G,eN(G.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,D,a)}).next(m=>{f=m;const D=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,m.batchId,D)})}).then(()=>({batchId:f.batchId,changes:yN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new $t($e)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Co(r,i.changes),yield bu(r.remoteStore)}catch(i){const s=Au(i,"Failed to persist write");n.reject(s)}}),AC.apply(this,arguments)}function nF(t,e){return TC.apply(this,arguments)}function TC(){return TC=y(function*(t,e){const n=_e(t);try{const r=yield function nue(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,m,D;null!==e.targetMismatches.get(d)?h=h.withResumeToken(On.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),m=h,D=u,(0===(g=f).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=ni(),l=Ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function NO(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ni();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Oe.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Me(o.Ra):i.removedDocuments.size>0&&(Me(o.Ra),o.Ra=!1))}),yield Co(n,r,e)}catch(r){yield ta(r)}}),TC.apply(this,arguments)}function rF(t,e,n){const r=_e(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&EC(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vue(t,e,n){return SC.apply(this,arguments)}function SC(){return SC=y(function*(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new $t(ye.comparator);o=o.insert(s,Yt.newNoDocument(s,Oe.min()));const a=Ze().add(s),c=new Fh(Oe.min(),new Map,new $t($e),o,a);yield nF(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),OC(r)}else yield xu(r.localStore,e,!1).then(()=>Du(r,e,n)).catch(ta)}),SC.apply(this,arguments)}function Lue(t,e){return DC.apply(this,arguments)}function DC(){return DC=y(function*(t,e){const n=_e(t),r=e.batch.batchId;try{const i=yield function tue(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const m=l.docVersions.get(p);Me(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ze();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);kC(n,r,null),MC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Co(n,i)}catch(i){yield ta(i)}}),DC.apply(this,arguments)}function Bue(t,e,n){return PC.apply(this,arguments)}function PC(){return PC=y(function*(t,e,n){const r=_e(t);try{const i=yield function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Me(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);kC(r,e,n),MC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Co(r,i)}catch(i){yield ta(i)}}),PC.apply(this,arguments)}function MC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function kC(t,e,n){const r=_e(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||iF(t,r)})}function iF(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Qh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),OC(t))}function NC(t,e,n){for(const r of n)r instanceof ZO?(t.wa.addReference(r.key,e),zue(t,r)):r instanceof eF?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||iF(t,r.key)):De()}function zue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),OC(t))}function OC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ye(pt.fromString(e)),r=t.Da.next();t.ya.set(r,new Mue(n)),t.pa=t.pa.insert(n,r),Mm(t.remoteStore,new Eo(Vr(cu(n.path)),r,"TargetPurposeLimboResolution",_i._e))}}function Co(t,e,n){return FC.apply(this,arguments)}function FC(){return FC=y(function*(t,e,n){const r=_e(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=H8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=y(function*(l,u){const d=_e(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>M.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!na(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,m)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),FC.apply(this,arguments)}function Uue(t,e){return VC.apply(this,arguments)}function VC(){return VC=y(function*(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield MO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Co(n,r._s)}var s}),VC.apply(this,arguments)}function jue(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return Ze().add(r.key);{let i=Ze();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Nm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Kh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function RO(t,e,n,r){return new eue(t,e,n,r)}(this.persistence,new PO,e.initialUser,this.serializer)}createPersistence(e){return new F8(bm.jr,this.serializer)}createSharedClientState(e){return new HO}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pu{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Uue.bind(null,r.syncEngine),yield function hC(t,e){return pC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Aue}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=new lue(e.databaseInfo);return new fue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>rF(this.syncEngine,n,0),a=zO.D()?new zO:new oue,new gue(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new kue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(r){const i=_e(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Iu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class nde{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=Rk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Au(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Fm(t,e){return WC.apply(this,arguments)}function WC(){return WC=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield MO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),WC.apply(this,arguments)}function KC(t,e){return YC.apply(this,arguments)}function YC(){return YC=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function QC(t){return XC.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>YO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YO(e.remoteStore,s)),t._onlineComponents=e}),YC.apply(this,arguments)}function XC(){return XC=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function uF(t){return"FirebaseError"===t.name?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;gi("Error using user provided cache. Falling back to memory cache: "+n),yield Fm(t,new Nm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield Fm(t,new Nm);return t._offlineComponents}),XC.apply(this,arguments)}function Vm(t){return JC.apply(this,arguments)}function JC(){return JC=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield KC(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield KC(t,new Pu))),t._onlineComponents}),JC.apply(this,arguments)}function Mu(t){return ex.apply(this,arguments)}function ex(){return ex=y(function*(t){const e=yield Vm(t),n=e.eventManager;return n.onListen=Nue.bind(null,e.syncEngine),n.onUnlisten=Oue.bind(null,e.syncEngine),n}),ex.apply(this,arguments)}function mF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const _F=new Map;function tx(t,e,n){if(!n)throw new se(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vF(t){if(!ye.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yF(t){if(ye.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":De()}function ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(t);throw new se(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class CF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function hde(t,e,n,r){if(!0===e&&!0===r)throw new se(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new lce;switch(r.type){case"firstParty":return new hce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_F.get(n);r&&(ie("ComponentProvider","Removing Datastore"),_F.delete(n),r.terminate())}(this),Promise.resolve()}}class or{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new or(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Rs extends or{constructor(e,n,r){super(e,n,cu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ye(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function gde(t,e,...n){if(t=un(t),tx("collection","path",e),t instanceof Xh){const r=pt.fromString(e,...n);return yF(r),new Rs(t,null,r)}{if(!(t instanceof Cn||t instanceof Rs))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return yF(r),new Rs(t.firestore,null,r)}}function xF(t,e,...n){if(t=un(t),1===arguments.length&&(e=Rk.newId()),tx("doc","path",e),t instanceof Xh){const r=pt.fromString(e,...n);return vF(r),new Cn(t,null,new ye(r))}{if(!(t instanceof Cn||t instanceof Rs))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return vF(r),new Cn(t.firestore,t instanceof Rs?t.converter:null,new ye(r))}}class mde{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Q8(this,"async_queue_retry"),this.iu=()=>{const n=Rm();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Rm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Rm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Nn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return y(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!na(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,yn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=gC.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return y(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function nx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Gt extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bF(this),this._firestoreClient.terminate()}}function vde(t,e){const r="string"==typeof t?t:e||"(default)",i=xs("object"==typeof t?t:zl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=PR("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function pde(t,e,n,r={}){var i;const s=(t=ct(t,Xh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=zn.MOCK_USER;else{a=function dne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[t1(JSON.stringify({alg:"none",type:"JWT"})),t1(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(l)}t._authCredentials=new uce(new Dk(a,c))}}(i,...s)}return i}function xn(t){return t._firestoreClient||bF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new jce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new nde(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(On.fromBase64String(e))}catch(n){throw new se(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ec(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rx{constructor(e){this._methodName=e}}class ix{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}const Ede=/^__.*__$/;class Cde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class TF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Bm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return zm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(SF(this.Iu)&&Ede.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class xde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}pu(e,n,r,i=!1){return new Bm({Iu:e,methodName:n,gu:r,path:tn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new xde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);ax("Data must be an object, but it was:",o,r);const a=kF(r,o);let c,l;if(s.merge)c=new ti(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=e0(e,d,n);if(!o.contains(f))throw new se(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);OF(u,f)||u.push(f)}c=new ti(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Cde(new sr(a),c,l)}class Zh extends rx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function Cc(t,e){if(NF(t=un(t)))return ax("Unsupported field value:",e,t),kF(t,e);if(t instanceof rx)return function(r,i){if(!SF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Cc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=un(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return IN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=an.fromDate(r);return{timestampValue:gu(i.serializer,s)}}if(r instanceof an){const s=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gu(i.serializer,s)}}if(r instanceof ix)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:$N(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Lm(r)}`)}(t,e)}function kF(t,e){const n={};return Gk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(r,i)=>{const s=Cc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function NF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof an||t instanceof ix||t instanceof Ec||t instanceof Cn||t instanceof rx)}function ax(t,e,n){if(!NF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Lm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function e0(t,e,n){if((e=un(e))instanceof ku)return e._internalPath;if("string"==typeof e)return Hm(t,e);throw zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ade=new RegExp("[~\\*/\\[\\]]");function Hm(t,e,n){if(e.search(Ade)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(z.INVALID_ARGUMENT,a+t+c)}function OF(t,e){return t.some(n=>n.isEqual(e))}class cx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Tde extends cx{data(){return super.data()}}function Um(t,e){return"string"==typeof e?Hm(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}class lx{}class VF extends lx{}function Sde(t,e,...n){let r=[];e instanceof lx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Ou).length,a=s.filter(c=>c instanceof t0).length;if(o>1||o>0&&a>0)throw new se(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class t0 extends VF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t0(e,n,r)}_apply(e){const n=this._parse(e);return zF(e._query,n),new or(e.firestore,e.converter,m8(e._query,n))}_parse(e){const n=Nu(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){HF(d,u);const h=[];for(const p of d)h.push(BF(c,s,p));f={arrayValue:{values:h}}}else f=BF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||HF(d,u),f=function MF(t,e,n,r=!1){return Cc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return at.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dde(t,e,n){const r=e,i=Um("where",t);return t0._create(i,r,n)}class Ou extends lx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ou(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:St.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)zF(o,c),o=m8(o,c)}(e._query,n),new or(e.firestore,e.converter,m8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jm extends VF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jm(e,n,r)}_apply(e){return new or(e.firestore,e.converter,dm(e._query,this._limit,this._limitType))}}function Pde(t){return function EF(t,e){if(e<=0)throw new se(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),jm._create("limit",t,"F")}function BF(t,e,n){if("string"==typeof(n=un(n))){if(""===n)throw new se(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g8(e)&&-1!==n.indexOf("/"))throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ye.isDocumentKey(r))throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lc(t,new ye(r))}if(n instanceof Cn)return lc(t,n._key);throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(n)}.`)}function HF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(z.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Rde{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ra(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ix(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const n=ia(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);Me(eO(r));const i=new cc(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(n)||yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends cx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qm extends Fu{data(e={}){return super.data(e)}}class Vu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qm(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:kde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}class ga extends Rde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Nde(t,e,n){t=ct(t,Cn);const r=ct(t.firestore,Gt),i=function dx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return n0(r,[sx(Nu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,nn.none())])}function Ode(t,e,n,...r){t=ct(t,Cn);const i=ct(t.firestore,Gt),s=Nu(i);let o;return o="string"==typeof(e=un(e))||e instanceof ku?function RF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[e0(e,r,n)],c=[i];if(s.length%2!=0)throw new se(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(e0(e,s[f])),c.push(s[f+1]);const l=[],u=sr.empty();for(let f=a.length-1;f>=0;--f)if(!OF(l,a[f])){const h=a[f];let p=c[f];p=un(p);const g=o.Ru(h);if(p instanceof Zh)l.push(h);else{const m=Cc(p,g);null!=m&&(l.push(h),u.set(h,m))}}const d=new ti(l);return new TF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function PF(t,e,n,r){const i=t.pu(1,e,n);ax("Data must be an object, but it was:",i,r);const s=[],o=sr.empty();ra(r,(c,l)=>{const u=Hm(e,c,n);l=un(l);const d=i.Ru(u);if(l instanceof Zh)s.push(u);else{const f=Cc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new ti(s);return new TF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),n0(i,[o.toMutation(t._key,nn.exists(!0))])}function n0(t,e){return function(r,i){const s=new Nn;return r.asyncQueue.enqueueAndForget(y(function*(){return function Fue(t,e,n){return AC.apply(this,arguments)}(yield function ZC(t){return Vm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(xn(t),e)}!function(e,n=!0){eu=Hl,Mi(new fi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Gt(new dce(r.getProvider("auth-internal")),new pce(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dn(Sk,"4.3.2",e),dn(Sk,"4.3.2","esm2017")}();var Ym=function(){return Ym=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Ym.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Yde={includeMetadataChanges:!1};function gx(t,e){return void 0===e&&(e=Yde),new he(function(n){var r=function Fde(t,...e){var n,r,i;t=un(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||nx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(nx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof Cn)l=ct(t.firestore,Gt),u=cu(t._key.path),c={next:d=>{e[o]&&e[o](function fx(t,e,n){const r=n.docs.get(e._key),i=new ga(t);return new Fu(t,i,e._key,r,new xc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ct(t,or);l=ct(d.firestore,Gt),u=d._query;const f=new ga(l);c={next:h=>{e[o]&&e[o](new Vu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function FF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const m=new Om(g),D=new CC(h,m,p);return f.asyncQueue.enqueueAndForget(y(function*(){return function mC(t,e){return _C.apply(this,arguments)}(yield Mu(f),D)})),()=>{m.Na(),f.asyncQueue.enqueueAndForget(y(function*(){return function vC(t,e){return yC.apply(this,arguments)}(yield Mu(f),D)}))}}(xn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Xde(t,e){return void 0===e&&(e={}),function Qde(t){return gx(t,{includeMetadataChanges:!0})}(t).pipe(Je(function(n){return qF(n,e)}))}function qF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Ym(Ym({},r),((n={})[e.idField]=t.id,n)):r}function rfe(t,e){return void 0===e&&(e={}),function nfe(t){return gx(t,{includeMetadataChanges:!0}).pipe(Je(function(e){return e.docs}))}(t).pipe(Je(function(n){return n.map(function(r){return qF(r,e)})}))}class Ms{constructor(e){return e}}const QF="firestore",vx=new Ie("angularfire2.firestore-instances");function afe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ms(r)}}const cfe={provide:class sfe{constructor(){return l1(QF)}},deps:[[new Ht,vx]]},lfe={provide:Ms,useFactory:function ofe(t,e){const n=c1(QF,t,e);return n&&new Ms(n)},deps:[[new Ht,vx],Xa]};let ufe=(()=>{var t;class e{constructor(){dn("angularfire",Wo.full,"fst")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[lfe,cfe]})),e})();function Ic(t,...e){return{ngModule:ufe,providers:[{provide:vx,useFactory:afe(t),multi:!0,deps:[mt,Mn,Ff,Vf,[new Ht,u9],[new Ht,s6],...e]}]}}const r0=bn(rfe,!0),Lu=bn(Xde,!0),Oi=bn(gde,!0),ar=bn(xF,!0),bc=bn(vde,!0),XF=bn(Pde,!0),s0=bn(Sde,!0),Bu=bn(Nde,!0),o0=bn(Ode,!0),yx=bn(Dde,!0);class Qm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Hu,Ex=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Ex||{}),et=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.JS_VERSION="js-version",t.PLAYERS_RANKINGS_SORT="players-rankings-sort",t}(et||{});class JF{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Lr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new JF(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(JF,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(et.REMOTE_METADATA)}localMetadata(){return this.get(et.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Hu=Lr).\u0275fac=function(e){return new(e||Hu)},Hu.\u0275prov=Ce({token:Hu,factory:Hu.\u0275fac,providedIn:"platform"}),qt([ur(2,Ht())],Lr.prototype,"cache",null),qt([ur(1,Ht())],Lr.prototype,"get",null);var zu,Cx=B(874);class ts{constructor(){this.localStorageService=$(Lr),this._authState=new Pt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(et.USER))return!1;let n=this.localStorageService.get(et.USER).session.timeToken,r=this.localStorageService.get(et.USER).session.refreshToken,i=Date.parse(Cx.AES.decrypt(n,r).toString(Cx.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Qm(s,this.localStorageService.get(et.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(et.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=d9(e).subscribe(r=>{if(null!=r){let i=r0(s0(Oi(n,"valid-users"),yx("email","==",r.email),XF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:Ex.USER},s[0]);o.enabled?(this.localStorageService.cache(et.USER,{session:{timeToken:Cx.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new Qm(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(et.USER),this._authState.emit(new Qm(!1,null))})}}signInWithEmailAndPassword(e,n,r){eae(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){tae(e,new Xie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(et.USER),this._refreshInProgress=!0,this._authState.emit(new Qm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().finally(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ks(t,e){return Le((n,r)=>{let i=0;n.subscribe(it(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xx(...t){return function ffe(){return dp(1)}()(Wn(t,Ed(t)))}function ZF(...t){const e=Ed(t);return Le((n,r)=>{(e?xx(t,n,e):xx(t,n)).subscribe(r)})}(zu=ts).\u0275fac=function(e){return new(e||zu)},zu.\u0275prov=Ce({token:zu,factory:zu.\u0275fac,providedIn:"platform"}),qt([ur(0,Ht())],ts.prototype,"checkLoginValidity",null);const pfe=(t,e)=>e.some(n=>t instanceof n);let eV,tV;const nV=new WeakMap,Ix=new WeakMap,rV=new WeakMap,bx=new WeakMap,wx=new WeakMap;let Ax={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ix.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Cfe(t){return"function"==typeof t?function Efe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mfe(){return tV||(tV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Tx(this),e),ma(nV.get(this))}:function(...e){return ma(t.apply(Tx(this),e))}:function(e,...n){const r=t.call(Tx(this),e,...n);return rV.set(r,e.sort?e.sort():[e]),ma(r)}}(t):(t instanceof IDBTransaction&&function vfe(t){if(Ix.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ix.set(t,e)}(t),pfe(t,function gfe(){return eV||(eV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ax):t)}function ma(t){if(t instanceof IDBRequest)return function _fe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ma(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nV.set(n,t)}).catch(()=>{}),wx.set(e,t),e}(t);if(bx.has(t))return bx.get(t);const e=Cfe(t);return e!==t&&(bx.set(t,e),wx.set(e,t)),e}const Tx=t=>wx.get(t),Ife=["get","getKey","getAll","getAllKeys","count"],bfe=["put","add","delete","clear"],Sx=new Map;function iV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Sx.get(e))return Sx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ife.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Sx.set(e,s),s}!function yfe(t){Ax=t(Ax)}(t=>({...t,get:(e,n,r)=>iV(e,n)||t.get(e,n,r),has:(e,n)=>!!iV(e,n)||t.has(e,n)}));const sV="@firebase/installations",Dx="0.6.4",oV=1e4,aV=`w:${Dx}`,cV="FIS_v2",wfe="https://firebaseinstallations.googleapis.com/v1",Afe=36e5,xo=new Go("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lV(t){return t instanceof Xi&&t.code.includes("request-failed")}function Px({projectId:t}){return`${wfe}/projects/${t}/installations`}function uV(t){return{token:t.token,requestStatus:2,expiresIn:Pfe(t.expiresIn),creationTime:Date.now()}}function Rx(t,e){return Mx.apply(this,arguments)}function Mx(){return Mx=y(function*(t,e){const r=(yield e.json()).error;return xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Mx.apply(this,arguments)}function dV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kx(t){return Nx.apply(this,arguments)}function Nx(){return Nx=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Nx.apply(this,arguments)}function Pfe(t){return Number(t.replace("s","000"))}function Ox(){return Ox=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Px(t),i=dV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:cV,appId:t.appId,sdkVersion:aV})},c=yield kx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:uV(l.authToken)}}throw yield Rx("Create Installation",c)}),Ox.apply(this,arguments)}function hV(t){return new Promise(e=>{setTimeout(e,t)})}const Nfe=/^[cdef][\w-]{21}$/,Fx="";function Ofe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ffe(t){return function kfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Nfe.test(n)?n:Fx}catch{return Fx}}function Uu(t){return`${t.appName}!${t.appId}`}const ju=new Map;function pV(t,e){const n=Uu(t);gV(n,e),function Bfe(t,e){const n=function mV(){return!wc&&"BroadcastChannel"in self&&(wc=new BroadcastChannel("[Firebase] FID Change"),wc.onmessage=t=>{gV(t.data.key,t.data.fid)}),wc}();n&&n.postMessage({key:t,fid:e}),function _V(){0===ju.size&&wc&&(wc.close(),wc=null)}()}(n,e)}function gV(t,e){const n=ju.get(t);if(n)for(const r of n)r(e)}let wc=null;const Hfe="firebase-installations-database",zfe=1,Ac="firebase-installations-store";let Vx=null;function Lx(){return Vx||(Vx=function xfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ma(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ma(o.result),c.oldVersion,c.newVersion,ma(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Hfe,zfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ac)}})),Vx}function Xm(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=y(function*(t,e){const n=Uu(t),i=(yield Lx()).transaction(Ac,"readwrite"),s=i.objectStore(Ac),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pV(t,e.fid),e}),Bx.apply(this,arguments)}function Hx(t){return zx.apply(this,arguments)}function zx(){return zx=y(function*(t){const e=Uu(t),r=(yield Lx()).transaction(Ac,"readwrite");yield r.objectStore(Ac).delete(e),yield r.done}),zx.apply(this,arguments)}function a0(t,e){return Ux.apply(this,arguments)}function Ux(){return Ux=y(function*(t,e){const n=Uu(t),i=(yield Lx()).transaction(Ac,"readwrite"),s=i.objectStore(Ac),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pV(t,a.fid),a}),Ux.apply(this,arguments)}function jx(t){return $x.apply(this,arguments)}function $x(){return $x=y(function*(t){let e;const n=yield a0(t.appConfig,r=>{const i=function Ufe(t){return yV(t||{fid:Ofe(),registrationStatus:0})}(r),s=function jfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function $fe(t,e){return Gx.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Gfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Fx?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),$x.apply(this,arguments)}function Gx(){return Gx=y(function*(t,e){try{const n=yield function Mfe(t,e){return Ox.apply(this,arguments)}(t,e);return Xm(t.appConfig,n)}catch(n){throw lV(n)&&409===n.customData.serverCode?yield Hx(t.appConfig):yield Xm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Gx.apply(this,arguments)}function Gfe(t){return qx.apply(this,arguments)}function qx(){return qx=y(function*(t){let e=yield vV(t.appConfig);for(;1===e.registrationStatus;)yield hV(100),e=yield vV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield jx(t);return r||n}return e}),qx.apply(this,arguments)}function vV(t){return a0(t,e=>{if(!e)throw xo.create("installation-not-found");return yV(e)})}function yV(t){return function qfe(t){return 1===t.registrationStatus&&t.registrationTime+oV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Wx(){return Wx=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Kfe(t,{fid:e}){return`${Px(t)}/${e}/authTokens:generate`}(t,n),i=function fV(t,{refreshToken:e}){const n=dV(t);return n.append("Authorization",function Rfe(t){return`${cV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aV,appId:t.appId}})},c=yield kx(()=>fetch(r,a));if(c.ok)return uV(yield c.json());throw yield Rx("Generate Auth Token",c)}),Wx.apply(this,arguments)}function Kx(t){return Yx.apply(this,arguments)}function Yx(){return Yx=y(function*(t,e=!1){let n;const r=yield a0(t.appConfig,s=>{if(!CV(s))throw xo.create("not-registered");const o=s.authToken;if(!e&&function Xfe(t){return 2===t.requestStatus&&!function Jfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Afe}(t)}(o))return s;if(1===o.requestStatus)return n=function Yfe(t,e){return Qx.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw xo.create("app-offline");const a=function Zfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Qfe(t,e){return Xx.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Yx.apply(this,arguments)}function Qx(){return Qx=y(function*(t,e){let n=yield EV(t.appConfig);for(;1===n.authToken.requestStatus;)yield hV(100),n=yield EV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Kx(t,e):r}),Qx.apply(this,arguments)}function EV(t){return a0(t,e=>{if(!CV(e))throw xo.create("not-registered");return function ehe(t){return 1===t.requestStatus&&t.requestTime+oV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Xx(){return Xx=y(function*(t,e){try{const n=yield function Wfe(t,e){return Wx.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Xm(t.appConfig,r),n}catch(n){if(!lV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Xm(t.appConfig,r)}else yield Hx(t.appConfig);throw n}}),Xx.apply(this,arguments)}function CV(t){return void 0!==t&&2===t.registrationStatus}function Jx(){return Jx=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield jx(e);return r?r.catch(console.error):Kx(e).catch(console.error),n.fid}),Jx.apply(this,arguments)}function Zx(){return Zx=y(function*(t,e=!1){const n=t;return yield function rhe(t){return eI.apply(this,arguments)}(n),(yield Kx(n,e)).token}),Zx.apply(this,arguments)}function eI(){return eI=y(function*(t){const{registrationPromise:e}=yield jx(t);e&&(yield e)}),eI.apply(this,arguments)}function rI(t){return xo.create("missing-app-config-values",{valueName:t})}const xV="installations",che=t=>{const e=t.getProvider("app").getImmediate(),n=function ohe(t){if(!t||!t.options)throw rI("App Configuration");if(!t.name)throw rI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:xs(e,"heartbeat"),_delete:()=>Promise.resolve()}},lhe=t=>{const n=xs(t.getProvider("app").getImmediate(),xV).getImmediate();return{getId:()=>function the(t){return Jx.apply(this,arguments)}(n),getToken:i=>function nhe(t){return Zx.apply(this,arguments)}(n,i)}};(function uhe(){Mi(new fi(xV,che,"PUBLIC")),Mi(new fi("installations-internal",lhe,"PRIVATE"))})(),dn(sV,Dx),dn(sV,Dx,"esm2017");const Jm="analytics",dhe="firebase_id",fhe="origin",hhe=6e4,phe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iI="https://www.googletagmanager.com/gtag/js",$n=new kf("@firebase/analytics"),Br=new Go("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mhe(t){if(!t.startsWith(iI)){const e=Br.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function IV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sI(){return sI=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield IV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){$n.error(a)}t("config",i,s)}),sI.apply(this,arguments)}function oI(){return oI=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield IV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){$n.error(s)}}),oI.apply(this,arguments)}const whe=30,bV=new class The{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function She(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function aI(){return aI=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:She(r)},s=phe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),aI.apply(this,arguments)}function cI(){return cI=y(function*(t,e=bV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Br.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new khe;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:hhe),wV({appId:r,apiKey:i,measurementId:s},o,a,e)}),cI.apply(this,arguments)}function wV(t,e,n){return lI.apply(this,arguments)}function lI(){return lI=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=bV){var s;const{appId:o,measurementId:a}=t;try{yield function Rhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Dhe(t){return aI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function Mhe(t){if(!(t instanceof Xi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?q4(n,i.intervalMillis,whe):q4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),$n.debug(`Calling attemptFetch again in ${u} millis`),wV(t,d,r,i)}}),lI.apply(this,arguments)}class khe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let uI,_I;function dI(){return dI=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),dI.apply(this,arguments)}function hI(){return hI=y(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),hI.apply(this,arguments)}function vI(){return vI=y(function*(){if(!Sf())return $n.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield j4()}catch(t){return $n.warn(Br.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),vI.apply(this,arguments)}function yI(){return yI=y(function*(t,e,n,r,i,s,o){var a;const c=function Phe(t){return cI.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>$n.error(h)),e.push(c);const l=function Hhe(){return vI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function bhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iI)&&n.src.includes(t))return n;return null})(s)||function vhe(t,e){const n=function _he(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:mhe}),r=document.createElement("script"),i=`${iI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),_I&&(i("consent","default",_I),function AV(t){_I=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[fhe]="firebase",f.update=!0,null!=d&&(f[dhe]=d),i("config",u.measurementId,f),uI&&(i("set",uI),function TV(t){uI=t}(void 0)),u.measurementId}),yI.apply(this,arguments)}class Uhe{constructor(e){this.app=e}_delete(){return delete Ns[this.app.options.appId],Promise.resolve()}}let Ns={},SV=[];const DV={};let RV,Os,Zm="dataLayer",EI=!1;function $he(t,e,n){!function jhe(){const t=[];if(U4()&&t.push("This is a browser extension environment."),kR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Br.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}();const r=t.options.appId;if(!r)throw Br.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Br.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ns[r])throw Br.create("already-exists",{id:r});if(!EI){!function yhe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Zm);const{wrappedGtag:s,gtagCore:o}=function Ihe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function xhe(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function Che(t,e,n,r,i){return oI.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function Ehe(t,e,n,r,i,s){return sI.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){$n.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ns,SV,DV,Zm,"gtag");Os=s,RV=o,EI=!0}return Ns[r]=function zhe(t,e,n,r,i,s,o){return yI.apply(this,arguments)}(t,SV,DV,e,RV,Zm,n),new Uhe(t)}function Ghe(t=zl()){const e=xs(t=un(t),Jm);return e.isInitialized()?e.getImmediate():function qhe(t,e={}){const n=xs(t,Jm);if(n.isInitialized()){const i=n.getImmediate();if(Df(e,n.getOptions()))return i;throw Br.create("already-initialized")}return n.initialize({options:e})}(t)}function Whe(){return CI.apply(this,arguments)}function CI(){return(CI=y(function*(){if(U4()||!kR()||!Sf())return!1;try{return yield j4()}catch{return!1}})).apply(this,arguments)}function Khe(t,e,n){t=un(t),function Fhe(t,e,n,r){return hI.apply(this,arguments)}(Os,Ns[t.app.options.appId],e,n).catch(r=>$n.error(r))}function MV(t,e,n,r){t=un(t),function Nhe(t,e,n,r,i){return dI.apply(this,arguments)}(Os,Ns[t.app.options.appId],e,n,r).catch(i=>$n.error(i))}const kV="@firebase/analytics";!function Yhe(){Mi(new fi(Jm,(e,{options:n})=>$he(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Mi(new fi("analytics-internal",function t(e){try{const n=e.getProvider(Jm).getImmediate();return{logEvent:(r,i,s)=>MV(n,r,i,s)}}catch(n){throw Br.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),dn(kV,"0.10.0"),dn(kV,"0.10.0","esm2017")}();const c0=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Xhe}=Array,{getPrototypeOf:Jhe,prototype:Zhe,keys:e0e}=Object;function OV(t){if(1===t.length){const e=t[0];if(Xhe(e))return{args:e,keys:null};if(function t0e(t){return t&&"object"==typeof t&&Jhe(t)===Zhe}(e)){const n=e0e(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:n0e}=Array;function FV(t){return Je(e=>function r0e(t,e){return n0e(e)?t(...e):t(e)}(t,e))}function VV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function LV(...t){const e=Ed(t),n=Nw(t),{args:r,keys:i}=OV(t);if(0===r.length)return Wn([],e);const s=new he(function i0e(t,e,n=Ee){return r=>{BV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)BV(e,()=>{const l=Wn(t[c],e);let u=!1;l.subscribe(it(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>VV(i,o):Ee));return n?s.pipe(FV(n)):s}function BV(t,e,n){t?$s(n,t,e):e()}function HV(t){return new he(e=>{fr(t()).subscribe(e)})}function l0(t,e){const n=P(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function II(){return Le((t,e)=>{let n=null;t._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class zV extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return II()(this)}}function $u(t){return t<=0?()=>as:Le((e,n)=>{let r=0;e.subscribe(it(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function e2(t){return Le((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function UV(t=s0e){return Le((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function s0e(){return new c0}function Tc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):Ee,$u(1),n?e2(e):UV(()=>new c0))}function u0(t,e){return P(e)?qn(t,e,1):qn(t,1)}function Sc(t){return Le((e,n)=>{let s,r=null,i=!1;r=e.subscribe(it(n,void 0,void 0,o=>{s=fr(t(o,Sc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function bI(t){return t<=0?()=>as:Le((e,n)=>{let r=[];e.subscribe(it(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function d0(t){return Le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const tt="primary",f0=Symbol("RouteTitle");class d0e{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gu(t){return new d0e(t)}function f0e(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fs(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jV(t[i],e[i]))return!1;return!0}function jV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function $V(t){return t.length>0?t[t.length-1]:null}function _a(t){return function Qhe(t){return!!t&&(t instanceof he||P(t.lift)&&P(t.subscribe))}(t)?t:cf(t)?Wn(Promise.resolve(t)):Be(t)}const p0e={exact:function WV(t,e,n){if(!Dc(t.segments,e.segments)||!t2(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!WV(t.children[r],e.children[r],n))return!1;return!0},subset:KV},GV={exact:function g0e(t,e){return Fs(t,e)},subset:function m0e(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jV(t[n],e[n]))},ignored:()=>!0};function qV(t,e,n){return p0e[n.paths](t.root,e.root,n.matrixParams)&&GV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function KV(t,e,n){return YV(t,e,e.segments,n)}function YV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Dc(i,n)||e.hasChildren()||!t2(i,n,r))}if(t.segments.length===n.length){if(!Dc(t.segments,n)||!t2(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!KV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Dc(t.segments,i)&&t2(t.segments,i,r)&&t.children[tt])&&YV(t.children[tt],e,s,r)}}function t2(t,e,n){return e.every((r,i)=>GV[n](t[i].parameters,r.parameters))}class qu{constructor(e=new Dt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return y0e.serialize(this)}}class Dt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return n2(this)}}class h0{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Gu(this.parameters)),this._parameterMap}toString(){return JV(this)}}function Dc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let p0=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new wI},providedIn:"root"}),e})();class wI{parse(e){const n=new P0e(e);return new qu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${g0(e.root,!0)}`,r=function x0e(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${r2(n)}=${r2(i)}`).join("&"):`${r2(n)}=${r2(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function E0e(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const y0e=new wI;function n2(t){return t.segments.map(e=>JV(e)).join("/")}function g0(t,e){if(!t.hasChildren())return n2(t);if(e){const n=t.children[tt]?g0(t.children[tt],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==tt&&r.push(`${i}:${g0(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function v0e(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===tt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==tt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===tt?[g0(t.children[tt],!1)]:[`${i}:${g0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[tt]?`${n2(t)}/${n[0]}`:`${n2(t)}/(${n.join("//")})`}}function QV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r2(t){return QV(t).replace(/%3B/gi,";")}function AI(t){return QV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s2(t){return decodeURIComponent(t)}function XV(t){return s2(t.replace(/\+/g,"%20"))}function JV(t){return`${AI(t.path)}${function C0e(t){return Object.keys(t).map(e=>`;${AI(e)}=${AI(t[e])}`).join("")}(t.parameters)}`}const I0e=/^[^\/()?;#]+/;function TI(t){const e=t.match(I0e);return e?e[0]:""}const b0e=/^[^\/()?;=#]+/,A0e=/^[^=?&#]+/,S0e=/^[^&#]+/;class P0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[tt]=new Dt(e,n)),r}parseSegment(){const e=TI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new h0(s2(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function w0e(t){const e=t.match(b0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=TI(this.remaining);i&&(r=i,this.capture(r))}e[s2(n)]=s2(r)}parseQueryParam(e){const n=function T0e(t){const e=t.match(A0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function D0e(t){const e=t.match(S0e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XV(n),s=XV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=TI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=tt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[tt]:new Dt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function ZV(t){return t.segments.length>0?new Dt([],{[tt]:t}):t}function eL(t){const e={};for(const r of Object.keys(t.children)){const s=eL(t.children[r]);if(r===tt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function R0e(t){if(1===t.numberOfChildren&&t.children[tt]){const e=t.children[tt];return new Dt(t.segments.concat(e.segments),e.children)}return t}(new Dt(t.segments,e))}function Pc(t){return t instanceof qu}function tL(t){let e;const i=ZV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new Dt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function nL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return SI(i,i,i,n,r);const s=function k0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new iL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new iL(n,e,r)}(e);if(s.toRoot())return SI(i,i,new Dt([],{}),n,r);const o=function N0e(t,e,n){if(t.isAbsolute)return new a2(e,!0,0);if(!n)return new a2(e,!1,NaN);if(null===n.parent)return new a2(n,!0,0);const r=o2(t.commands[0])?0:1;return function O0e(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new a2(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?_0(o.segmentGroup,o.index,s.commands):sL(o.segmentGroup,o.index,s.commands);return SI(i,o.segmentGroup,a,n,r)}function o2(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function m0(t){return"object"==typeof t&&null!=t&&t.outlets}function SI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:rL(t,e,n);const a=ZV(eL(o));return new qu(a,s,i)}function rL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:rL(s,e,n)}),new Dt(t.segments,r)}class iL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&o2(r[0]))throw new re(4003,!1);const i=r.find(m0);if(i&&i!==$V(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a2{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function sL(t,e,n){if(t||(t=new Dt([],{})),0===t.segments.length&&t.hasChildren())return _0(t,e,n);const r=function V0e(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(m0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!aL(c,l,o))return s;r+=2}else{if(!aL(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Dt(t.segments.slice(0,r.pathIndex),{});return s.children[tt]=new Dt(t.segments.slice(r.pathIndex),t.children),_0(s,0,i)}return r.match&&0===i.length?new Dt(t.segments,{}):r.match&&!t.hasChildren()?DI(t,e,n):r.match?_0(t,0,i):DI(t,e,n)}function _0(t,e,n){if(0===n.length)return new Dt(t.segments,{});{const r=function F0e(t){return m0(t[0])?t[0].outlets:{[tt]:t}}(n),i={};if(Object.keys(r).some(s=>s!==tt)&&t.children[tt]&&1===t.numberOfChildren&&0===t.children[tt].segments.length){const s=_0(t.children[tt],e,n);return new Dt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=sL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Dt(t.segments,i)}}function DI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(m0(s)){const c=L0e(s.outlets);return new Dt(r,c)}if(0===i&&o2(n[0])){r.push(new h0(t.segments[e].path,oL(n[0]))),i++;continue}const o=m0(s)?s.outlets[tt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&o2(a)?(r.push(new h0(o,oL(a))),i+=2):(r.push(new h0(o,{})),i++)}return new Dt(r,{})}function L0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=DI(new Dt([],{}),0,r))}),e}function oL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aL(t,e,n){return t==n.path&&Fs(e,n.parameters)}const v0="imperative";class Vs{constructor(e,n){this.id=e,this.url=n}}class PI extends Vs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wu extends Vs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class y0 extends Vs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E0 extends Vs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class c2 extends Vs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cL extends Vs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0e extends Vs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H0e extends Vs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z0e extends Vs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U0e extends Vs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RI{}class MI{constructor(e){this.url=e}}class K0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new C0,this.attachRef=null}}let C0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new K0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class uL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=kI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=kI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=NI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return NI(e,this._root).map(n=>n.value)}}function kI(t,e){if(t===e.value)return e;for(const n of e.children){const r=kI(t,n);if(r)return r}return null}function NI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=NI(t,n);if(r.length)return r.unshift(e),r}return[]}class Io{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ku(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class dL extends uL{constructor(e,n){super(e),this.snapshot=n,OI(this,e)}toString(){return this.snapshot.toString()}}function fL(t,e){const n=function Y0e(t,e){const o=new l2([],{},{},"",{},tt,e,null,{});return new pL("",new Io(o,[]))}(0,e),r=new Ei([new h0("",{})]),i=new Ei({}),s=new Ei({}),o=new Ei({}),a=new Ei(""),c=new Yu(r,i,o,a,s,tt,e,n.root);return c.snapshot=n.root,new dL(new Io(c,[]),n)}class Yu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Je(l=>l[f0]))??Be(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(e=>Gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(e=>Gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Q0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class l2{get title(){return this.data?.[f0]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pL extends uL{constructor(e,n){super(n),this.url=e,OI(this,n)}toString(){return gL(this._root)}}function OI(t,e){e.value._routerState=t,e.children.forEach(n=>OI(t,n))}function gL(t){const e=t.children.length>0?` { ${t.children.map(gL).join(", ")} } `:"";return`${t.value}${e}`}function FI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Fs(e.params,n.params)||t.paramsSubject.next(n.params),function h0e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fs(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Fs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VI(t,e){const n=Fs(t.params,e.params)&&function _0e(t,e){return Dc(t,e)&&t.every((n,r)=>Fs(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||VI(t.parent,e.parent))}let mL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=tt,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.parentContexts=$(C0),this.location=$(qi),this.changeDetector=$(Cs),this.environmentInjector=$(Ai),this.inputBinder=$(u2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new X0e(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]}),e})();class X0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Yu?this.route:e===C0?this.childContexts:this.parent.get(e,n)}}const u2=new Ie("");function x0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Z0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return x0(t,r,i);return x0(t,r)})}(t,e,n);return new Io(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>x0(t,a)),o}}const r=function epe(t){return new Yu(new Ei(t.url),new Ei(t.params),new Ei(t.queryParams),new Ei(t.fragment),new Ei(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>x0(t,s));return new Io(r,i)}}const LI="ngNavigationCancelingError";function vL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Pc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function yL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[LI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EL(t){return t&&t[LI]}let BI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["ng-component"]],standalone:!0,features:[o7],decls:1,vars:0,template:function(r,i){1&r&&Ue(0,"router-outlet")},dependencies:[mL],encapsulation:2}),e})();function HI(t){const e=t.children&&t.children.map(HI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==tt&&(n.component=BI),n}function ns(t){return t.outlet||tt}function I0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class cpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),FI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ku(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ku(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ku(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ku(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new q0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(FI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),FI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=I0(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class CL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class d2{constructor(e,n){this.component=e,this.route=n}}function lpe(t,e,n){const r=t._root;return b0(r,e?e._root:null,n,[r.value])}function Qu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function zj(t){return null!==mp(t)}(t)?e.get(t):t:r}function b0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ku(e);return t.children.forEach(o=>{(function dpe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function fpe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dc(t.url,e.url)||!Fs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VI(t,e)||!Fs(t.queryParams,e.queryParams);default:return!VI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new CL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),b0(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new d2(a.outlet.component,o))}else o&&w0(e,a,i),i.canActivateChecks.push(new CL(r)),b0(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>w0(a,n.getContext(o),i)),i}function w0(t,e,n){const r=Ku(t),i=t.value;Object.entries(r).forEach(([s,o])=>{w0(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new d2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function A0(t){return"function"==typeof t}function xL(t){return t instanceof c0||"EmptyError"===t?.name}const f2=Symbol("INITIAL_VALUE");function Xu(){return Ci(t=>LV(t.map(e=>e.pipe($u(1),ZF(f2)))).pipe(Je(e=>{for(const n of e)if(!0!==n){if(n===f2)return f2;if(!1===n||n instanceof qu)return n}return!0}),ks(e=>e!==f2),$u(1)))}function IL(t){return function le(...t){return Fe(t)}(tr(e=>{if(Pc(e))throw vL(0,e)}),Je(e=>!0===e))}class h2{constructor(e){this.segmentGroup=e||null}}class bL{constructor(e){this.urlTree=e}}function Ju(t){return l0(new h2(t))}function wL(t){return l0(new bL(t))}class Mpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Be(r);if(i.numberOfChildren>1||!i.children[tt])return l0(new re(4e3,!1));i=i.children[tt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new qu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Dt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const zI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kpe(t,e,n,r,i){const s=UI(t,e,n);return s.matched?(r=function npe(t,e){return t.providers&&!t._injector&&(t._injector=s7(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Dpe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Be(i.map(o=>{const a=Qu(o,t);return _a(function vpe(t){return t&&A0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xu(),IL()):Be(!0)}(r,e,n).pipe(Je(o=>!0===o?s:{...zI}))):Be(s)}function UI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...zI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||f0e)(n,t,e);if(!i)return{...zI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function AL(t,e,n,r){return n.length>0&&function Fpe(t,e,n){return n.some(r=>p2(t,e,r)&&ns(r)!==tt)}(t,n,r)?{segmentGroup:new Dt(e,Ope(r,new Dt(n,t.children))),slicedSegments:[]}:0===n.length&&function Vpe(t,e,n){return n.some(r=>p2(t,e,r))}(t,n,r)?{segmentGroup:new Dt(t.segments,Npe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Dt(t.segments,t.children),slicedSegments:n}}function Npe(t,e,n,r,i){const s={};for(const o of r)if(p2(t,n,o)&&!i[ns(o)]){const a=new Dt([],{});s[ns(o)]=a}return{...i,...s}}function Ope(t,e){const n={};n[tt]=e;for(const r of t)if(""===r.path&&ns(r)!==tt){const i=new Dt([],{});n[ns(r)]=i}return n}function p2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class zpe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mpe(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=AL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tt).pipe(Sc(n=>{if(n instanceof bL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof h2?this.noMatchError(n):n}),Je(n=>{const r=new l2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tt,this.rootComponentType,null,{}),i=new Io(r,n),s=new pL("",i),o=function M0e(t,e,n=null,r=null){return nL(tL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,tt).pipe(Sc(r=>{throw r instanceof h2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=hL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Wn(i).pipe(u0(s=>{const o=r.children[s],a=function ope(t,e){const n=t.filter(r=>ns(r)===e);return n.push(...t.filter(r=>ns(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function a0e(t,e){return Le(function o0e(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(it(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),e2(null),function c0e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):Ee,bI(1),n?e2(e):UV(()=>new c0))}(),qn(s=>{if(null===s)return Ju(r);const o=TL(s);return function Upe(t){t.sort((e,n)=>e.value.outlet===tt?-1:n.value.outlet===tt?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Be(o)}))}processSegment(e,n,r,i,s,o){return Wn(n).pipe(u0(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Sc(c=>{if(c instanceof h2)return Be(null);throw c}))),Tc(a=>!!a),Sc(a=>{if(xL(a))return function Bpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Be([]):Ju(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Lpe(t,e,n,r){return!!(ns(t)===r||r!==tt&&p2(e,n,t))&&("**"===t.path||UI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ju(i):Ju(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(qn(o=>{const a=new Dt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=UI(n,i,s);if(!a)return Ju(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?wL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(qn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?$V(i).parameters:{};a=Be({snapshot:new l2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SL(r),ns(r),r.component??r._loadedComponent??null,r,DL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=kpe(n,r,i,e).pipe(Je(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new l2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SL(r),ns(r),r.component??r._loadedComponent??null,r,DL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Ci(c=>null===c?Ju(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ci(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=AL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Je(D=>null===D?null:[new Io(d,D)]));if(0===l.length&&0===g.length)return Be([new Io(d,[])]);const m=ns(r)===s;return this.processSegment(u,l,p,g,m?tt:s,!0).pipe(Je(D=>[new Io(d,D)]))}))))}getChildConfig(e,n,r){return n.children?Be({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Be({routes:n._loadedRoutes,injector:n._loadedInjector}):function Spe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Be(!0):Be(i.map(o=>{const a=Qu(o,t);return _a(function ppe(t){return t&&A0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xu(),IL())}(e,n,r).pipe(qn(i=>i?this.configLoader.loadChildren(e,n).pipe(tr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Rpe(t){return l0(yL(!1,3))}())):Be({routes:[],injector:e})}}function jpe(t){const e=t.value.routeConfig;return e&&""===e.path}function TL(t){const e=[],n=new Set;for(const r of t){if(!jpe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=TL(r.children);e.push(new Io(r.value,i))}return e.filter(r=>!n.has(r))}function SL(t){return t.data||{}}function DL(t){return t.resolve||{}}function PL(t){return"string"==typeof t.title||null===t.title}function jI(t){return Ci(e=>{const n=t(e);return n?Wn(n).pipe(Je(()=>e)):Be(e)})}const g2=new Ie("ROUTES");let RL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(bJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Be(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=_a(r.loadComponent()).pipe(Je(ML),tr(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),d0(()=>{this.componentLoaders.delete(r)})),s=new zV(i,()=>new ne).pipe(II());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Qpe(t,e,n,r){return _a(t.loadChildren()).pipe(Je(ML),qn(i=>i instanceof r7||Array.isArray(i)?Be(i):Wn(e.compileModuleAsync(i))),Je(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(g2,[],{optional:!0,self:!0}).flat()),{routes:o.map(HI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(d0(()=>{this.childrenLoaders.delete(i)})),a=new zV(o,()=>new ne).pipe(II());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ML(t){return function Xpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let m2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=$(RL),this.environmentInjector=$(Ai),this.urlSerializer=$(p0),this.rootContexts=$(C0),this.inputBindingEnabled=null!==$(u2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new $0e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new j0e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Ei({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:v0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ks(o=>0!==o.id),Je(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),Ci(o=>{this.currentTransition=o;let a=!1,c=!1;return Be(o).pipe(tr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new E0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),as}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Be(l).pipe(Ci(h=>{const p=this.transitions?.getValue();return this.events.next(new PI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?as:Promise.resolve(h)}),function $pe(t,e,n,r,i,s){return qn(o=>function Hpe(t,e,n,r,i,s,o="emptyOnly"){return new zpe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Je(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),tr(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new cL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:m,extras:D}=l,b=new PI(h,this.urlSerializer.serialize(p),g,m);this.events.next(b);const G=fL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:G,urlAfterRedirects:p,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},Be(o)}{const h="";return this.events.next(new E0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),as}}),tr(l=>{const u=new B0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Je(l=>(this.currentTransition=o={...l,guards:lpe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Epe(t,e){return qn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Be({...n,guardsResult:!0}):function Cpe(t,e,n,r){return Wn(t).pipe(qn(i=>function Tpe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Be(s.map(a=>{const c=I0(e)??i,l=Qu(a,c);return _a(function _pe(t){return t&&A0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Tc())})).pipe(Xu()):Be(!0)}(i.component,i.route,n,e,r)),Tc(i=>!0!==i,!0))}(o,r,i,t).pipe(qn(a=>a&&function hpe(t){return"boolean"==typeof t}(a)?function xpe(t,e,n,r){return Wn(e).pipe(u0(i=>xx(function bpe(t,e){return null!==t&&e&&e(new G0e(t)),Be(!0)}(i.route.parent,r),function Ipe(t,e){return null!==t&&e&&e(new W0e(t)),Be(!0)}(i.route,r),function Ape(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function upe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>HV(()=>Be(o.guards.map(c=>{const l=I0(o.node)??n,u=Qu(c,l);return _a(function mpe(t){return t&&A0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Tc())})).pipe(Xu())));return Be(s).pipe(Xu())}(t,i.path,n),function wpe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Be(!0);const i=r.map(s=>HV(()=>{const o=I0(e)??n,a=Qu(s,o);return _a(function gpe(t){return t&&A0(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Tc())}));return Be(i).pipe(Xu())}(t,i.route,n))),Tc(i=>!0!==i,!0))}(r,s,t,e):Be(a)),Je(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),tr(l=>{if(o.guardsResult=l.guardsResult,Pc(l.guardsResult))throw vL(0,l.guardsResult);const u=new H0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ks(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),jI(l=>{if(l.guards.canActivateChecks.length)return Be(l).pipe(tr(u=>{const d=new z0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ci(u=>{let d=!1;return Be(u).pipe(function Gpe(t,e){return qn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Be(n);let s=0;return Wn(i).pipe(u0(o=>function qpe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!PL(i)&&(s[f0]=i.title),function Wpe(t,e,n,r){const i=function Kpe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Be({});const s={};return Wn(i).pipe(qn(o=>function Ype(t,e,n,r){const i=I0(e)??r,s=Qu(t,i);return _a(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Tc(),tr(a=>{s[o]=a}))),bI(1),function l0e(t){return Je(()=>t)}(s),Sc(o=>xL(o)?as:l0(o)))}(s,t,e,r).pipe(Je(o=>(t._resolvedData=o,t.data=hL(t,n).resolve,i&&PL(i)&&(t.data[f0]=i.title),null)))}(o.route,r,t,e)),tr(()=>s++),bI(1),qn(o=>s===i.length?Be(n):as))})}(r.paramsInheritanceStrategy,this.environmentInjector),tr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),tr(u=>{const d=new U0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),jI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(tr(h=>{d.component=h}),Je(()=>{})));for(const h of d.children)f.push(...u(h));return f};return LV(u(l.targetSnapshot.root)).pipe(e2(),$u(1))}),jI(()=>this.afterPreactivation()),Je(l=>{const u=function J0e(t,e,n){const r=x0(t,e._root,n?n._root:void 0);return new dL(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),tr(()=>{this.events.next(new RI)}),((t,e,n,r)=>Je(i=>(new cpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$u(1),tr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function u0e(t){return Le((e,n)=>{fr(t).subscribe(it(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(tr(l=>{throw l}))),d0(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Sc(l=>{if(c=!0,EL(l))this.events.next(new y0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function tpe(t){return EL(t)&&Pc(t.url)}(l)?this.events.next(new MI(l.url)):o.resolve(!1);else{this.events.next(new c2(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return as}))}))}cancelNavigationTransition(r,i,s){const o=new y0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kL(t){return t!==v0}let NL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===tt);return i}getResolvedTitleForRoute(r){return r.data[f0]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return $(Jpe)},providedIn:"root"}),e})(),Jpe=(()=>{var t;class e extends NL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(O4))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Zpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return $(tge)},providedIn:"root"}),e})();class ege{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let tge=(()=>{var t;class e extends ege{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Zn(t)))(i||t)}}(),t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $I=new Ie("",{providedIn:"root",factory:()=>({})});let nge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return $(rge)},providedIn:"root"}),e})(),rge=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var T0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(T0||{});function ige(t){throw t}function sge(t,e,n){return e.parse("/")}const oge={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},age={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$(J7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=$($I,{optional:!0})||{},this.pendingTasks=$(Mg),this.errorHandler=this.options.errorHandler||ige,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sge,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$(nge),this.routeReuseStrategy=$(Zpe),this.titleStrategy=$(NL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$(g2,{optional:!0})?.flat()??[],this.navigationTransitions=$(m2),this.urlSerializer=$(p0),this.location=$(l4),this.componentInputBindingEnabled=!!$(u2,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=$(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(FL(i)&&this._events.next(i));if(i instanceof PI)kL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof E0)this.rawUrlTree=s.rawUrl;else if(i instanceof cL){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof RI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof y0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof MI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kL(s.source)};this.scheduleNavigation(o,v0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof c2&&this.restoreHistory(s,!0),i instanceof Wu&&(this.navigated=!0),FL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),v0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(HI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=tL(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return nL(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Pc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,v0,null,i)}navigate(r,i={skipLocationChange:!1}){return function cge(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...oge}:!1===i?{...age}:i,Pc(r))return qV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return qV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function OL(t,e){t.events.pipe(ks(n=>n instanceof Wu||n instanceof y0||n instanceof c2||n instanceof E0),Je(n=>n instanceof Wu||n instanceof E0?T0.COMPLETE:n instanceof y0&&(0===n.code||1===n.code)?T0.REDIRECTING:T0.FAILED),ks(n=>n!==T0.REDIRECTING),$u(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function FL(t){return!(t instanceof RI||t instanceof MI)}class Zu{constructor(e){return e}}const jL="analytics",KI="__angularfire_symbol__analyticsIsSupportedValue",$L="__angularfire_symbol__analyticsIsSupported";globalThis[$L]||=Whe().then(t=>globalThis[KI]=t).catch(()=>globalThis[KI]=!1);const _2={async:()=>globalThis[$L],sync:()=>{const t=globalThis[KI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},GL=_2.async,_ge=bn(Ghe,!0),S0=bn(MV,!0),vge=bn(Khe,!0);let qL=(()=>{var t;class e{constructor(r,i,s){let o;Ct(this,"initialized",void 0),Ct(this,"disposables",[]),dn("angularfire",Wo.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),GL().then(()=>{const a=s.get(Zu);a?this.disposables=[d9(r).subscribe(c=>{vge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(Qf),Re(mt),Re(Mn))}),Ct(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const WL="firebase_screen_id",YI="outlet",D0="screen_class",KL="screen_name";let Pge=Math.floor(Math.random()*(2**32-1))-2**31;const QI={},Rge=t=>{const e=[t[D0],t[YI]].join("#");if(QI.hasOwnProperty(e))return QI[e];{const n=Pge++;return QI[e]=n,n}},Mge=(t,e,n)=>t.events.pipe(ks(i=>i instanceof lL)).pipe(Ci(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Be(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[KL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[YI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===BI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Be({...u,[D0]:d});if(d){const f=n.resolveComponentFactory(d);return Be({...u,[D0]:f.selector})}return Be(null)}),ks(i=>!!i),Je(i=>({firebase_screen_class:i[D0],[WL]:Rge(i),...i})),function dfe(t,e,n,r){return Le((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new nt(s,p=>{try{const g=t(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new ne);const D=function h(p,g){const m=new he(D=>{u++;const b=g.subscribe(D);return()=>{b.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return m.key=p,m}(g,m);if(s.next(D),n){const b=it(m,()=>{m.complete(),b?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(fr(n(D)).subscribe(b))}}m.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[YI]),qn(i=>i.pipe(Vw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),ZF(void 0),function hfe(){return Le((t,e)=>{let n,r=!1;t.subscribe(it(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Je(([s,o])=>s?{firebase_previous_class:s[D0],firebase_previous_screen:s[KL],firebase_previous_id:s[WL],...o}:o))));let kge=(()=>{var t;class e{constructor(r,i,s,o,a,c){Ct(this,"disposable",void 0),dn("angularfire",Wo.full,"screen-tracking"),GL().then(()=>{const l=c.get(Zu);!r||!l||o.runOutsideAngular(()=>{this.disposable=Mge(r,i,s).pipe(Ci(function(){var u=y(function*(d){return a&&(yield a.initialized),S0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(rs,8),Re(O4,8),Re(Qd),Re(mt),Re(qL,8),Re(Mn))}),Ct(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const XI=new Ie("angularfire2.analytics-instances");function Oge(t){return(e,n)=>{if(!_2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Zu(r)}}const Fge={provide:class mge{constructor(){return l1(jL)}},deps:[[new Ht,XI]]},Vge={provide:Zu,useFactory:function Nge(t,e){if(!_2.sync())return null;const n=c1(jL,t,e);return n&&new Zu(n)},deps:[[new Ht,XI],Xa]};let Lge=(()=>{var t;class e{constructor(r,i){dn("angularfire",Wo.full,"analytics")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(kge,8),Re(qL,8))}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[Vge,Fge,{provide:X7,useValue:_2.async,multi:!0}]})),e})();function Bge(t,...e){return{ngModule:Lge,providers:[{provide:XI,useFactory:Oge(t),multi:!0,deps:[mt,Mn,Ff,Vf,...e]}]}}let YL=(()=>{var t;class e{constructor(){this.localStorageService=$(Lr),this.delay=function(){var r=y(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(2e3).finally(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(et.USER);this.localStorageService.clearAll(),this.localStorageService.cache(et.USER,s),this.localStorageService.cache(et.LOCAL_METADATA,i),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Hge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&lf("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const zge=["updateNotification"];function Uge(t,e){1&t&&Ue(0,"span",25,26)}let jge=(()=>{var t;class e{constructor(){this.dgAPI=$(Ri),this.changeDetector=$(Cs),this.authService=$(ts),this.changelogService=$(YL),this.analytics=$(Zu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");S0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),S0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new he(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&ui(zge,5),2&r){let s;Qr(s=Xr())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(k(0,"div",0)(1,"ul",1)(2,"li",2),_t(3,Uge,2,0,"span",3),Wt(4,"async"),k(5,"a",4),Ue(6,"img",5),k(7,"span",6),K(8,"home"),O()()(),k(9,"li",7)(10,"a",8),Ue(11,"img",9),k(12,"span",6),K(13,"planets"),O()()(),k(14,"li",10)(15,"a",11),Ue(16,"img",12),k(17,"span",6),K(18,"radar"),O()()(),k(19,"li",13)(20,"a",14),Ue(21,"img",15),k(22,"span",6),K(23,"fleets"),O()()(),k(24,"li",16)(25,"a",17),Ue(26,"img",18),k(27,"span",6),K(28,"navigation"),O()()(),k(29,"li",19)(30,"a",20),Ue(31,"img",21),k(32,"span",6),K(33,"research"),O()()(),k(34,"li",22)(35,"a",23),Ue(36,"img",24),k(37,"span",6),K(38,"alliances"),O()()()()()),2&r&&(ae(2),Te("tabName","home"),ae(1),Te("ngIf",Si(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),ae(6),Te("tabName","planets"),ae(5),Te("tabName","radar"),ae(5),Te("tabName","fleets"),ae(5),Te("tabName","navigation"),ae(5),Te("tabName","research"),ae(5),Te("tabName","alliances"))},dependencies:[Ki,Hge,bf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const Gn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},JI=new Map,QL={activated:!1,tokenObservers:[]},$ge={initialized:!1,enabled:!1};function pn(t){return JI.get(t)||Object.assign({},QL)}function v2(){return $ge}const ZI="https://content-firebaseappcheck.googleapis.com/v1",Kge="exchangeDebugToken",XL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Bl,yield function Xge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Bl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const cr=new Go("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function eb(t){if(!pn(t).activated)throw cr.create("use-before-activation",{appName:t.name})}function tb(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=E2(n)+"d:"),r&&(o+=E2(r)+"h:"),o+=E2(i)+"m:"+E2(s)+"s",o}function E2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function C2(t,e){return nb.apply(this,arguments)}function nb(){return nb=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw cr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw cr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw cr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw cr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),nb.apply(this,arguments)}function JL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZI}/projects/${n}/apps/${r}:${Kge}?key=${i}`,body:{debug_token:e}}}const t1e="firebase-app-check-database",n1e=1,P0="firebase-app-check-store",ZL="debug-token";let x2=null;function eB(){return x2||(x2=new Promise((t,e)=>{try{const n=indexedDB.open(t1e,n1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(cr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(P0,{keyPath:"compositeKey"})}}catch(n){e(cr.create("storage-open",{originalErrorMessage:n?.message}))}}),x2)}function tB(t,e){return rb.apply(this,arguments)}function rb(){return rb=y(function*(t,e){const r=(yield eB()).transaction(P0,"readwrite"),s=r.objectStore(P0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(cr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),rb.apply(this,arguments)}function nB(t){return ib.apply(this,arguments)}function ib(){return ib=y(function*(t){const n=(yield eB()).transaction(P0,"readonly"),i=n.objectStore(P0).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(cr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),ib.apply(this,arguments)}function rB(t){return`${t.options.appId}-${t.name}`}const R0=new kf("@firebase/app-check");function sb(){return sb=y(function*(t){if(Sf()){let e;try{e=yield function r1e(t){return nB(rB(t))}(t)}catch(n){R0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),sb.apply(this,arguments)}function ob(t,e){return Sf()?function i1e(t,e){return tB(rB(t),e)}(t,e).catch(n=>{R0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ab(){return ab=y(function*(){let t;try{t=yield function o1e(){return nB(ZL)}()}catch{}if(t)return t;{const e=Ine();return function s1e(t){return tB(ZL,t)}(e).catch(n=>R0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),ab.apply(this,arguments)}function cb(){return v2().enabled}function lb(){return ub.apply(this,arguments)}function ub(){return ub=y(function*(){const t=v2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ub.apply(this,arguments)}const u1e={error:"UNKNOWN_ERROR"};function d1e(t){return z4.encodeString(JSON.stringify(t),!1)}function I2(t){return db.apply(this,arguments)}function db(){return db=y(function*(t,e=!1){const n=t.app;eb(n);const r=pn(n);let s,i=r.token;if(i&&!ed(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(ed(c)?i=c:yield ob(n,void 0))}if(!e&&i&&ed(i))return{token:i.token};let a,o=!1;if(cb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=C2(JL(n,yield lb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield ob(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield pn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?R0.warn(c.message):R0.error(c),s=c}return i?s?a=ed(i)?{token:i.token,internalError:s}:aB(s):(a={token:i.token},r.token=i,yield ob(n,i)):a=aB(s),o&&oB(n,a),a}),db.apply(this,arguments)}function fb(){return fb=y(function*(t){const e=t.app;eb(e);const{provider:n}=pn(e);if(cb()){const r=yield lb(),{token:i}=yield C2(JL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),fb.apply(this,arguments)}function hb(t,e,n,r){const{app:i}=t,s=pn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ed(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),sB(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>sB(t))}function pb(t,e){const n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function sB(t){const{app:e}=t,n=pn(e);let r=n.tokenRefresher;r||(r=function f1e(t){const{app:e}=t;return new Qge(y(function*(){let r;if(r=pn(e).token?yield I2(t,!0):yield I2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},XL.RETRIAL_MIN_WAIT,XL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oB(t,e){const n=pn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ed(t){return t.expireTimeMillis-Date.now()>0}function aB(t){return{token:d1e(u1e),error:t}}class h1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=pn(this.app);for(const n of e)pb(this.app,n.next);return Promise.resolve()}}function E1e(t,e){const n=new Bl;pn(t).reCAPTCHAState={initialized:n};const i=function cB(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=y2(!1);return s?b2(t,e,s,i,n):function I1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=y2(!1);if(!o)throw new Error("no recaptcha");b2(t,e,o,i,n)}),n.promise}function b2(t,e,n,r,i){n.ready(()=>{(function x1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{pn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{pn(t).reCAPTCHAState.succeeded=!1}}),s=pn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function gb(){return gb=y(function*(t){eb(t);const n=yield pn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=pn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),gb.apply(this,arguments)}class is{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return y(function*(){var n,r,i;!function hB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw cr.create("throttled",{time:tb(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function lB(t){return gb.apply(this,arguments)}(e._app).catch(a=>{throw cr.create("recaptcha-error")});if(null===(n=pn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw cr.create("recaptcha-error");let o;try{o=yield C2(function Zge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function fB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=q4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),cr.create("throttled",{time:tb(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),E1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof is&&this._siteKey===e._siteKey}}function w1e(t=zl(),e){const n=xs(t=un(t),"app-check");if(v2().initialized||function l1e(){const t=DR(),e=v2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Bl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function c1e(){return ab.apply(this,arguments)}())}(),cb()&&lb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw cr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function A1e(t,e,n){const r=function Gge(t,e){return JI.set(t,e),JI.get(t)}(t,Object.assign({},QL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function a1e(t){return sb.apply(this,arguments)}(t).then(i=>(i&&ed(i)&&(r.token=i,oB(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),pn(t).isTokenAutoRefreshEnabled&&hb(r,"INTERNAL",()=>{}),r}const pB="app-check-internal";!function S1e(){Mi(new fi("app-check",t=>function p1e(t,e){return new h1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(pB).initialize()})),Mi(new fi(pB,t=>function g1e(t){return{getToken:e=>I2(t,e),getLimitedUseToken:()=>function iB(t){return fb.apply(this,arguments)}(t),addTokenListener:e=>hb(t,"INTERNAL",e),removeTokenListener:e=>pb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dn("@firebase/app-check","0.8.0")}();class _b{constructor(e){return e}}const vb=new Ie("angularfire2.app-check-instances"),P1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function R1e(t){return(e,n,r)=>{!w4(r)&&P1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new _b(i)}}const M1e={provide:s6,deps:[[new Ht,vb]]},k1e={provide:_b,useFactory:function D1e(t,e){const n=c1(ZR,t,e);return n&&new _b(n)},deps:[[new Ht,vb],Xa,gs]};let N1e=(()=>{var t;class e{constructor(){dn("angularfire",Wo.full,"app-check")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[k1e,M1e]})),e})();function wo(t,...e){return{ngModule:N1e,providers:[{provide:vb,useFactory:R1e(t),multi:!0,deps:[mt,Mn,gs,Ff,Vf,...e]}]}}const Ao=bn(w1e,!0);let O1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[jge]}),t.\u0275inj=It({imports:[Or,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Bge(()=>_ge())]}),e})();class F1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class V1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class gB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class mB{constructor(){this._resources=new V1e,this._workers=new gB,this._soldiers=new gB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Sn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Sn||{});let _B=(()=>{var t;class e{constructor(){this.dgAPI=$(Ri)}extractStats(){let r=new F1e;return r.stats.set(Sn.ALL,new mB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new mB),r.stats.get(Sn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(Sn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Sn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Sn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Sn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Sn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Sn.METAL:r.stats.get(Sn.ALL).resources.metalStored+=s.stored,r.stats.get(Sn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Sn.MINERAL:r.stats.get(Sn.ALL).resources.mineralStored+=s.stored,r.stats.get(Sn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Sn.FOOD:r.stats.get(Sn.ALL).resources.foodStored+=s.stored,r.stats.get(Sn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Sn.ENERGY:r.stats.get(Sn.ALL).resources.energyStored+=s.stored,r.stats.get(Sn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),L1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Kn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),yb=(()=>{var t;class e{constructor(){this.decimalPipe=$(Qi)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Kn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const B1e=function(t){return{"dgt-stats-totals-last-row":t}},Fi=function(t){return{"dgt-padding-bottom-xs":t}};function H1e(t,e){if(1&t&&(k(0,"tr",4)(1,"th",5)(2,"span",6),K(3),Wt(4,"galaxyNameFormatter"),O(),k(5,"span",7),K(6),O()(),k(7,"td",8)(8,"div",9),Ue(9,"img",10),k(10,"span",11),K(11),Wt(12,"number"),O()()(),k(13,"td",12)(14,"div",9)(15,"span",11),K(16),Wt(17,"resourceProductionFormatter"),O()()(),k(18,"td",13)(19,"div",14),Ue(20,"img",15),k(21,"span",11),K(22),Wt(23,"number"),O()()(),k(24,"td",12)(25,"div",14)(26,"span",11),K(27),Wt(28,"resourceProductionFormatter"),O()()(),k(29,"td",13)(30,"div",16),Ue(31,"img",17),k(32,"span",11),K(33),Wt(34,"number"),O()()(),k(35,"td",12)(36,"div",16)(37,"span",11),K(38),Wt(39,"resourceProductionFormatter"),O()()(),k(40,"td",13)(41,"div",18),Ue(42,"img",19),k(43,"span",11),K(44),Wt(45,"number"),O()()(),k(46,"td",20)(47,"div",18)(48,"span",11),K(49),Wt(50,"resourceProductionFormatter"),O()()(),k(51,"td",21)(52,"div",22),Ue(53,"img",23),k(54,"span",11),K(55),Wt(56,"number"),O()()(),k(57,"td",24)(58,"div",25),Ue(59,"img",26),k(60,"span",11),K(61),Wt(62,"number"),O()()(),k(63,"td",27)(64,"div",28),Ue(65,"img",29),k(66,"span",11),K(67),Wt(68,"number"),O()()()()),2&t){const n=e.$implicit,r=e.index,i=Rt();Te("ngClass",Mt(64,B1e,r==i.panel.stats.size-1)),ae(1),Te("ngClass",Mt(66,Fi,r==i.panel.stats.size-2)),ae(2),ot(Si(4,26,n.key)),ae(3),za("[",n.value.count,"]"),ae(1),Te("ngClass",Mt(68,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(12,28,n.value.resources.metalStored,"1.0","en-US")),ae(2),Te("ngClass",Mt(70,Fi,r==i.panel.stats.size-2)),ae(3),ot(Si(17,32,n.value.resources.metalProduction)),ae(2),Te("ngClass",Mt(72,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(23,34,n.value.resources.mineralStored,"1.0","en-US")),ae(2),Te("ngClass",Mt(74,Fi,r==i.panel.stats.size-2)),ae(3),ot(Si(28,38,n.value.resources.mineralProduction)),ae(2),Te("ngClass",Mt(76,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(34,40,n.value.resources.foodStored,"1.0","en-US")),ae(2),Te("ngClass",Mt(78,Fi,r==i.panel.stats.size-2)),ae(3),ot(Si(39,44,n.value.resources.foodProduction)),ae(2),Te("ngClass",Mt(80,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(45,46,n.value.resources.energyStored,"1.0","en-US")),ae(2),Te("ngClass",Mt(82,Fi,r==i.panel.stats.size-2)),ae(3),ot(Si(50,50,n.value.resources.energyProduction)),ae(2),Te("ngClass",Mt(84,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(56,52,n.value.resources.ground,"1.0","en-US")),ae(2),Te("ngClass",Mt(86,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(62,56,n.value.resources.orbit,"1.0","en-US")),ae(2),Te("ngClass",Mt(88,Fi,r==i.panel.stats.size-2)),ae(4),ot(Yr(68,60,n.value.soldiers.total,"1.0","en-US"))}}let z1e=(()=>{var t;class e{constructor(){this.statsPanelService=$(_B)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(k(0,"div",0)(1,"div",1)(2,"table",2),_t(3,H1e,69,90,"tr",3),Wt(4,"keyvalue"),O()()()),2&r&&(ae(3),Te("ngForOf",Si(4,1,i.panel.stats)))},dependencies:[E4,Xg,Qi,XP,L1e,yb],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function vB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vB(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t){return(w2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eb(t,e){return function q1e(t){if(Array.isArray(t))return t}(t)||function K1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||EB(t,e)||function Q1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k0(t){return function G1e(t){if(Array.isArray(t))return Cb(t)}(t)||function W1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||EB(t)||function Y1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EB(t,e){if(t){if("string"==typeof t)return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CB=function(){},xb={},xB={},IB=null,bB={mark:CB,measure:CB};try{typeof window<"u"&&(xb=window),typeof document<"u"&&(xB=document),typeof MutationObserver<"u"&&(IB=MutationObserver),typeof performance<"u"&&(bB=performance)}catch{}var S2,D2,P2,R2,M2,wB=(xb.navigator||{}).userAgent,AB=void 0===wB?"":wB,va=xb,Qt=xB,TB=IB,T2=bB,To=!!Qt.documentElement&&!!Qt.head&&"function"==typeof Qt.addEventListener&&"function"==typeof Qt.createElement,SB=~AB.indexOf("MSIE")||~AB.indexOf("Trident/"),So="___FONT_AWESOME___",DB="fa",PB="svg-inline--fa",Rc="data-fa-i2svg",bb="data-fa-pseudo-element",J1e="data-fa-pseudo-element-pending",wb="data-prefix",Ab="data-icon",RB="fontawesome-i2svg",Z1e="async",eme=["HTML","HEAD","STYLE","SCRIPT"],MB=function(){try{return!0}catch{return!1}}(),Xt="classic",gn="sharp",Tb=[Xt,gn];function N0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Xt]}})}var O0=N0((Fn(S2={},Xt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Fn(S2,gn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),S2)),F0=N0((Fn(D2={},Xt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Fn(D2,gn,{solid:"fass",regular:"fasr",light:"fasl"}),D2)),V0=N0((Fn(P2={},Xt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Fn(P2,gn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),P2)),tme=N0((Fn(R2={},Xt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Fn(R2,gn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),R2)),nme=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,kB="fa-layers-text",rme=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ime=N0((Fn(M2={},Xt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Fn(M2,gn,{900:"fass",400:"fasr",300:"fasl"}),M2)),NB=[1,2,3,4,5,6,7,8,9,10],sme=NB.concat([11,12,13,14,15,16,17,18,19,20]),ome=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Mc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},L0=new Set;Object.keys(F0[Xt]).map(L0.add.bind(L0)),Object.keys(F0[gn]).map(L0.add.bind(L0));var ame=[].concat(Tb,k0(L0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Mc.GROUP,Mc.SWAP_OPACITY,Mc.PRIMARY,Mc.SECONDARY]).concat(NB.map(function(t){return"".concat(t,"x")})).concat(sme.map(function(t){return"w-".concat(t)})),B0=va.FontAwesomeConfig||{};Qt&&"function"==typeof Qt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=Eb(t,2),r=e[1],i=function lme(t){return""===t||"false"!==t&&("true"===t||t)}(function cme(t){var e=Qt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(B0[r]=i)});var OB={styleDefault:"solid",familyDefault:"classic",cssPrefix:DB,replacementClass:PB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};B0.familyPrefix&&(B0.cssPrefix=B0.familyPrefix);var td=Pe(Pe({},OB),B0);td.autoReplaceSvg||(td.observeMutations=!1);var ke={};Object.keys(OB).forEach(function(t){Object.defineProperty(ke,t,{enumerable:!0,set:function(n){td[t]=n,H0.forEach(function(r){return r(ke)})},get:function(){return td[t]}})}),Object.defineProperty(ke,"familyPrefix",{enumerable:!0,set:function(e){td.cssPrefix=e,H0.forEach(function(n){return n(ke)})},get:function(){return td.cssPrefix}}),va.FontAwesomeConfig=ke;var H0=[],Ls={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},hme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function z0(){for(var t=12,e="";t-- >0;)e+=hme[62*Math.random()|0];return e}function nd(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Sb(t){return t.classList?nd(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function FB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Db(t){return t.size!==Ls.size||t.x!==Ls.x||t.y!==Ls.y||t.rotate!==Ls.rotate||t.flipX||t.flipY}var _me=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function VB(){var t=DB,e=PB,n=ke.cssPrefix,r=ke.replacementClass,i=_me;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var LB=!1;function Pb(){ke.autoAddCss&&!LB&&(function fme(t){if(t&&To){var e=Qt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Qt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Qt.head.insertBefore(e,r)}}(VB()),LB=!0)}var vme={mixout:function(){return{dom:{css:VB,insertCss:Pb}}},hooks:function(){return{beforeDOMElementCreation:function(){Pb()},beforeI2svg:function(){Pb()}}}},Do=va||{};Do[So]||(Do[So]={}),Do[So].styles||(Do[So].styles={}),Do[So].hooks||(Do[So].hooks={}),Do[So].shims||(Do[So].shims=[]);var ss=Do[So],BB=[],N2=!1;function U0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?FB(t):"<".concat(e," ").concat(function pme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(FB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(U0).join(""),"</").concat(e,">")}function HB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}To&&((N2=(Qt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Qt.readyState))||Qt.addEventListener("DOMContentLoaded",function t(){Qt.removeEventListener("DOMContentLoaded",t),N2=1,BB.map(function(e){return e()})}));var Rb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Mb(t){var e=function xme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function zB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function kb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=zB(e);"function"!=typeof ss.hooks.addPack||i?ss.styles[t]=Pe(Pe({},ss.styles[t]||{}),s):ss.hooks.addPack(t,zB(e)),"fas"===t&&kb("fa",e)}var O2,F2,V2,rd=ss.styles,bme=ss.shims,wme=(Fn(O2={},Xt,Object.values(V0[Xt])),Fn(O2,gn,Object.values(V0[gn])),O2),Nb=null,UB={},jB={},$B={},GB={},qB={},Ame=(Fn(F2={},Xt,Object.keys(O0[Xt])),Fn(F2,gn,Object.keys(O0[gn])),F2);var WB=function(){var e=function(s){return Rb(rd,function(o,a,c){return o[c]=Rb(a,s,{}),o},{})};UB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),jB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),qB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in rd||ke.autoFetchSvg,r=Rb(bme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});$B=r.names,GB=r.unicodes,Nb=L2(ke.styleDefault,{family:ke.familyDefault})};function Ob(t,e){return(UB[t]||{})[e]}function kc(t,e){return(qB[t]||{})[e]}function KB(t){return $B[t]||{prefix:null,iconName:null}}function Ea(){return Nb}(function dme(t){H0.push(t)})(function(t){Nb=L2(t.styleDefault,{family:ke.familyDefault})}),WB();var Fb=function(){return{prefix:null,iconName:null,rest:[]}};function L2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Xt:n;return F0[r][t]||F0[r][O0[r][t]]||(t in ss.styles?t:null)||null}var YB=(Fn(V2={},Xt,Object.keys(V0[Xt])),Fn(V2,gn,Object.keys(V0[gn])),V2);function B2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Fn(e={},Xt,"".concat(ke.cssPrefix,"-").concat(Xt)),Fn(e,gn,"".concat(ke.cssPrefix,"-").concat(gn)),e),o=null,a=Xt;(t.includes(s[Xt])||t.some(function(l){return YB[Xt].includes(l)}))&&(a=Xt),(t.includes(s[gn])||t.some(function(l){return YB[gn].includes(l)}))&&(a=gn);var c=t.reduce(function(l,u){var d=function Sme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function Tme(t){return~ame.indexOf(t)}(i)?null:i}(ke.cssPrefix,u);if(rd[u]?(u=wme[a].includes(u)?tme[a][u]:u,o=u,l.prefix=u):Ame[a].indexOf(u)>-1?(o=u,l.prefix=L2(u,{family:a})):d?l.iconName=d:u!==ke.replacementClass&&u!==s[Xt]&&u!==s[gn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?KB(l.iconName):{},h=kc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!rd.far&&rd.fas&&!ke.autoFetchSvg&&(l.prefix="fas")}return l},Fb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===gn&&(rd.fass||ke.autoFetchSvg)&&(c.prefix="fass",c.iconName=kc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=Ea()||"fas"),c}var Rme=function(){function t(){(function U1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function j1e(t,e,n){e&&yB(t.prototype,e),n&&yB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Pe(Pe({},n.definitions[a]||{}),o[a]),kb(a,o[a]);var c=V0[Xt][a];c&&kb(c,o[a]),WB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),QB=[],id={},sd={},Mme=Object.keys(sd);function Vb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(id[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Nc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(id[t]||[]).forEach(function(s){s.apply(null,n)})}function Po(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return sd[t]?sd[t].apply(null,e):void 0}function Lb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Ea();if(e)return e=kc(n,e)||e,HB(XB.definitions,n,e)||HB(ss.styles,n,e)}var XB=new Rme,Ome={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To?(Nc("beforeI2svg",e),Po("pseudoElements2svg",e),Po("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===ke.autoReplaceSvg&&(ke.autoReplaceSvg=!0),ke.observeMutations=!0,function Eme(t){To&&(N2?setTimeout(t,0):BB.push(t))}(function(){Vme({autoReplaceSvgRoot:n}),Nc("watch",e)})}},vi={noAuto:function(){ke.autoReplaceSvg=!1,ke.observeMutations=!1,Nc("noAuto")},config:ke,dom:Ome,parse:{icon:function(e){if(null===e)return null;if("object"===w2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:kc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=L2(e[0]);return{prefix:r,iconName:kc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(ke.cssPrefix,"-"))>-1||e.match(nme))){var i=B2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ea(),iconName:kc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Ea();return{prefix:s,iconName:kc(s,e)||e}}}},library:XB,findIconDefinition:Lb,toHtml:U0},Vme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Qt:n;(Object.keys(ss.styles).length>0||ke.autoFetchSvg)&&To&&ke.autoReplaceSvg&&vi.dom.i2svg({node:r})};function H2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return U0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(To){var r=Qt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Bb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,m=p.height,D="fak"===i,b=[ke.replacementClass,s?"".concat(ke.cssPrefix,"-").concat(s):""].filter(function(Vn){return-1===d.classes.indexOf(Vn)}).filter(function(Vn){return""!==Vn||!!Vn}).concat(d.classes).join(" "),G={children:[],attributes:Pe(Pe({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},Q=D&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};h&&(G.attributes[Rc]=""),c&&(G.children.push({tag:"title",attributes:{id:G.attributes["aria-labelledby"]||"title-".concat(u||z0())},children:[c]}),delete G.attributes.title);var pe=Pe(Pe({},G),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Pe(Pe({},Q),d.styles)}),Ne=r.found&&n.found?Po("generateAbstractMask",pe)||{children:[],attributes:{}}:Po("generateAbstractIcon",pe)||{children:[],attributes:{}},rn=Ne.attributes;return pe.children=Ne.children,pe.attributes=rn,a?function Bme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(ke.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Pe(Pe({},i),{},{id:o}),children:r}]}]}(pe):function Lme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Db(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=k2(Pe(Pe({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(pe)}function JB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Pe(Pe(Pe({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Rc]="");var u=Pe({},o.styles);Db(i)&&(u.transform=function mme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&SB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=k2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Hb=ss.styles;function zb(t){var e=t[0],n=t[1],s=Eb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(ke.cssPrefix,"-").concat(Mc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ke.cssPrefix,"-").concat(Mc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ke.cssPrefix,"-").concat(Mc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var zme={found:!1,width:512,height:512};function Ub(t,e){var n=e;return"fa"===e&&null!==ke.styleDefault&&(e=Ea()),new Promise(function(r,i){if(Po("missingIconAbstract"),"fa"===n){var o=KB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Hb[e]&&Hb[e][t])return r(zb(Hb[e][t]));(function Ume(t,e){!MB&&!ke.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Pe(Pe({},zme),{},{icon:ke.showMissingIcons&&t&&Po("missingIconAbstract")||{}}))})}var ZB=function(){},jb=ke.measurePerformance&&T2&&T2.mark&&T2.measure?T2:{mark:ZB,measure:ZB},j0='FA "6.4.2"',eH=function(e){jb.mark("".concat(j0," ").concat(e," ends")),jb.measure("".concat(j0," ").concat(e),"".concat(j0," ").concat(e," begins"),"".concat(j0," ").concat(e," ends"))},$b={begin:function(e){return jb.mark("".concat(j0," ").concat(e," begins")),function(){return eH(e)}},end:eH},z2=function(){};function tH(t){return"string"==typeof(t.getAttribute?t.getAttribute(Rc):null)}function Wme(t){return Qt.createElementNS("http://www.w3.org/2000/svg",t)}function Kme(t){return Qt.createElement(t)}function nH(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Wme:Kme:n;if("string"==typeof t)return Qt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(nH(o,{ceFn:r}))}),i}var U2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(nH(i),n)}),null===n.getAttribute(Rc)&&ke.keepOriginalSource){var r=Qt.createComment(function Yme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Sb(n).indexOf(ke.replacementClass))return U2.replace(e);var i=new RegExp("".concat(ke.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===ke.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return U0(a)}).join("\n");n.setAttribute(Rc,""),n.innerHTML=o}};function rH(t){t()}function iH(t,e){var n="function"==typeof e?e:z2;if(0===t.length)n();else{var r=rH;ke.mutateApproach===Z1e&&(r=va.requestAnimationFrame||rH),r(function(){var i=function qme(){return!0===ke.autoReplaceSvg?U2.replace:U2[ke.autoReplaceSvg]||U2.replace}(),s=$b.begin("mutate");t.map(i),s(),n()})}}var Gb=!1;function sH(){Gb=!0}function qb(){Gb=!1}var j2=null;function oH(t){if(TB&&ke.observeMutations){var e=t.treeCallback,n=void 0===e?z2:e,r=t.nodeCallback,i=void 0===r?z2:r,s=t.pseudoElementsCallback,o=void 0===s?z2:s,a=t.observeMutationsRoot,c=void 0===a?Qt:a;j2=new TB(function(l){if(!Gb){var u=Ea();nd(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!tH(d.addedNodes[0])&&(ke.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&ke.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&tH(d.target)&&~ome.indexOf(d.attributeName))if("class"===d.attributeName&&function $me(t){var e=t.getAttribute?t.getAttribute(wb):null,n=t.getAttribute?t.getAttribute(Ab):null;return e&&n}(d.target)){var f=B2(Sb(d.target)),p=f.iconName;d.target.setAttribute(wb,f.prefix||u),p&&d.target.setAttribute(Ab,p)}else(function Gme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ke.replacementClass)})(d.target)&&i(d.target)})}}),To&&j2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function aH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Jme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=B2(Sb(t));return i.prefix||(i.prefix=Ea()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Dme(t,e){return(jB[t]||{})[e]}(i.prefix,t.innerText)||Ob(i.prefix,Mb(t.innerText))),!i.iconName&&ke.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Zme(t){var e=nd(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ke.autoA11y&&(n?e["aria-labelledby"]="".concat(ke.replacementClass,"-title-").concat(r||z0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Vb("parseNodeAttributes",{},t),c=e.styleParser?function Xme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Pe({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ls,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var t2e=ss.styles;function cH(t){var e="nest"===ke.autoReplaceSvg?aH(t,{styleParser:!1}):aH(t);return~e.extra.classes.indexOf(kB)?Po("generateLayersText",t,e):Po("generateSvgReplacementMutation",t,e)}var Ca=new Set;function lH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!To)return Promise.resolve();var n=Qt.documentElement.classList,r=function(d){return n.add("".concat(RB,"-").concat(d))},i=function(d){return n.remove("".concat(RB,"-").concat(d))},s=ke.autoFetchSvg?Ca:Tb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(t2e));s.includes("fa")||s.push("fa");var o=[".".concat(kB,":not([").concat(Rc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Rc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=nd(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=$b.begin("onTree"),l=a.reduce(function(u,d){try{var f=cH(d);f&&u.push(f)}catch(h){MB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){iH(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function n2e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;cH(t).then(function(n){n&&iH([n],e)})}function r2e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Lb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Lb(i||{})),t(r,Pe(Pe({},n),{},{mask:i}))}}Tb.map(function(t){Ca.add("fa-".concat(t))}),Object.keys(O0[Xt]).map(Ca.add.bind(Ca)),Object.keys(O0[gn]).map(Ca.add.bind(Ca)),Ca=k0(Ca);var i2e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ls:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,m=void 0===g?[]:g,D=n.attributes,b=void 0===D?{}:D,G=n.styles,Q=void 0===G?{}:G;if(e){var pe=e.prefix,Ne=e.iconName,Xe=e.icon;return H2(Pe({type:"icon"},e),function(){return Nc("beforeDOMElementCreation",{iconDefinition:e,params:n}),ke.autoA11y&&(f?b["aria-labelledby"]="".concat(ke.replacementClass,"-title-").concat(p||z0()):(b["aria-hidden"]="true",b.focusable="false")),Bb({icons:{main:zb(Xe),mask:c?zb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:Ne,transform:Pe(Pe({},Ls),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:b,styles:Q,classes:m}})})}},s2e={mixout:function(){return{icon:r2e(i2e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=lH,n.nodeCallback=n2e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return lH(void 0===r?Qt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Ub(i,a),u.iconName?Ub(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Eb(g,2);h([n,Bb({icons:{main:m[0],mask:m[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=k2(n.styles);return c.length>0&&(i.style=c),Db(o)&&(l=Po("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},o2e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return H2({type:"layer"},function(){Nc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(ke.cssPrefix,"-layers")].concat(k0(s)).join(" ")},children:o}]})}}}},a2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return H2({type:"counter",content:n},function(){return Nc("beforeDOMElementCreation",{content:n,params:r}),function Hme(t){var e=t.content,n=t.title,r=t.extra,i=Pe(Pe(Pe({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=k2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(ke.cssPrefix,"-layers-counter")].concat(k0(a))}})})}}}},c2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ls:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return H2({type:"text",content:n},function(){return Nc("beforeDOMElementCreation",{content:n,params:r}),JB({content:n,transform:Pe(Pe({},Ls),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(ke.cssPrefix,"-layers-text")].concat(k0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(SB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return ke.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,JB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},l2e=new RegExp('"',"ug"),uH=[1105920,1112319];function dH(t,e){var n="".concat(J1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=nd(t.children).filter(function(Xe){return Xe.getAttribute(bb)===e})[0],a=va.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(rme),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?gn:Xt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?F0[f][c[2].toLowerCase()]:ime[f][l],p=function u2e(t){var e=t.replace(l2e,""),n=function Ime(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=uH[0]&&n<=uH[1],i=2===e.length&&e[0]===e[1];return{value:Mb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,m=p.isSecondary,D=c[0].startsWith("FontAwesome"),b=Ob(h,g),G=b;if(D){var Q=function Pme(t){var e=GB[t],n=Ob("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Q.iconName&&Q.prefix&&(b=Q.iconName,h=Q.prefix)}if(!b||m||o&&o.getAttribute(wb)===h&&o.getAttribute(Ab)===G)r();else{t.setAttribute(n,G),o&&t.removeChild(o);var pe=function e2e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ls,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ne=pe.extra;Ne.attributes[bb]=e,Ub(b,h).then(function(Xe){var rn=Bb(Pe(Pe({},pe),{},{icons:{main:Xe,mask:Fb()},prefix:h,iconName:G,extra:Ne,watchable:!0})),Vn=Qt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Vn,t.firstChild):t.appendChild(Vn),Vn.outerHTML=rn.map(function(Ta){return U0(Ta)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function d2e(t){return Promise.all([dH(t,"::before"),dH(t,"::after")])}function f2e(t){return!(t.parentNode===document.head||~eme.indexOf(t.tagName.toUpperCase())||t.getAttribute(bb)||t.parentNode&&"svg"===t.parentNode.tagName)}function fH(t){if(To)return new Promise(function(e,n){var r=nd(t.querySelectorAll("*")).filter(f2e).map(d2e),i=$b.begin("searchPseudoElements");sH(),Promise.all(r).then(function(){i(),qb(),e()}).catch(function(){i(),qb(),n()})})}var hH=!1,pH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Wb={x:0,y:0,width:"100%",height:"100%"};function gH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function m2e(t){return"g"===t.tag?t.children:[t]}var _2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?B2(i.split(" ").map(function(o){return o.trim()})):Fb();return s.prefix||(s.prefix=Ea()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function gme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Pe(Pe({},Wb),{},{fill:"white"})},g=u.children?{children:u.children.map(gH)}:{},m={tag:"g",attributes:Pe({},h.inner),children:[gH(Pe({tag:u.tag,attributes:Pe(Pe({},u.attributes),h.path)},g))]},D={tag:"g",attributes:Pe({},h.outer),children:[m]},b="mask-".concat(a||z0()),G="clip-".concat(a||z0()),Q={tag:"mask",attributes:Pe(Pe({},Wb),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,D]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:m2e(f)},Q]};return r.push(pe,{tag:"rect",attributes:Pe({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(b,")")},Wb)}),{children:r,attributes:i}}}};!function kme(t,e){var n=e.mixoutsTo;QB=t,id={},Object.keys(sd).forEach(function(r){-1===Mme.indexOf(r)&&delete sd[r]}),QB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===w2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){id[o]||(id[o]=[]),id[o].push(s[o])})}r.provides&&r.provides(sd)})}([vme,s2e,o2e,a2e,c2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=fH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;ke.searchPseudoElements&&fH(void 0===r?Qt:r)}}},{mixout:function(){return{dom:{unwatch:function(){sH(),hH=!0}}}},hooks:function(){return{bootstrap:function(){oH(Vb("mutationObserverCallbacks",{}))},noAuto:function(){!function Qme(){j2&&j2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;hH?qb():oH(Vb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return pH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=pH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Pe({},h.outer),children:[{tag:"g",attributes:Pe({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Pe(Pe({},r.icon.attributes),h.path)}]}]}}}},_2e,{provides:function(e){var n=!1;va.matchMedia&&(n=va.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Pe(Pe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Pe(Pe({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Pe(Pe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Pe(Pe({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Pe(Pe({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Pe(Pe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Pe(Pe({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Pe(Pe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Pe(Pe({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:vi});var C2e=vi.parse,x2e=vi.icon;const I2e=["*"],A2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let D2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),P2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[br]}),e})(),R2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ms),te(Rr))},t.\u0275cmp=Pn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[br],ngContentSelectors:I2e,decls:1,vars:0,template:function(r,i){1&r&&(function HS(t){const e=ee()[_n][hr];if(!e.projection){const r=e.projection=Bd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?yY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function zS(t,e=0,n){const r=ee(),i=ht(),s=El(i,st+t,16,null,n||null);null===s.projection&&(s.projection=e),q_(),(!r[Ws]||Xc())&&32!=(32&s.flags)&&function _q(t,e,n){U5(e[qe],0,e,n,Ev(t,n,e),F5(n.parent||e[hr],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),M2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?C2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...A2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=x2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ER),te(D2e),te(mH),te(P2e,8),te(R2e,8))},t.\u0275cmp=Pn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Ty("innerHTML",i.renderedIconHTML,tT),ji("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[br],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Kb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})(),k2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[z1e]}),t.\u0275inj=It({providers:[Qi,_B],imports:[Or,Kb]}),e})(),_H=(()=>{var t;class e{constructor(){this.firestore=$(Ms),this.dgAPI=$(Ri),this.decimalPipe=$(Qi)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(r.type!=er.SURFACE&&r.type!=er.RESOURCE)return;const i=Oi(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);let s=r0(s0(i,yx("location","==",r.planetScan.location),XF(1))).subscribe(o=>{let a=Object.assign(new B4,o[0]);if(a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==er.RESOURCE||r.type==er.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==er.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,l)=>{c.abundance=r.planetScan.resources[l].abundance,c.name=r.planetScan.resources[l].name}):a.resources=r.planetScan.resources),r.type==er.SURFACE){a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures;let c=a.workers.currentNumber/15+1.5*a.soldiers+1;document.querySelector(".dgt-required-for-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(c),"1.0","en_US")}0==o.length?Bu(ar(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):o0(ar(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}),s.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function N2e(t,e){1&t&&(k(0,"p",3),K(1,"Scan & Next works as normal Scan, but prefills the coordinates for the next planet. Automatically jumps to new system/sector/galaxy."),O())}let O2e=(()=>{var t;class e{constructor(){this.scanService=$(_H),this.authService=$(ts),this.active=!1,this.initialized=!1}ngAfterViewInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(k(0,"div",0),Ue(1,"span",1),O(),_t(2,N2e,2,0,"p",2)),2&r&&(ae(2),Te("ngIf",i.active))},dependencies:[Ki],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),F2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[O2e]}),t.\u0275inj=It({providers:[_H,Qi],imports:[Or,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),vH=(()=>{var t;class e{constructor(){this.firestore=$(Ms),this.dgAPI=$(Ri),this.resourceProductionFormatterPipe=$(yb),this.decimalPipe=$(Qi)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=r0(s0(Oi(this.firestore,"scans-g"+i[0].split(/\./)[0]),yx("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(jt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(jt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(jt.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(jt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(jt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(jt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(jt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(jt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(jt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(jt.MEDICAL_CENTRE)&&(f+=.3),d.includes(jt.LEISURE_CENTRE)&&(f+=.4),d.includes(jt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function V2e(t,e){1&t&&(k(0,"p",4),K(1,"Do not share any screen shot from this page on Discord!"),O())}function L2e(t,e){1&t&&(k(0,"p",5),K(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),O())}let B2e=(()=>{var t;class e{constructor(){this.scanService=$(vH),this.authService=$(ts),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:4,vars:2,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-warning",4,"ngIf"],["class","component-message",4,"ngIf"],[1,"component-warning"],[1,"component-message"]],template:function(r,i){1&r&&(k(0,"div",0),Ue(1,"span",1),O(),_t(2,V2e,2,0,"p",2),_t(3,L2e,2,0,"p",3)),2&r&&(ae(2),Te("ngIf",i.active),ae(1),Te("ngIf",i.active))},dependencies:[Ki],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.component-warning[_ngcontent-%COMP%]{color:#ffffffad;background:#FF3B303B;margin:0;padding:5px;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),H2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[B2e]}),t.\u0275inj=It({providers:[Qi,yb,vH],imports:[Or,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function z2e(t,e){if(1&t){const n=Pl();k(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),K(6,"DGT Login"),O()()(),k(7,"tr",3)(8,"td"),Ue(9,"input",4,5),O(),k(11,"td"),Ue(12,"input",6,7),O()(),k(14,"tr",8)(15,"td",2)(16,"button",9),Ot("click",function(){wr(n);const i=yy(10),s=yy(13);return Ar(Rt().signInWithEmailAndPassword(i.value,s.value))}),K(17,"Login"),O(),k(18,"button",10),Ot("click",function(){return wr(n),Ar(Rt().signInWithGoogle())}),Ue(19,"img",11),O()()()()()()}}let U2e=(()=>{var t;class e{constructor(){this.authService=$(ts),this.auth=$(Qf),this.firestore=$(Ms),this.localStorageService=$(Lr),this.changeDetection=$(Cs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new he(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(et.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(_t(0,z2e,20,0,"div",0),Wt(1,"async")),2&r&&Te("ngIf",Si(1,1,i.displayLogin))},dependencies:[Ki,bf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),j2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[U2e]}),t.\u0275inj=It({imports:[Or,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var G2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Zye=(()=>{var t;class e{constructor(){this.localStorageService=$(Lr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){const o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(et.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$z=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ms),te(Rr))},t.\u0275dir=Ve({type:t}),e})(),Oc=(()=>{var t;class e extends $z{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Zn(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[At]}),e})();const Bs=new Ie("NgValueAccessor"),n4e={provide:Bs,useExisting:Vt(()=>q2),multi:!0},i4e=new Ie("CompositionEventMode");let q2=(()=>{var t;class e extends $z{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function r4e(){const t=Uo()?Uo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ms),te(Rr),te(i4e,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ot("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zt([n4e]),At]}),e})();const Cr=new Ie("NgValidators"),Ia=new Ie("NgAsyncValidators");function tU(t){return null!=t}function nU(t){return cf(t)?Wn(t):t}function rU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function iU(t,e){return e.map(n=>n(t))}function sU(t){return t.map(e=>function o4e(t){return!t.validate}(e)?e:n=>e.validate(n))}function ew(t){return null!=t?function oU(t){if(!t)return null;const e=t.filter(tU);return 0==e.length?null:function(n){return rU(iU(n,e))}}(sU(t)):null}function tw(t){return null!=t?function aU(t){if(!t)return null;const e=t.filter(tU);return 0==e.length?null:function(n){return function e4e(...t){const e=Nw(t),{args:n,keys:r}=OV(t),i=new he(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;fr(n[u]).subscribe(it(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?VV(r,a):a),s.complete())}))}});return e?i.pipe(FV(e)):i}(iU(n,e).map(nU)).pipe(Je(rU))}}(sU(t)):null}function cU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nw(t){return t?Array.isArray(t)?t:[t]:[]}function K2(t,e){return Array.isArray(t)?t.includes(e):t===e}function dU(t,e){const n=nw(e);return nw(t).forEach(i=>{K2(n,i)||n.push(i)}),n}function fU(t,e){return nw(e).filter(n=>!K2(t,n))}class hU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ew(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Hr extends hU{get formDirective(){return null}get path(){return null}}class ba extends hU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gU=(()=>{var t;class e extends pU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ba,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&lf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[At]}),e})(),rw=(()=>{var t;class e extends pU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hr,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&lf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[At]}),e})();const $0="VALID",Q2="INVALID",od="PENDING",G0="DISABLED";function ow(t){return(X2(t)?t.validators:t)||null}function aw(t,e){return(X2(e)?e.asyncValidators:t)||null}function X2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class yU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$0}get invalid(){return this.status===Q2}get pending(){return this.status==od}get disabled(){return this.status===G0}get enabled(){return this.status!==G0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fU(e,this._rawAsyncValidators))}hasValidator(e){return K2(this._rawValidators,e)}hasAsyncValidator(e){return K2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=od,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=G0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$0||this.status===od)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G0:$0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=od,this._hasOwnPendingAsyncValidator=!0;const n=nU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?G0:this.errors?Q2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(od)?od:this._anyControlsHaveStatus(Q2)?Q2:$0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){X2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function u4e(t){return Array.isArray(t)?ew(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function d4e(t){return Array.isArray(t)?tw(t):t||null}(this._rawAsyncValidators)}}class cw extends yU{constructor(e,n,r){super(ow(n),aw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function vU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function _U(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ad=new Ie("CallSetDisabledState",{providedIn:"root",factory:()=>J2}),J2="always";function q0(t,e,n=J2){lw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function p4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&EU(t,e)})}(t,e),function m4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function g4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&EU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function h4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function t_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lw(t,e){const n=function lU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(cU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function uU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(cU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();t_(e._rawValidators,i),t_(e._rawAsyncValidators,i)}function EU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const C4e={provide:Hr,useExisting:Vt(()=>K0)},W0=(()=>Promise.resolve())();let K0=(()=>{var t;class e extends Hr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pt,this.form=new cw({},ew(r),tw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){W0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),q0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){W0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){W0.then(()=>{const i=this._findContainer(r.path),s=new cw({});(function CU(t,e){lw(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){W0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){W0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function xU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Cr,10),te(Ia,10),te(ad,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ot("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([C4e]),At]}),e})();function IU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wU=class extends yU{constructor(e=null,n,r){super(ow(n),aw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},b4e={provide:ba,useExisting:Vt(()=>hw)},SU=(()=>Promise.resolve())();let hw=(()=>{var t;class e extends ba{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new wU,this._registered=!1,this.name="",this.update=new Pt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function fw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===q2?n=s:function y4e(t){return Object.getPrototypeOf(t.constructor)===Oc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function dw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){q0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){SU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Fl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);SU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Z2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hr,9),te(Cr,10),te(Ia,10),te(Bs,10),te(Cs,8),te(ad,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zt([b4e]),At,br]}),e})(),pw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),PU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})(),K4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({imports:[PU]}),e})(),Cw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:ad,useValue:r.callSetDisabledState??J2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({imports:[K4e]}),e})(),Q4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Kn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const X4e=["dgtSpinner"],J4e=["dgtMainContainer"];function Z4e(t,e){if(1&t&&(k(0,"span",19),K(1),O()),2&t){const n=Rt().$implicit;ae(1),za("[",n.kickEta,"]")}}function e6e(t,e){if(1&t&&(k(0,"span",20),K(1,"DGT: "),k(2,"span",12),K(3),O()()),2&t){const n=Rt().$implicit;ae(3),ot(n.dgtVersion)}}const t6e=function(){return["far","circle-xmark"]};function n6e(t,e){if(1&t){const n=Pl();k(0,"div",21)(1,"form",22,23),Ot("ngSubmit",function(i){return wr(n),Ar(Rt(4).onSubmitKickMember(i))}),Ue(3,"input",24),Wt(4,"kickMemberFormatter"),k(5,"button",25),Ue(6,"fa-icon",26),O()()()}if(2&t){const n=Rt().$implicit;ae(3),Cy("name",Si(4,2,n.dgId)),ae(3),Te("icon",function h7(t,e,n){const r=Tr()+t,i=ee();return i[r]===Ke?vs(i,r,n?e.call(n):e()):nf(i,r)}(4,t6e))}}function r6e(t,e){if(1&t&&(k(0,"div",8)(1,"div",9)(2,"span",10),K(3),O(),k(4,"span",11),K(5,"Rank: "),k(6,"span",12),K(7),Wt(8,"number"),O()(),_t(9,Z4e,2,1,"span",13),k(10,"span",14),K(11,"Score: "),k(12,"span",12),K(13),Wt(14,"number"),O()(),k(15,"span",15),K(16,"Combat: "),k(17,"span",12),K(18),Wt(19,"number"),O()(),k(20,"span",16),K(21,"Planets: "),k(22,"span",12),K(23),O()(),_t(24,e6e,4,1,"span",17),_t(25,n6e,7,5,"div",18),O()()),2&t){const n=e.$implicit,r=Rt(2).ngIf,i=Rt();ae(3),ot(n.name),ae(4),ot(Yr(8,8,n.stats.rank,"1.0","en-US")),ae(2),Te("ngIf",null!=n.kickEta),ae(4),ot(Yr(14,12,n.stats.score,"1.0","en-US")),ae(5),ot(Yr(19,16,n.stats.combatScore,"1.0","en-US")),ae(5),ot(n.stats.planets),ae(1),Te("ngIf",n.dgtVersion&&(r===i.UserRole.TEAM_LEADER||r===i.UserRole.ADMIN)),ae(1),Te("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function i6e(t,e){if(1&t&&(k(0,"div",5,6),_t(2,r6e,26,20,"div",7),O()),2&t){const n=Rt(2);ae(2),Te("ngForOf",n.allianceMembers)}}function s6e(t,e){if(1&t&&(Lo(0),_t(1,i6e,3,1,"div",4),Bo()),2&t){const n=Rt();ae(1),Te("ngIf",n.active)}}let o6e=(()=>{var t;class e{constructor(r){this.authService=$(ts),this.localStorageService=$(Lr),this.membersPanelService=$(Zye),this.active=!1,this.initialized=!1,this.UserRole=Ex,r.addIcons(G2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new he(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(et.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(mH))},t.\u0275cmp=Pn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(ui(X4e,5),ui(J4e,5)),2&r){let s;Qr(s=Xr())&&(i.loadSpinner=s.first),Qr(s=Xr())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-version stats",4,"ngIf"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-version","stats"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(k(0,"div",0,1),Ue(2,"span",2),O(),_t(3,s6e,2,1,"ng-container",3),Wt(4,"async")),2&r&&(ae(3),Te("ngIf",Si(4,1,i.role)))},dependencies:[Xg,Ki,pw,rw,K0,M2e,bf,Qi,Q4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .dgt-version[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),a6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[o6e]}),t.\u0275inj=It({imports:[Or,Cw,Kb,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),c6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),l6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[c6e]}),t.\u0275inj=It({imports:[Or]}),e})(),u6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),d6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[u6e]}),t.\u0275inj=It({imports:[Or]}),e})();const f6e=["dgtSpinner"],h6e=["dgtUpdatingModel"];function p6e(t,e){if(1&t){const n=Pl();k(0,"div",12)(1,"span"),K(2,"There is a new update: "),k(3,"i")(4,"b"),K(5),O(),K(6," - "),O(),k(7,"a",13),Ot("click",function(){return wr(n),Ar(Rt().installUpdate())}),K(8,"click here"),O(),K(9," to update your data"),O()()}if(2&t){const n=Rt();ae(5),ot(n.newVersion)}}let g6e=(()=>{var t;class e{constructor(){this.changeLogService=$(YL),this.changeDetector=$(Cs),this.localStorageService=$(Lr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new he(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(ui(f6e,5),ui(h6e,5)),2&r){let s;Qr(s=Xr())&&(i.loadSpinner=s.first),Qr(s=Xr())&&(i.dgtUpdatingModel=s.first)}},decls:81,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],[2,"display","none"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(k(0,"div",0)(1,"h2"),K(2,"DarkGalaxy Tools "),k(3,"span"),K(4),O()(),k(5,"div",1,2),Ue(7,"span",3),O(),_t(8,p6e,10,1,"div",4),Wt(9,"async"),k(10,"div",5)(11,"div")(12,"span"),K(13,"Changelog:"),O()(),k(14,"ul")(15,"li"),K(16,"new - "),k(17,"b"),K(18,"Surface Scan"),O(),K(19," - number of soldiers required for invasion is displayed at each scan"),O(),k(20,"li"),K(21,"new - "),k(22,"b"),K(23,"Fleet Scan"),O(),K(24," - fleet score for any fleet that contain at least 1 war ship. Only Fighters, Bombers, Frigates, Destroyers, Cruisers and Battleships are considered war ships"),O(),k(25,"li"),K(26,"new - "),k(27,"b"),K(28,"Fleet Scan"),O(),K(29," - any ETA that has at least 1 war ship will display an additional line that contains Total allied fleets score VS Total hostile fleets score"),O()(),k(30,"div",6)(31,"span"),K(32,"Upcoming:"),O()(),k(33,"ul",6)(34,"li")(35,"b"),K(36,"Alliance Rankings"),O(),K(37," screen - added planets stats"),O(),k(38,"li"),K(39,"Notification for "),k(40,"b"),K(41,"Radar"),O(),K(42," when at least one allied planet (including yours) is attacked"),O(),k(43,"li")(44,"b"),K(45,"Research"),O(),K(46," queue cancel confirmation popup"),O(),k(47,"li")(48,"b"),K(49,"Navigation"),O(),K(50," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),O(),k(51,"li"),K(52,"Integration with Google Sheets"),O(),k(53,"li"),K(54,"Copy to clipboard various stats"),O(),k(55,"li"),K(56,"Fleet Scan statistics, including a fight simulation"),O()()(),k(57,"div",7)(58,"div")(59,"span"),K(60,"Important:"),O()(),k(61,"ul")(62,"li"),K(63,"please report any bug on "),k(64,"b"),K(65,"Whatsapp#Toolbox"),O(),K(66," channel"),O(),k(67,"li")(68,"b"),K(69,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),O(),K(70," - some of them are interfering with Firebase communication"),O()()()(),k(71,"div",8,9)(73,"div",10)(74,"span"),K(75,"Installing "),k(76,"i")(77,"b"),K(78),O()(),K(79,"..."),O(),Ue(80,"img",11),O()()),2&r&&(ae(4),ot(i.version),ae(4),Te("ngIf",Si(9,3,i.updateAvailable)),ae(70),ot(i.newVersion))},dependencies:[Ki,bf],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Y0(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new fe({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new c0)}});t.subscribe(s)})}class r_{}class i_{}class Hs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Hs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Hs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class m6e{encodeKey(e){return KU(e)}encodeValue(e){return KU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const v6e=/%(\d[a-f0-9])/gi,y6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KU(t){return encodeURIComponent(t).replace(v6e,(e,n)=>y6e[n]??e)}function s_(t){return`${t}`}class wa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new m6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(s_):[s_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new wa({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(s_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(s_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class E6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function YU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function QU(t){return typeof Blob<"u"&&t instanceof Blob}function XU(t){return typeof FormData<"u"&&t instanceof FormData}class Q0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function C6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Hs),this.context||(this.context=new E6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new wa,this.urlWithParams=n}serializeBody(){return null===this.body?null:YU(this.body)||QU(this.body)||XU(this.body)||function x6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XU(this.body)?null:QU(this.body)?this.body.type||null:YU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Q0(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var cd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cd||{});class xw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Hs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Iw extends xw{constructor(e={}){super(e),this.type=cd.ResponseHeader}clone(e={}){return new Iw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ld extends xw{constructor(e={}){super(e),this.type=cd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ld({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class JU extends xw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let o_=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Q0)o=r;else{let l,u;l=s.headers instanceof Hs?s.headers:new Hs(s.headers),s.params&&(u=s.params instanceof wa?s.params:new wa({fromObject:s.params})),o=new Q0(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Be(o).pipe(u0(l=>this.handler.handle(l)));if(r instanceof Q0||"events"===s.observe)return a;const c=a.pipe(ks(l=>l instanceof ld));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Je(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Je(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new wa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,bw(s,i))}post(r,i,s={}){return this.request("POST",r,bw(s,i))}put(r,i,s={}){return this.request("PUT",r,bw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(r_))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function tj(t,e){return e(t)}function b6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const A6e=new Ie(""),X0=new Ie(""),nj=new Ie("");function T6e(){let t=null;return(e,n)=>{null===t&&(t=($(A6e,{optional:!0})??[]).reduceRight(b6e,tj));const r=$(Mg),i=r.add();return t(e,n).pipe(d0(()=>r.remove(i)))}}let rj=(()=>{var t;class e extends r_{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=$(Mg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(X0),...this.injector.get(nj,[])]));this.chain=s.reduceRight((o,a)=>function w6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),tj)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(d0(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(i_),Re(Ai))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const R6e=/^\)\]\}',?\n/;let sj=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Wn(i.\u0275loadImpl()):Be(null)).pipe(Ci(()=>new he(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,D)=>a.setRequestHeader(m,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const m=a.statusText||"OK",D=new Hs(a.getAllResponseHeaders()),b=function M6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new Iw({headers:D,status:a.status,statusText:m,url:b}),l},d=()=>{let{headers:m,status:D,statusText:b,url:G}=u(),Q=null;204!==D&&(Q=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=Q?200:0);let pe=D>=200&&D<300;if("json"===r.responseType&&"string"==typeof Q){const Ne=Q;Q=Q.replace(R6e,"");try{Q=""!==Q?JSON.parse(Q):null}catch(Xe){Q=Ne,pe&&(pe=!1,Q={error:Xe,text:Q})}}pe?(o.next(new ld({body:Q,headers:m,status:D,statusText:b,url:G||void 0})),o.complete()):o.error(new JU({error:Q,headers:m,status:D,statusText:b,url:G||void 0}))},f=m=>{const{url:D}=u(),b=new JU({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(b)};let h=!1;const p=m=>{h||(o.next(u()),h=!0);let D={type:cd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),"text"===r.responseType&&a.responseText&&(D.partialText=a.responseText),o.next(D)},g=m=>{let D={type:cd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:cd.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(eR))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const ww=new Ie("XSRF_ENABLED"),oj=new Ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aj=new Ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cj{}let O6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=GP(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr),Re(gs),Re(oj))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function F6e(t,e){const n=t.url.toLowerCase();if(!$(ww)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=$(cj).getToken(),i=$(aj);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Aa=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Aa||{});function Vc(t,e){return{\u0275kind:t,\u0275providers:e}}function V6e(...t){const e=[o_,sj,rj,{provide:r_,useExisting:rj},{provide:i_,useExisting:sj},{provide:X0,useValue:F6e,multi:!0},{provide:ww,useValue:!0},{provide:cj,useClass:O6e}];for(const n of t)e.push(...n.\u0275providers);return function Rv(t){return{\u0275providers:t}}(e)}const lj=new Ie("LEGACY_INTERCEPTOR_FN");let uj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({providers:[V6e(Vc(Aa.LegacyInterceptors,[{provide:lj,useFactory:T6e},{provide:X0,useExisting:lj,multi:!0}]))]}),e})();class Aw{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class $6e{constructor(){this._stats=new Aw}get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats,dgtVersion:this.dgtVersion}}}class G6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}class Tw{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class c_{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class dj{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let J0=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};J0=qt([ur(2,Ht())],J0);var fj=function(t){return t.WP="wp",t.SKOL="skol",t.GOG="gog",t}(fj||{});let hj=(()=>{var t;class e{constructor(){this.httpClient=$(o_),this.firestore=$(Ms),this.localStorageService=$(Lr),this.dgAPI=$(Ri),this.PLAYER_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=y(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return y(function*(){const s=250+Math.floor(1500*Math.random()),o=Oi(i.firestore,"players-planets");let a=new dj(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,s,u,l),yield i.scanCombatRankingsPage(c,r,a,s,u,l);yield i.cacheRankings(c,o,r,new dj(0))})()}getNumberOfPages(){var r=this;return y(function*(){let i=yield Y0(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a,c){var l=this;return y(function*(){let u=yield Y0(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Aw);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),Object.values(fj).includes(p.alliance)&&(p.relation="hostile")}),s.number+=(yield l.atomicIncrement()),i.emit(new c_(s.number,2*c,"load")),yield l.delay(o)})()}scanCombatRankingsPage(r,i,s,o,a,c){var l=this;return y(function*(){let u=yield Y0(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Aw);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),s.number+=(yield l.atomicIncrement()),i.emit(new c_(s.number,2*c,"load")),yield l.delay(o)})()}cacheRankings(r,i,s,o){var a=this;return y(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=Lu(ar(i,d.toString())).subscribe(h=>{if(h){const p=Object.assign(new Tw,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),s.emit(new c_(++o.number,r.size,"save")),f.unsubscribe()})},5*++l)}),yield a.delay(10*++l).finally(()=>{a.localStorageService.cache(et.PLAYERS_STATS,c);let u=a.localStorageService.localMetadata();u.playersRankingsTurn=new J0(a.dgAPI.gameTurn(),0),u.allianceMembersTurn.turn=0,a.localStorageService.remove(et.ALLIANCE_MEMBERS),a.localStorageService.cache(et.LOCAL_METADATA,u)})})()}atomicIncrement(){return y(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class pj{get name(){return this._name}set name(e){this._name=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{name:this.name,turn:this.turn,version:this.version}}}var ud;class l_{constructor(){this.httpClient=$(o_),this.firestore=$(Ms),this.localStorageService=$(Lr),this.playersRankingsLoaderService=$(hj),this.dgAPI=$(Ri),this._updatesEmitter=new Pt,this.ALLIANCES_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new Pt}updateMetadata(e){const n=Oi(this.firestore,"metadata"),r=Oi(this.firestore,"user-status");let i=r0(s0(n)).subscribe(s=>{const o=Object.assign([],s);let a=new G6e;a.dgtVersion=o[0].version,a.planetsTurn=o[1],a.playersRankingsTurn=o[2],this.localStorageService.cache(et.REMOTE_METADATA,a);let c=Lu(ar(r,this.dgAPI.username())).subscribe(l=>{if(l){let u=Object.assign(new pj,l);u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,o0(ar(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}else{let u=new pj;u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,u.name=this.dgAPI.username(),Bu(ar(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}e.next(!0),e.complete(),c.unsubscribe()});i.unsubscribe()})}loadPlanets(){var e=this;return y(function*(){let n=e.localStorageService.localMetadata();const r=e.localStorageService.get(et.REMOTE_METADATA);if(0===n.planetsTurn.turn||r.planetsTurn.turn>n.planetsTurn.turn||r.planetsTurn.turn==n.planetsTurn.turn&&r.planetsTurn.version>n.planetsTurn.version){let a=e.localStorageService.localMetadata(),c=e.localStorageService.remoteMetadata();a.planetsTurn.turn=c.planetsTurn.turn,a.planetsTurn.version=c.planetsTurn.version,a.playersRankingsTurn.turn=0,e.localStorageService.remove(et.PLAYERS_STATS),e.localStorageService.cache(et.LOCAL_METADATA,a)}e._updatesEmitter.emit(-1)})()}loadRankings(e,n=!1){const r=this.localStorageService.localMetadata(),i=this.localStorageService.get(et.PLAYERS_STATS);(!i||0==i.length||0===r.playersRankingsTurn.turn||e>r.playersRankingsTurn.turn||n)&&(-1!==window.location.pathname.indexOf("/rankings/players")||-1!==window.location.pathname.indexOf("/alliances"))&&(this._updatesEmitter.emit(2),this.loadPlayersRankings(this._playersRankingsEmitter));const a=this.localStorageService.get(et.ALLIANCE_MEMBERS);i&&(!a||0==a.length||0===r.allianceMembersTurn.turn||e>r.allianceMembersTurn.turn)&&-1!==window.location.pathname.indexOf("/alliances")&&(this._updatesEmitter.emit(1),this.loadAllianceMembers(e).finally(()=>{this._updatesEmitter.emit(0)}).catch(u=>console.log(u)))}loadPlayersRankings(e){this.playersRankingsLoaderService.scanPlayersRankingsScreens(e).finally(()=>{this._updatesEmitter.emit(1),this.loadAllianceMembers(this.localStorageService.localMetadata().playersRankingsTurn.turn).finally(()=>{this._updatesEmitter.emit(0)})})}loadAllianceMembers(e){var n=this;return y(function*(){const r=yield Y0(n.httpClient.get(n.ALLIANCES_URL,{responseType:"text"})),i=(new DOMParser).parseFromString(r,"text/html"),s=n.localStorageService.get(et.PLAYERS_STATS),o=Oi(n.firestore,"user-status");let a=r0(s0(o)).subscribe(c=>{const l=Object.assign([],c);if(!i.querySelector('[action="/alliances/join/"]')){let u=[];i.querySelectorAll(".allianceBox").forEach(f=>{f.querySelector(".plainHeader")&&"member list"===f.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&f.querySelectorAll(".player").forEach(h=>{let p=new $6e;if(null!=h.querySelector('[action^="/alliances/note/"]')){let g=h.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);p.dgId=g[g.length-2]}if(null==h.querySelector('[action="/alliances/kick/"] input')&&null!=h.querySelector(".right>b")&&(p.kickEta=h.querySelector(".right>b").textContent.trim().toLowerCase()),null!=h.querySelector("div.name")){p.name=h.querySelector("div.name").childNodes[0].textContent.trim(),p.stats=s.find(m=>m.name.trim().toLowerCase()===p.name.toLowerCase());const g=l.find(m=>m.name.trim().toLowerCase()===p.name.toLowerCase());g&&(p.dgtVersion=g.version),u.push(p)}})});let d=n.localStorageService.localMetadata();d.allianceMembersTurn.turn=e,n.localStorageService.cache(et.ALLIANCE_MEMBERS,u),n.localStorageService.cache(et.LOCAL_METADATA,d),a.unsubscribe()}})})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}}(ud=l_).\u0275fac=function(e){return new(e||ud)},ud.\u0275prov=Ce({token:ud,factory:ud.\u0275fac,providedIn:"root"}),qt([ur(1,Ht())],l_.prototype,"loadRankings",null);let q6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[g6e]}),t.\u0275inj=It({providers:[l_],imports:[Or,so(()=>ao(Gn_firebase)),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class W6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class gj{constructor(e,n,r){this._planets=[],this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._requiredSoldiers=0,this._galaxy=e,this._planets=n,this._total=r}get requiredSoldiers(){return this._requiredSoldiers}set requiredSoldiers(e){this._requiredSoldiers=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}get total(){return this._total}set total(e){this._total=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets,total:this.total,metalProduction:this.metalProduction,mineralProduction:this.mineralProduction,foodProduction:this.foodProduction,requiredSoldiers:this.requiredSoldiers}}}let u_=(()=>{var t;class e{constructor(){this.firestore=$(Ms),this.dgAPI=$(Ri),this.metadataPath=Oi(this.firestore,"metadata"),this.localStorageService=$(Lr)}updateMetadataTurns(r){let i=Lu(ar(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new J0(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,o0(ar(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Bu(ar(this.metadataPath,r),JSON.parse(JSON.stringify(new J0(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}resetSortingMaps(){-1===window.location.pathname.indexOf("/rankings/players")&&this.localStorageService.remove(et.PLAYERS_RANKINGS_SORT)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class mj{constructor(){this._planets=[],this._totalMetalProduction=0,this._totalMineralProduction=0,this._totalFoodProduction=0,this._totalRequiredSoldiers=0}get totalRequiredSoldiers(){return this._totalRequiredSoldiers}set totalRequiredSoldiers(e){this._totalRequiredSoldiers=e}get totalMetalProduction(){return this._totalMetalProduction}set totalMetalProduction(e){this._totalMetalProduction=e}get totalMineralProduction(){return this._totalMineralProduction}set totalMineralProduction(e){this._totalMineralProduction=e}get totalFoodProduction(){return this._totalFoodProduction}set totalFoodProduction(e){this._totalFoodProduction=e}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total,totalMetalProduction:this.totalMetalProduction,totalMineralProduction:this.totalMineralProduction,totalFoodProduction:this.totalFoodProduction,totalRequiredSoldiers:this.totalRequiredSoldiers}}}var dd;class Sw{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=$(o_),this.firestore=$(Ms),this.dgAPI=$(Ri),this.metadataService=$(u_),this.localStorageService=$(Lr),this._systemScanEmitter=new Pt,this._planetScanEmitter=new Pt,this.NAVIGATION_BASE_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=y(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return y(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=Oi(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let m=1;m<=r.SYSTEMS;m++)a&&(yield r.parseAndSave(s[u],g,m,d,f,h),r._systemScanEmitter.emit(new c_(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe(),yield r.delay(3e3)})()}mergeAlliancePlanets(e){const n=Oi(this.firestore,"alliances-planets");e.forEach((r,i)=>{r.planets.forEach(o=>{const a=Oi(this.firestore,"scans-g"+o.galaxy);o.planets.forEach(c=>{let l=Lu(ar(a,c)).subscribe(u=>{if(u){let d=Object.assign(new B4,u);o.metalProduction+=d.resources[0].production,o.mineralProduction+=d.resources[1].production,o.foodProduction+=d.resources[2].production,o.requiredSoldiers+=Math.ceil(d.workers.currentNumber/15+1.5*d.soldiers)+1}l.unsubscribe()})})});let s=Lu(ar(n,i)).subscribe(o=>{o?(Object.assign(new mj,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.total,r.totalMetalProduction+=c.metalProduction,r.totalMineralProduction+=c.mineralProduction,r.totalFoodProduction+=c.foodProduction,r.totalRequiredSoldiers+=c.requiredSoldiers}),o0(ar(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.total,r.totalMetalProduction+=a.metalProduction,r.totalMineralProduction+=a.mineralProduction,r.totalFoodProduction+=a.foodProduction,r.totalRequiredSoldiers+=a.requiredSoldiers}),Bu(ar(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=Oi(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Lu(ar(n,i.toString())).subscribe(o=>{o&&Object.assign(new Tw,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?o0(ar(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Bu(ar(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return y(function*(){const c=yield Y0(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new W6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new Tw);let g=i.get(f.playerId).planets;if(g.some(D=>D.galaxy===e)?g.filter(b=>b.galaxy===e&&!b.planets.includes(f.location)).forEach(b=>{b.planets.push(f.location),b.total++}):i.get(f.playerId).planets.push(new gj(e,[f.location],1)),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new mj);let D=s.get(f.alliance).planets;D.some(G=>G.galaxy===e)?D.filter(Q=>Q.galaxy===e&&!Q.planets.includes(f.location)).forEach(Q=>{Q.planets.push(f.location),Q.total++}):s.get(f.alliance).planets.push(new gj(e,[f.location],1)),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}Bu(ar(o,f.location),JSON.parse(JSON.stringify(f))).catch(D=>console.log(D))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(dd=Sw).\u0275fac=function(e){return new(e||dd)},dd.\u0275prov=Ce({token:dd,factory:dd.\u0275fac,providedIn:"root"}),qt([ur(1,Ht())],Sw.prototype,"scanPlanets",null);let K6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Rr))},t.\u0275dir=Ve({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&Ot("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const Y6e=["planetsLoadModal"],Q6e=["planetProgressBar"],X6e=["playersProgressBar"],J6e=["planetCounter"];function Z6e(t,e){if(1&t){const n=Pl();Lo(0),k(1,"div",1)(2,"div",2)(3,"b",3),K(4,"DGT Admin Panel"),O()(),k(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),K(10,"Universe Scan"),O()(),k(11,"span",8),K(12,"Usage:"),O(),k(13,"ul")(14,"li"),K(15,"44 - G44 only"),O(),k(16,"li"),K(17,"1,2,3 - G01, G02 & G03"),O(),k(18,"li"),K(19,"213 - Inner (G02-G13)"),O(),k(20,"li"),K(21,"1449 - Outer (G14-G49)"),O(),k(22,"li"),K(23,"149 - All galaxies (G01-G49)"),O()()(),k(24,"form")(25,"input",9),Ot("ngModelChange",function(i){return wr(n),Ar(Rt().controls.galaxies=i)}),O(),k(26,"button",10),Ot("click",function(){return wr(n),Ar(Rt().scanNavigationScreen())}),K(27,"Fetch"),O()()()()(),k(28,"div",11,12)(30,"div",13)(31,"div",14)(32,"span",15),K(33),O(),k(34,"span",16,17),K(36),O()(),k(37,"div",18)(38,"span",19),K(39),O(),Ue(40,"span",20,21),O(),k(42,"div",22)(43,"button",23),Ot("click",function(){return wr(n),Ar(Rt().cancelScan())}),K(44,"Cancel"),O()()()(),Bo()}if(2&t){const n=Rt();ae(25),Te("ngModel",n.controls.galaxies),ae(8),ot(n.loadedSystem),ae(3),ot(n.loadedPlanet),ae(3),za("",n.planetPercentage,"%")}}let e3e=(()=>{var t;class e{constructor(){this.planetsLoaderService=$(Sw),this.changeDetection=$(Cs),this.authService=$(ts),this.cancelScanEmitter=new Pt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return y(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(ui(Y6e,5),ui(Q6e,5),ui(X6e,5),ui(J6e,5)),2&r){let s;Qr(s=Xr())&&(i.planetsLoadModal=s.first),Qr(s=Xr())&&(i.planetProgressBar=s.first),Qr(s=Xr())&&(i.playersProgressBar=s.first),Qr(s=Xr())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["name","galaxies","type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"]],template:function(r,i){1&r&&_t(0,Z6e,45,4,"ng-container",0),2&r&&Te("ngIf",i.authenticated)},dependencies:[Ki,pw,q2,gU,rw,hw,K0,K6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%]{width:100%;float:left}.load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),t3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[e3e]}),t.\u0275inj=It({providers:[u_],imports:[Or,Cw,uj,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),Ic(()=>bc()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function n3e(t,e){1&t&&(Lo(0),k(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),K(6,"#"),O(),k(7,"th",4),K(8,"Tag"),O(),k(9,"th",5),K(10,"Player"),O(),k(11,"th",6),K(12,"Members"),O(),k(13,"th",7),K(14,"Planets"),O(),k(15,"th",8),K(16,"G1"),O(),k(17,"th",9),K(18,"Inner"),O(),k(19,"th",10),K(20,"Outer"),O(),k(21,"th",11),K(22,"Combat"),O(),k(23,"th",12),K(24,"Score"),O(),k(25,"th",13),K(26,"Avg"),O(),k(27,"th",14),K(28,"Combined"),O()()(),Ue(29,"tbody"),O()(),Bo())}let r3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-alliance-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"members"],[1,"planets"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"combat"],[1,"score"],[1,"average"],[1,"combined"]],template:function(r,i){1&r&&_t(0,n3e,30,0,"ng-container",0),2&r&&Te("ngIf",!0)},dependencies:[Ki]}),e})(),i3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[r3e]}),t.\u0275inj=It({imports:[Or]}),e})();const s3e=["dgtUpdatingModel"],o3e=["rankingsLoadModal"],a3e=["playersProgressBar"];function c3e(t,e){if(1&t&&(Lo(0),k(1,"div",1,2)(3,"div",3)(4,"span"),K(5,"Downloading DGT metadata updates..."),O(),Ue(6,"img",4),O()(),k(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),K(12),O()(),k(13,"div",10)(14,"span",11),K(15),O(),Ue(16,"span",12,13),O()()(),Bo()),2&t){const n=Rt();ae(12),ot(n.loadedRankings),ae(3),za("",n.playersPercentage,"%")}}let l3e=(()=>{var t;class e{constructor(){this.synchronizerService=$(l_),this.dgAPI=$(Ri),this.authService=$(ts),this.changeDetection=$(Cs),this.metadataService=$(u_),this.authenticated=!1,this.playersPercentage=0,this.delay=function(){var r=y(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){if(this.authenticated){this.metadataService.resetSortingMaps(),this.prepareRankingsLoader(),this.synchronizerService.updatesEmitter.subscribe(i=>{switch(i){case-1:this.synchronizerService.loadRankings(this.dgAPI.gameTurn());break;case 0:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.delay(1e3).finally(()=>window.location.reload());break;case 1:this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(500).finally(()=>{});break;case 2:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.playersProgressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open")}});let r=new he(i=>{this.synchronizerService.updateMetadata(i)}).subscribe(i=>{i&&(this.synchronizerService.loadPlanets().catch(s=>console.log(s)),r.unsubscribe())})}}prepareRankingsLoader(){this.rankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%",r.page==r.total&&this.rankingsCountSubscription.unsubscribe()}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(ui(s3e,5),ui(o3e,5),ui(a3e,5)),2&r){let s;Qr(s=Xr())&&(i.dgtUpdatingModel=s.first),Qr(s=Xr())&&(i.rankingsLoadModal=s.first),Qr(s=Xr())&&(i.playersProgressBar=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["playersProgressBar",""]],template:function(r,i){1&r&&_t(0,c3e,18,2,"ng-container",0),2&r&&Te("ngIf",i.authenticated)},dependencies:[Ki],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),u3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[l3e]}),t.\u0275inj=It({providers:[hj,u_],imports:[Or,uj,so(()=>ao(Gn_firebase)),Ic(()=>bc()),Qo(()=>Xo()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),d3e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),f3e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=d3e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),h3e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=$(f3e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),p3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[h3e]}),t.\u0275inj=It({imports:[Or]}),e})();var fd,Z0;class Dw{constructor(){this.localStorageService=$(Lr)}fetchAndClear(e,n,r,i,s=!1){let o=new Map;const a=this.localStorageService.get(et.PLAYERS_STATS);if(null===a)return o;for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"combinedScore":case"combatScore":case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":u="desc"===n?a[c][e]<a[l][e]:a[c][e]>a[l][e]}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);else for(let c=a.length-100;c<a.length;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);return s&&document.querySelector(".playerRankingsList").remove(),o}fixPaginationDisplay(e){if(null===this.localStorageService.get(et.PLAYERS_STATS))return;const n=this.localStorageService.get(et.PLAYERS_STATS).length;document.querySelector("#ranking-navigation > div:nth-child(2)").innerHTML="Page "+e+" / "+Math.ceil(n/100),e===Math.ceil(n/100)&&document.querySelector("#ranking-navigation > div:nth-child(1)").remove()}}function g3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function m3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function _3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function v3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function y3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function E3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function C3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function x3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function I3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function b3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function w3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function A3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}function T3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",20),O())}function S3e(t,e){1&t&&(Dr(),k(0,"svg",19),Ue(1,"path",21),O())}(fd=Dw).\u0275fac=function(e){return new(e||fd)},fd.\u0275prov=Ce({token:fd,factory:fd.\u0275fac,providedIn:"root"}),qt([ur(4,Ht())],Dw.prototype,"fetchAndClear",null);const D3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}},ri=function(t){return{selected:t}};function P3e(t,e){if(1&t&&(k(0,"tr",22)(1,"td",3),K(2),O(),k(3,"td",4),K(4),O(),k(5,"td",5),K(6),O(),k(7,"td",6)(8,"a",23),K(9),O()(),k(10,"td",9)(11,"a",23),K(12),O()(),k(13,"td",10)(14,"a",23),K(15),O()(),k(16,"td",11)(17,"a",23),K(18),O()(),Ue(19,"td",12),k(20,"td",13),K(21),Wt(22,"number"),O(),k(23,"td",14),K(24),Wt(25,"number"),O(),k(26,"td",15),K(27),Wt(28,"number"),O()()),2&t){const n=e.$implicit,r=Rt(2);Te("ngClass",p7(30,D3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),ae(2),ot(n.rank),ae(2),ot(n.alliance),ae(2),ot(n.name),ae(1),Te("ngClass",Mt(36,ri,"planets"===r.sortKey)),ae(2),ot(n.planets),ae(1),Te("ngClass",Mt(38,ri,"g1Total"===r.sortKey)),ae(2),ot(n.g1Total),ae(1),Te("ngClass",Mt(40,ri,"g213Total"===r.sortKey)),ae(2),ot(n.g213Total),ae(1),Te("ngClass",Mt(42,ri,"g1449Total"===r.sortKey)),ae(2),ot(n.g1449Total),ae(2),Te("ngClass",Mt(44,ri,"combatScore"===r.sortKey)),ae(1),ot(Yr(22,18,n.combatScore,"1.0","en-US")),ae(2),Te("ngClass",Mt(46,ri,"score"===r.sortKey)),ae(1),ot(Yr(25,22,n.score,"1.0","en-US")),ae(2),Te("ngClass",Mt(48,ri,"combinedScore"===r.sortKey)),ae(1),ot(Yr(28,26,n.combinedScore,"1.0","en-US"))}}function R3e(t,e){if(1&t){const n=Pl();Lo(0),k(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),K(6,"#"),O(),k(7,"th",4),K(8,"Tag"),O(),k(9,"th",5),K(10,"Player"),O(),k(11,"th",6)(12,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("planets"))}),K(13,"Planets"),O(),_t(14,g3e,2,0,"svg",8),_t(15,m3e,2,0,"svg",8),O(),k(16,"th",9)(17,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("g1Total"))}),K(18,"G1"),O(),_t(19,_3e,2,0,"svg",8),_t(20,v3e,2,0,"svg",8),O(),k(21,"th",10)(22,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("g213Total"))}),K(23,"Inner"),O(),_t(24,y3e,2,0,"svg",8),_t(25,E3e,2,0,"svg",8),O(),k(26,"th",11)(27,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("g1449Total"))}),K(28,"Outer"),O(),_t(29,C3e,2,0,"svg",8),_t(30,x3e,2,0,"svg",8),O(),Ue(31,"th",12),k(32,"th",13)(33,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("combatScore"))}),K(34,"Combat"),O(),_t(35,I3e,2,0,"svg",8),_t(36,b3e,2,0,"svg",8),O(),k(37,"th",14)(38,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("score"))}),K(39,"Score"),O(),_t(40,w3e,2,0,"svg",8),_t(41,A3e,2,0,"svg",8),O(),k(42,"th",15)(43,"a",7),Ot("click",function(){return wr(n),Ar(Rt().orderBy("combinedScore"))}),K(44,"Combined"),O(),_t(45,T3e,2,0,"svg",8),_t(46,S3e,2,0,"svg",8),O()()(),k(47,"tbody"),_t(48,P3e,29,50,"tr",16),O()()(),k(49,"div",17)(50,"div",18)(51,"h2"),K(52,"Riddick"),O(),k(53,"table")(54,"tr")(55,"th"),K(56,"G7"),O(),k(57,"td"),K(58,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),O()(),k(59,"tr")(60,"th"),K(61,"G8"),O(),k(62,"td"),K(63,"8.4.3.5"),O()(),k(64,"tr")(65,"th"),K(66,"G9"),O(),k(67,"td"),K(68,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),O()()()()(),Bo()}if(2&t){const n=Rt();ae(11),Te("ngClass",Mt(22,ri,"planets"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"planets"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"planets"===n.sortKey),ae(1),Te("ngClass",Mt(24,ri,"g1Total"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"g1Total"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"g1Total"===n.sortKey),ae(1),Te("ngClass",Mt(26,ri,"g213Total"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"g213Total"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"g213Total"===n.sortKey),ae(1),Te("ngClass",Mt(28,ri,"g1449Total"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"g1449Total"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"g1449Total"===n.sortKey),ae(2),Te("ngClass",Mt(30,ri,"combatScore"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"combatScore"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"combatScore"===n.sortKey),ae(1),Te("ngClass",Mt(32,ri,"score"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"score"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"score"===n.sortKey),ae(1),Te("ngClass",Mt(34,ri,"combinedScore"===n.sortKey)),ae(3),Te("ngIf","desc"===n.sortOrder&&"combinedScore"===n.sortKey),ae(1),Te("ngIf","asc"===n.sortOrder&&"combinedScore"===n.sortKey),ae(2),Te("ngForOf",n.rankings.values())}}class Pw{constructor(){this.playerRankingsService=$(Dw),this.authService=$(ts),this.localStorageService=$(Lr),this.changeDetector=$(Cs),this.rankings=new Map,this.authenticated=!1,this.Math=Math,this.sortOrder="desc",this.sortKey="score";const e=window.location.pathname.split(/\//);switch(e.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(e[3])}this.authService.authState.subscribe(n=>{if(this.authenticated=n.status,this.authenticated){null===this.localStorageService.get(et.PLAYERS_RANKINGS_SORT)&&this.localStorageService.cache(et.PLAYERS_RANKINGS_SORT,"score:desc");const r=this.localStorageService.get(et.PLAYERS_RANKINGS_SORT).split(/:/)[0];this.orderBy(r,!1)}}),this.authService.checkLoginValidity(),this.playerRankingsService.fixPaginationDisplay(this.page)}ngAfterViewInit(){this.changeDetector.detectChanges()}orderBy(e,n=!0){let r=this.localStorageService.get(et.PLAYERS_RANKINGS_SORT);null===r&&(r="score:desc");let[i,s]=r.split(/:/);e!==i&&(s="asc"),n&&(s="desc"===s?"asc":"desc"),r=e.concat(":",s),this.rankings=this.playerRankingsService.fetchAndClear(e,s,this.page,100),this.sortKey=e,this.sortOrder=s,n&&this.changeDetector.detectChanges(),this.localStorageService.cache(et.PLAYERS_RANKINGS_SORT,r)}}(Z0=Pw).\u0275fac=function(e){return new(e||Z0)},Z0.\u0275cmp=Pn({type:Z0,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets",3,"ngClass"],["href","javascript:void(0);",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",4,"ngIf"],[1,"g1",3,"ngClass"],[1,"inner",3,"ngClass"],[1,"outer",3,"ngClass"],[1,"empty"],[1,"combat",3,"ngClass"],[1,"score",3,"ngClass"],[1,"combined",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512"],["d","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z",2,"/*! line-height","22px !important","*//*! margin-top","10px !important"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(e,n){1&e&&_t(0,R3e,69,36,"ng-container",0),2&e&&Te("ngIf",n.authenticated)},dependencies:[E4,Xg,Ki,Qi],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:75px}.empty[_ngcontent-%COMP%]{width:50px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%]{width:75px}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;border:1px solid #5e5e5e;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}th[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:12px;vertical-align:middle;margin-top:-2px;margin-left:3px;fill:#72bde0}th.selected[_ngcontent-%COMP%], td.selected[_ngcontent-%COMP%]{background:#3b3b3b!important}"]}),qt([ur(1,Ht())],Pw.prototype,"orderBy",null);let M3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[Pw]}),t.\u0275inj=It({providers:[Qi],imports:[Or,Cw,Kb,so(()=>ao(Gn_firebase)),Qo(()=>Xo()),wo(()=>Ao(oo(),{provider:new is(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class dt{constructor(e,n){this._target=e,this._rate=n}get target(){return this._target}set target(e){this._target=e}get rate(){return this._rate}set rate(e){this._rate=e}toJSON(){return{target:this.target,rate:this.rate}}}var hd;class Rw{createSimulation(e){document.querySelectorAll(".dgt-fight-simulation-container").forEach(n=>{const r=n.querySelector(".dgt-fight-simulation"),i=parseInt(r.attributes.getNamedItem("eta").value),s=new Map,o=new Map;e.forEach(f=>{const h=f.hostile?"hostile":"allied";f.eta<=i&&(s.has(h)?s.get(h).push(f):s.set(h,[f]))}),s.forEach((f,h)=>{o.set(h,this.totalFleet(f))});let a=0,c=0,l=0,u=0;o.forEach((f,h)=>{f.hostile="hostile"===h,f.allied="allied"===h;let p=0,g=0;f.ships.forEach(m=>{switch(m.name){case ve.FIGHTER:g+=0,p+=2e3*m.quantity;break;case ve.BOMBER:g+=4e3*m.quantity,p+=0;break;case ve.FRIGATE:p+=12e3*m.quantity,g+=8e3*m.quantity;break;case ve.DESTROYER:p+=4e4*m.quantity,g+=4e4*m.quantity;break;case ve.CRUISER:p+=12e4*m.quantity,g+=6e4*m.quantity;break;case ve.BATTLESHIP:p+=6e5*m.quantity,g+=4e5*m.quantity}n.querySelector(".dgt-fight-simulator-by-rof tr."+m.name+" td.before."+h).innerHTML=m.quantity.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),f.allied?a+=p/1.5+g:c+=p/1.5+g,n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.metal td.before."+h).innerHTML=p.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.mineral td.before."+h).innerHTML=g.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),this.simulateFight(o.get("allied"),o.get("hostile"),1).forEach((f,h)=>{let p=0,g=0;f.ships.forEach(m=>{switch(m.name){case ve.FIGHTER:g+=0,p+=2e3*m.quantity;break;case ve.BOMBER:g+=4e3*m.quantity,p+=0;break;case ve.FRIGATE:p+=12e3*m.quantity,g+=8e3*m.quantity;break;case ve.DESTROYER:p+=4e4*m.quantity,g+=4e4*m.quantity;break;case ve.CRUISER:p+=12e4*m.quantity,g+=6e4*m.quantity;break;case ve.BATTLESHIP:p+=6e5*m.quantity,g+=4e5*m.quantity}n.querySelector(".dgt-fight-simulator-by-rof tr."+m.name+" td.after."+h).innerHTML=m.quantity.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),f.allied?l+=p/1.5+g:u+=p/1.5+g,n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.metal td.after."+h).innerHTML=p.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.mineral td.after."+h).innerHTML=g.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.total td.allied").innerHTML=(a-l).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.total td.hostile").innerHTML=(c-u).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})})}totalFleet(e){let n=new wR;n.ships.push(new $o(ve.FIGHTER,0)),n.ships.push(new $o(ve.BOMBER,0)),n.ships.push(new $o(ve.FRIGATE,0)),n.ships.push(new $o(ve.DESTROYER,0)),n.ships.push(new $o(ve.CRUISER,0)),n.ships.push(new $o(ve.BATTLESHIP,0));for(let r of e)for(const i of r.ships)this.getShips(n,i.name).quantity+=i.quantity;return n}simulateFight(e,n,r=1){let i=0;for(;!this.isFleetDestroyed(e)&&!this.isFleetDestroyed(n)&&i<r;){let s=JSON.parse(JSON.stringify(e)),o=JSON.parse(JSON.stringify(n));this.fightersAttack(this.getShips(s,ve.FIGHTER).quantity,n),this.fightersAttack(this.getShips(o,ve.FIGHTER).quantity,e),this.bombersAttack(this.getShips(s,ve.BOMBER).quantity,n),this.bombersAttack(this.getShips(o,ve.BOMBER).quantity,e),this.frigateAttack(this.getShips(s,ve.FRIGATE).quantity,n),this.frigateAttack(this.getShips(o,ve.FRIGATE).quantity,e),this.destroyerAttack(this.getShips(s,ve.DESTROYER).quantity,n),this.destroyerAttack(this.getShips(o,ve.DESTROYER).quantity,e),this.cruiserAttack(this.getShips(s,ve.CRUISER).quantity,n),this.cruiserAttack(this.getShips(o,ve.CRUISER).quantity,e),this.battleShipAttack(this.getShips(s,ve.BATTLESHIP).quantity,n),this.battleShipAttack(this.getShips(o,ve.BATTLESHIP).quantity,e),i++}return new Map([e.hostile?["hostile",e]:["allied",e],n.hostile?["hostile",n]:["allied",n]])}fightersAttack(e,n){const r=[new dt(ve.BOMBER,.33333),new dt(ve.FIGHTER,.90999),new dt(ve.FRIGATE,.02532),new dt(ve.DESTROYER,.00684),new dt(ve.CRUISER,.002),new dt(ve.BATTLESHIP,22e-5)];this.attack(e,ve.FIGHTER,n,r)}bombersAttack(e,n){const r=[new dt(ve.DESTROYER,.05),new dt(ve.FRIGATE,.25),new dt(ve.BATTLESHIP,.0025),new dt(ve.BOMBER,.29999),new dt(ve.CRUISER,.004)];this.attack(e,ve.BOMBER,n,r)}frigateAttack(e,n){const r=[new dt(ve.CRUISER,.08332),new dt(ve.FIGHTER,12.11999),new dt(ve.DESTROYER,.66666),new dt(ve.BOMBER,.69999),new dt(ve.FRIGATE,.5),new dt(ve.BATTLESHIP,.004)];this.attack(e,ve.FRIGATE,n,r)}destroyerAttack(e,n){const r=[new dt(ve.BATTLESHIP,.1),new dt(ve.CRUISER,.32999),new dt(ve.DESTROYER,.59999),new dt(ve.FRIGATE,.4),new dt(ve.FIGHTER,5.99988),new dt(ve.BOMBER,2)];this.attack(e,ve.DESTROYER,n,r)}cruiserAttack(e,n){const r=[new dt(ve.FIGHTER,113.89521),new dt(ve.BOMBER,37.73584),new dt(ve.FRIGATE,2),new dt(ve.CRUISER,.25),new dt(ve.DESTROYER,.2),new dt(ve.BATTLESHIP,.025)];this.attack(e,ve.CRUISER,n,r)}battleShipAttack(e,n){const r=[new dt(ve.FRIGATE,43.99472),new dt(ve.CRUISER,4),new dt(ve.BATTLESHIP,.32999),new dt(ve.FIGHTER,328.947368),new dt(ve.BOMBER,47.98464),new dt(ve.DESTROYER,2)];this.attack(e,ve.BATTLESHIP,n,r)}attack(e,n,r,i){for(const s of i){const o=s.rate,a=this.getShips(r,s.target);if(a.quantity>0&&e>0){const c=Math.min(a.quantity,Math.floor(o*e));a.quantity=Math.max(0,a.quantity-c),e=Math.max(0,e-Math.ceil(c/o))}}}getShips(e,n){return e.ships.filter(r=>r.name===n)[0]}isFleetDestroyed(e){return 0===e.ships.filter(n=>n.quantity>0).length}}(hd=Rw).\u0275fac=function(e){return new(e||hd)},hd.\u0275prov=Ce({token:hd,factory:hd.\u0275fac,providedIn:"root"}),qt([ur(2,Ht())],Rw.prototype,"simulateFight",null);let k3e=(()=>{var t;class e{applyFleetScore(r){r.forEach(i=>{const s=document.querySelector('.dgt-fleet[dgt-fleet-id="'+i.id+'"]');null!=s&&(s.querySelector(".dgt-fleet-score-value").innerHTML=Math.ceil(i.score).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}),document.querySelectorAll(".dgt-eta-score").forEach(i=>{const s=parseInt(i.attributes.getNamedItem("eta").value),o=r.filter(l=>l.eta===s);let a=0,c=0;o.length>0&&o.forEach(l=>{l.hostile?a+=Math.ceil(l.score):c+=Math.ceil(l.score)}),i.querySelector(".hostile.dgt-eta-score-value").innerHTML=Math.ceil(a).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),i.querySelector(".allied.dgt-eta-score-value").innerHTML=Math.ceil(c).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),N3e=(()=>{var t;class e{constructor(){this.fightSimulatorService=$(Rw),this.fleetScoreService=$(k3e),this.dgAPI=$(Ri),this.authService=$(ts),this.initialized=!1}ngAfterViewInit(){this.authService.authState.subscribe(r=>{if(r.status&&!this.initialized){const i=this.dgAPI.fleetScan();this.fleetScoreService.applyFleetScore(i),this.fightSimulatorService.createSimulation(i),this.initialized=!0}}),this.authService.checkLoginValidity()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pn({type:t,selectors:[["dgt-fleet-scan-details"]],decls:0,vars:0,template:function(r,i){}}),e})(),O3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[N3e]}),t.\u0275inj=It({imports:[Or]}),e})();const zr=Lte();let F3e=window.location.pathname.split(/\//g);zr.bootstrapModule(d6e).finally(()=>{zr.bootstrapModule(l6e).finally(()=>{zr.bootstrapModule(j2e).finally(()=>{zr.bootstrapModule(u3e).finally(()=>{zr.bootstrapModule(O1e).finally(()=>{!function V3e(t){2===t.length&&0===t[1].trim().length&&(zr.bootstrapModule(q6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),zr.bootstrapModule(t3e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&zr.bootstrapModule(k2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&(zr.bootstrapModule(F2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),document.querySelector("dgt-fleet-scan-details")&&zr.bootstrapModule(O3e).catch(e=>console.error("Error loading FleetScanModule: "+e))),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&zr.bootstrapModule(H2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&zr.bootstrapModule(a6e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&zr.bootstrapModule(i3e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&zr.bootstrapModule(M3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&zr.bootstrapModule(p3e).catch(e=>console.error("Error loading ResearchModule: "+e))}(F3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,j=I.lib.BlockCipher,J=I.algo,F=[],Y=[],v=[],w=[],R=[],E=[],T=[],C=[],S=[],A=[];!function(){for(var _=[],x=0;x<256;x++)_[x]=x<128?x<<1:x<<1^283;var H=0,V=0;for(x=0;x<256;x++){var U=V^V<<1^V<<2^V<<3^V<<4;F[H]=U=U>>>8^255&U^99,Y[U]=H;var ge,q=_[H],fe=_[q],ue=_[fe];v[H]=(ge=257*_[U]^16843008*U)<<24|ge>>>8,w[H]=ge<<16|ge>>>16,R[H]=ge<<8|ge>>>24,E[H]=ge,T[U]=(ge=16843009*ue^65537*fe^257*q^16843008*H)<<24|ge>>>8,C[U]=ge<<16|ge>>>16,S[U]=ge<<8|ge>>>24,A[U]=ge,H?(H=q^_[_[_[ue^q]]],V^=_[_[V]]):H=V=1}}();var L=[0,1,2,4,8,16,32,64,128,27,54],N=J.AES=j.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,H=x.words,V=x.sigBytes/4,q=4*((this._nRounds=V+6)+1),fe=this._keySchedule=[],ue=0;ue<q;ue++)ue<V?fe[ue]=H[ue]:(_=fe[ue-1],ue%V?V>6&&ue%V==4&&(_=F[_>>>24]<<24|F[_>>>16&255]<<16|F[_>>>8&255]<<8|F[255&_]):(_=F[(_=_<<8|_>>>24)>>>24]<<24|F[_>>>16&255]<<16|F[_>>>8&255]<<8|F[255&_],_^=L[ue/V|0]<<24),fe[ue]=fe[ue-V]^_);for(var ge=this._invKeySchedule=[],Se=0;Se<q;Se++){if(ue=q-Se,Se%4)var _=fe[ue];else _=fe[ue-4];ge[Se]=Se<4||ue<=4?_:T[F[_>>>24]]^C[F[_>>>16&255]]^S[F[_>>>8&255]]^A[F[255&_]]}}},encryptBlock:function(_,x){this._doCryptBlock(_,x,this._keySchedule,v,w,R,E,F)},decryptBlock:function(_,x){var H=_[x+1];_[x+1]=_[x+3],_[x+3]=H,this._doCryptBlock(_,x,this._invKeySchedule,T,C,S,A,Y),H=_[x+1],_[x+1]=_[x+3],_[x+3]=H},_doCryptBlock:function(_,x,H,V,U,q,fe,ue){for(var ge=this._nRounds,Se=_[x]^H[0],X=_[x+1]^H[1],de=_[x+2]^H[2],Ee=_[x+3]^H[3],le=4,Fe=1;Fe<ge;Fe++){var he=V[Se>>>24]^U[X>>>16&255]^q[de>>>8&255]^fe[255&Ee]^H[le++],Ye=V[X>>>24]^U[de>>>16&255]^q[Ee>>>8&255]^fe[255&Se]^H[le++],rt=V[de>>>24]^U[Ee>>>16&255]^q[Se>>>8&255]^fe[255&X]^H[le++],Z=V[Ee>>>24]^U[Se>>>16&255]^q[X>>>8&255]^fe[255&de]^H[le++];Se=he,X=Ye,de=rt,Ee=Z}he=(ue[Se>>>24]<<24|ue[X>>>16&255]<<16|ue[de>>>8&255]<<8|ue[255&Ee])^H[le++],Ye=(ue[X>>>24]<<24|ue[de>>>16&255]<<16|ue[Ee>>>8&255]<<8|ue[255&Se])^H[le++],rt=(ue[de>>>24]<<24|ue[Ee>>>16&255]<<16|ue[Se>>>8&255]<<8|ue[255&X])^H[le++],Z=(ue[Ee>>>24]<<24|ue[Se>>>16&255]<<16|ue[X>>>8&255]<<8|ue[255&de])^H[le++],_[x]=he,_[x+1]=Ye,_[x+2]=rt,_[x+3]=Z},keySize:8});I.AES=j._createHelper(N)}(),P.AES)},172:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,j=I.lib.BlockCipher;const F=16,Y=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function R(A,L){let V=A.sbox[0][L>>24&255]+A.sbox[1][L>>16&255];return V^=A.sbox[2][L>>8&255],V+=A.sbox[3][255&L],V}function E(A,L,N){let H,_=L,x=N;for(let V=0;V<F;++V)_^=A.pbox[V],x=R(A,_)^x,H=_,_=x,x=H;return H=_,_=x,x=H,x^=A.pbox[F],_^=A.pbox[F+1],{left:_,right:x}}var S=I.algo.Blowfish=j.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function C(A,L,N){for(let U=0;U<4;U++){A.sbox[U]=[];for(let q=0;q<256;q++)A.sbox[U][q]=v[U][q]}let _=0;for(let U=0;U<F+2;U++)A.pbox[U]=Y[U]^L[_],_++,_>=N&&(_=0);let x=0,H=0,V=0;for(let U=0;U<F+2;U+=2)V=E(A,x,H),x=V.left,H=V.right,A.pbox[U]=x,A.pbox[U+1]=H;for(let U=0;U<4;U++)for(let q=0;q<256;q+=2)V=E(A,x,H),x=V.left,H=V.right,A.sbox[U][q]=x,A.sbox[U][q+1]=H;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,L){var N=E(w,A[L],A[L+1]);A[L]=N.left,A[L+1]=N.right},decryptBlock:function(A,L){var N=function T(A,L,N){let H,_=L,x=N;for(let V=F+1;V>1;--V)_^=A.pbox[V],x=R(A,_)^x,H=_,_=x,x=H;return H=_,_=x,x=H,x^=A.pbox[1],_^=A.pbox[0],{left:_,right:x}}(w,A[L],A[L+1]);A[L]=N.left,A[L+1]=N.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=j._createHelper(S)}(),P.Blowfish)},270:function(xe,we,B){var W,j,J,F,Y,v,R,T,C,A,L,N,x,V,q,fe,ge,Se,P;xe.exports=(P=B(12),B(66),void(P.lib.Cipher||(W=P,j=W.lib,J=j.Base,F=j.WordArray,Y=j.BufferedBlockAlgorithm,v=W.enc,R=v.Base64,T=W.algo.EvpKDF,C=j.Cipher=Y.extend({cfg:J.extend(),createEncryptor:function(X,de){return this.create(this._ENC_XFORM_MODE,X,de)},createDecryptor:function(X,de){return this.create(this._DEC_XFORM_MODE,X,de)},init:function(X,de,Ee){this.cfg=this.cfg.extend(Ee),this._xformMode=X,this._key=de,this.reset()},reset:function(){Y.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(de){return"string"==typeof de?Se:fe}return function(de){return{encrypt:function(Ee,le,Fe){return X(le).encrypt(de,Ee,le,Fe)},decrypt:function(Ee,le,Fe){return X(le).decrypt(de,Ee,le,Fe)}}}}()}),j.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=W.mode={},L=j.BlockCipherMode=J.extend({createEncryptor:function(X,de){return this.Encryptor.create(X,de)},createDecryptor:function(X,de){return this.Decryptor.create(X,de)},init:function(X,de){this._cipher=X,this._iv=de}}),N=A.CBC=function(){var X=L.extend();function de(Ee,le,Fe){var he,Ye=this._iv;Ye?(he=Ye,this._iv=undefined):he=this._prevBlock;for(var rt=0;rt<Fe;rt++)Ee[le+rt]^=he[rt]}return X.Encryptor=X.extend({processBlock:function(Ee,le){var Fe=this._cipher,he=Fe.blockSize;de.call(this,Ee,le,he),Fe.encryptBlock(Ee,le),this._prevBlock=Ee.slice(le,le+he)}}),X.Decryptor=X.extend({processBlock:function(Ee,le){var Fe=this._cipher,he=Fe.blockSize,Ye=Ee.slice(le,le+he);Fe.decryptBlock(Ee,le),de.call(this,Ee,le,he),this._prevBlock=Ye}}),X}(),x=(W.pad={}).Pkcs7={pad:function(X,de){for(var Ee=4*de,le=Ee-X.sigBytes%Ee,Fe=le<<24|le<<16|le<<8|le,he=[],Ye=0;Ye<le;Ye+=4)he.push(Fe);var rt=F.create(he,le);X.concat(rt)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},j.BlockCipher=C.extend({cfg:C.cfg.extend({mode:N,padding:x}),reset:function(){var X;C.reset.call(this);var de=this.cfg,Ee=de.iv,le=de.mode;this._xformMode==this._ENC_XFORM_MODE?X=le.createEncryptor:(X=le.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,Ee&&Ee.words):(this._mode=X.call(le,this,Ee&&Ee.words),this._mode.__creator=X)},_doProcessBlock:function(X,de){this._mode.processBlock(X,de)},_doFinalize:function(){var X,de=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(de.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),de.unpad(X)),X},blockSize:4}),V=j.CipherParams=J.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),q=(W.format={}).OpenSSL={stringify:function(X){var Ee=X.ciphertext,le=X.salt;return(le?F.create([1398893684,1701076831]).concat(le).concat(Ee):Ee).toString(R)},parse:function(X){var de,Ee=R.parse(X),le=Ee.words;return 1398893684==le[0]&&1701076831==le[1]&&(de=F.create(le.slice(2,4)),le.splice(0,4),Ee.sigBytes-=16),V.create({ciphertext:Ee,salt:de})}},fe=j.SerializableCipher=J.extend({cfg:J.extend({format:q}),encrypt:function(X,de,Ee,le){le=this.cfg.extend(le);var Fe=X.createEncryptor(Ee,le),he=Fe.finalize(de),Ye=Fe.cfg;return V.create({ciphertext:he,key:Ee,iv:Ye.iv,algorithm:X,mode:Ye.mode,padding:Ye.padding,blockSize:X.blockSize,formatter:le.format})},decrypt:function(X,de,Ee,le){return le=this.cfg.extend(le),de=this._parse(de,le.format),X.createDecryptor(Ee,le).finalize(de.ciphertext)},_parse:function(X,de){return"string"==typeof X?de.parse(X,this):X}}),ge=(W.kdf={}).OpenSSL={execute:function(X,de,Ee,le,Fe){if(le||(le=F.random(8)),Fe)var he=T.create({keySize:de+Ee,hasher:Fe}).compute(X,le);else he=T.create({keySize:de+Ee}).compute(X,le);var Ye=F.create(he.words.slice(de),4*Ee);return he.sigBytes=4*de,V.create({key:he,iv:Ye,salt:le})}},Se=j.PasswordBasedCipher=fe.extend({cfg:fe.cfg.extend({kdf:ge}),encrypt:function(X,de,Ee,le){var Fe=(le=this.cfg.extend(le)).kdf.execute(Ee,X.keySize,X.ivSize,le.salt,le.hasher);le.iv=Fe.iv;var he=fe.encrypt.call(this,X,de,Fe.key,le);return he.mixIn(Fe),he},decrypt:function(X,de,Ee,le){le=this.cfg.extend(le),de=this._parse(de,le.format);var Fe=le.kdf.execute(Ee,X.keySize,X.ivSize,de.salt,le.hasher);return le.iv=Fe.iv,fe.decrypt.call(this,X,de,Fe.key,le)}}))))},12:function(xe,we,B){var P;xe.exports=(P=P||function(I,W){var j;if(typeof window<"u"&&window.crypto&&(j=window.crypto),typeof self<"u"&&self.crypto&&(j=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(j=globalThis.crypto),!j&&typeof window<"u"&&window.msCrypto&&(j=window.msCrypto),!j&&typeof global<"u"&&global.crypto&&(j=global.crypto),!j)try{j=B(480)}catch{}var J=function(){if(j){if("function"==typeof j.getRandomValues)try{return j.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof j.randomBytes)try{return j.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},F=Object.create||function(){function _(){}return function(x){var H;return _.prototype=x,H=new _,_.prototype=null,H}}(),Y={},v=Y.lib={},w=v.Base={extend:function(_){var x=F(this);return _&&x.mixIn(_),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},R=v.WordArray=w.extend({init:function(_,x){_=this.words=_||[],this.sigBytes=null!=x?x:4*_.length},toString:function(_){return(_||T).stringify(this)},concat:function(_){var x=this.words,H=_.words,V=this.sigBytes,U=_.sigBytes;if(this.clamp(),V%4)for(var q=0;q<U;q++)x[V+q>>>2]|=(H[q>>>2]>>>24-q%4*8&255)<<24-(V+q)%4*8;else for(var ue=0;ue<U;ue+=4)x[V+ue>>>2]=H[ue>>>2];return this.sigBytes+=U,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=I.ceil(x/4)},clone:function(){var _=w.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],H=0;H<_;H+=4)x.push(J());return new R.init(x,_)}}),E=Y.enc={},T=E.Hex={stringify:function(_){for(var x=_.words,H=_.sigBytes,V=[],U=0;U<H;U++){var q=x[U>>>2]>>>24-U%4*8&255;V.push((q>>>4).toString(16)),V.push((15&q).toString(16))}return V.join("")},parse:function(_){for(var x=_.length,H=[],V=0;V<x;V+=2)H[V>>>3]|=parseInt(_.substr(V,2),16)<<24-V%8*4;return new R.init(H,x/2)}},C=E.Latin1={stringify:function(_){for(var x=_.words,H=_.sigBytes,V=[],U=0;U<H;U++)V.push(String.fromCharCode(x[U>>>2]>>>24-U%4*8&255));return V.join("")},parse:function(_){for(var x=_.length,H=[],V=0;V<x;V++)H[V>>>2]|=(255&_.charCodeAt(V))<<24-V%4*8;return new R.init(H,x)}},S=E.Utf8={stringify:function(_){try{return decodeURIComponent(escape(C.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return C.parse(unescape(encodeURIComponent(_)))}},A=v.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new R.init,this._nDataBytes=0},_append:function(_){"string"==typeof _&&(_=S.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,H=this._data,V=H.words,U=H.sigBytes,q=this.blockSize,ue=U/(4*q),ge=(ue=_?I.ceil(ue):I.max((0|ue)-this._minBufferSize,0))*q,Se=I.min(4*ge,U);if(ge){for(var X=0;X<ge;X+=q)this._doProcessBlock(V,X);x=V.splice(0,ge),H.sigBytes-=Se}return new R.init(x,Se)},clone:function(){var _=w.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),N=(v.Hasher=A.extend({cfg:w.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(x,H){return new _.init(H).finalize(x)}},_createHmacHelper:function(_){return function(x,H){return new N.HMAC.init(_,H).finalize(x)}}}),Y.algo={});return Y}(Math),P)},506:function(xe,we,B){var P,j;xe.exports=(P=B(12),j=P.lib.WordArray,P.enc.Base64={stringify:function(v){var w=v.words,R=v.sigBytes,E=this._map;v.clamp();for(var T=[],C=0;C<R;C+=3)for(var N=(w[C>>>2]>>>24-C%4*8&255)<<16|(w[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|w[C+2>>>2]>>>24-(C+2)%4*8&255,_=0;_<4&&C+.75*_<R;_++)T.push(E.charAt(N>>>6*(3-_)&63));var x=E.charAt(64);if(x)for(;T.length%4;)T.push(x);return T.join("")},parse:function(v){var w=v.length,R=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<R.length;T++)E[R.charCodeAt(T)]=T}var C=R.charAt(64);if(C){var S=v.indexOf(C);-1!==S&&(w=S)}return function Y(v,w,R){for(var E=[],T=0,C=0;C<w;C++)if(C%4){var S=R[v.charCodeAt(C-1)]<<C%4*2,A=R[v.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return j.create(E,T)}(v,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},P.enc.Base64)},523:function(xe,we,B){var P,j;xe.exports=(P=B(12),j=P.lib.WordArray,P.enc.Base64url={stringify:function(v,w){void 0===w&&(w=!0);var R=v.words,E=v.sigBytes,T=w?this._safe_map:this._map;v.clamp();for(var C=[],S=0;S<E;S+=3)for(var _=(R[S>>>2]>>>24-S%4*8&255)<<16|(R[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|R[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<E;x++)C.push(T.charAt(_>>>6*(3-x)&63));var H=T.charAt(64);if(H)for(;C.length%4;)C.push(H);return C.join("")},parse:function(v,w){void 0===w&&(w=!0);var R=v.length,E=w?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var C=0;C<E.length;C++)T[E.charCodeAt(C)]=C}var S=E.charAt(64);if(S){var A=v.indexOf(S);-1!==A&&(R=A)}return function Y(v,w,R){for(var E=[],T=0,C=0;C<w;C++)if(C%4){var S=R[v.charCodeAt(C-1)]<<C%4*2,A=R[v.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return j.create(E,T)}(v,R,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},P.enc.Base64url)},454:function(xe,we,B){var P;xe.exports=(P=B(12),function(){var j=P.lib.WordArray,J=P.enc;function Y(v){return v<<8&4278255360|v>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(v){for(var w=v.words,R=v.sigBytes,E=[],T=0;T<R;T+=2)E.push(String.fromCharCode(w[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(v){for(var w=v.length,R=[],E=0;E<w;E++)R[E>>>1]|=v.charCodeAt(E)<<16-E%2*16;return j.create(R,2*w)}},J.Utf16LE={stringify:function(v){for(var w=v.words,R=v.sigBytes,E=[],T=0;T<R;T+=2){var C=Y(w[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(C))}return E.join("")},parse:function(v){for(var w=v.length,R=[],E=0;E<w;E++)R[E>>>1]|=Y(v.charCodeAt(E)<<16-E%2*16);return j.create(R,2*w)}}}(),P.enc.Utf16)},66:function(xe,we,B){var I,W,j,J,F,v,P;xe.exports=(P=B(12),B(446),B(990),J=(W=(I=P).lib).WordArray,v=(F=I.algo).EvpKDF=(j=W.Base).extend({cfg:j.extend({keySize:4,hasher:F.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,R){for(var E,T=this.cfg,C=T.hasher.create(),S=J.create(),A=S.words,L=T.keySize,N=T.iterations;A.length<L;){E&&C.update(E),E=C.update(w).finalize(R),C.reset();for(var _=1;_<N;_++)E=C.finalize(E),C.reset();S.concat(E)}return S.sigBytes=4*L,S}}),I.EvpKDF=function(w,R,E){return v.create(E).compute(w,R)},P.EvpKDF)},826:function(xe,we,B){var P,J,Y;xe.exports=(P=B(12),B(270),J=P.lib.CipherParams,Y=P.enc.Hex,P.format.Hex={stringify:function(R){return R.ciphertext.toString(Y)},parse:function(R){var E=Y.parse(R);return J.create({ciphertext:E})}},P.format.Hex)},990:function(xe,we,B){var P,F;xe.exports=(P=B(12),F=P.enc.Utf8,void(P.algo.HMAC=P.lib.Base.extend({init:function(w,R){w=this._hasher=new w.init,"string"==typeof R&&(R=F.parse(R));var E=w.blockSize,T=4*E;R.sigBytes>T&&(R=w.finalize(R)),R.clamp();for(var C=this._oKey=R.clone(),S=this._iKey=R.clone(),A=C.words,L=S.words,N=0;N<E;N++)A[N]^=1549556828,L[N]^=909522486;C.sigBytes=S.sigBytes=T,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var R=this._hasher,E=R.finalize(w);return R.reset(),R.finalize(this._oKey.clone().concat(E))}})))},874:function(xe,we,B){var P;xe.exports=(P=B(12),B(802),B(37),B(454),B(506),B(523),B(873),B(446),B(78),B(811),B(870),B(913),B(545),B(558),B(990),B(538),B(66),B(270),B(228),B(392),B(584),B(15),B(594),B(237),B(501),B(4),B(297),B(738),B(826),B(42),B(769),B(195),B(969),B(848),B(172),P)},37:function(xe,we,B){var P;xe.exports=(P=B(12),function(){if("function"==typeof ArrayBuffer){var j=P.lib.WordArray,J=j.init,F=j.init=function(Y){if(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),(Y instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Y instanceof Uint8ClampedArray||Y instanceof Int16Array||Y instanceof Uint16Array||Y instanceof Int32Array||Y instanceof Uint32Array||Y instanceof Float32Array||Y instanceof Float64Array)&&(Y=new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength)),Y instanceof Uint8Array){for(var v=Y.byteLength,w=[],R=0;R<v;R++)w[R>>>2]|=Y[R]<<24-R%4*8;J.call(this,w,v)}else J.apply(this,arguments)};F.prototype=j}}(),P.lib.WordArray)},873:function(xe,we,B){var P;xe.exports=(P=B(12),function(I){var W=P,j=W.lib,J=j.WordArray,F=j.Hasher,Y=W.algo,v=[];!function(){for(var S=0;S<64;S++)v[S]=4294967296*I.abs(I.sin(S+1))|0}();var w=Y.MD5=F.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var L=0;L<16;L++){var N=A+L,_=S[N];S[N]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8)}var x=this._hash.words,H=S[A+0],V=S[A+1],U=S[A+2],q=S[A+3],fe=S[A+4],ue=S[A+5],ge=S[A+6],Se=S[A+7],X=S[A+8],de=S[A+9],Ee=S[A+10],le=S[A+11],Fe=S[A+12],he=S[A+13],Ye=S[A+14],rt=S[A+15],Z=x[0],ce=x[1],ne=x[2],oe=x[3];Z=R(Z,ce,ne,oe,H,7,v[0]),oe=R(oe,Z,ce,ne,V,12,v[1]),ne=R(ne,oe,Z,ce,U,17,v[2]),ce=R(ce,ne,oe,Z,q,22,v[3]),Z=R(Z,ce,ne,oe,fe,7,v[4]),oe=R(oe,Z,ce,ne,ue,12,v[5]),ne=R(ne,oe,Z,ce,ge,17,v[6]),ce=R(ce,ne,oe,Z,Se,22,v[7]),Z=R(Z,ce,ne,oe,X,7,v[8]),oe=R(oe,Z,ce,ne,de,12,v[9]),ne=R(ne,oe,Z,ce,Ee,17,v[10]),ce=R(ce,ne,oe,Z,le,22,v[11]),Z=R(Z,ce,ne,oe,Fe,7,v[12]),oe=R(oe,Z,ce,ne,he,12,v[13]),ne=R(ne,oe,Z,ce,Ye,17,v[14]),Z=E(Z,ce=R(ce,ne,oe,Z,rt,22,v[15]),ne,oe,V,5,v[16]),oe=E(oe,Z,ce,ne,ge,9,v[17]),ne=E(ne,oe,Z,ce,le,14,v[18]),ce=E(ce,ne,oe,Z,H,20,v[19]),Z=E(Z,ce,ne,oe,ue,5,v[20]),oe=E(oe,Z,ce,ne,Ee,9,v[21]),ne=E(ne,oe,Z,ce,rt,14,v[22]),ce=E(ce,ne,oe,Z,fe,20,v[23]),Z=E(Z,ce,ne,oe,de,5,v[24]),oe=E(oe,Z,ce,ne,Ye,9,v[25]),ne=E(ne,oe,Z,ce,q,14,v[26]),ce=E(ce,ne,oe,Z,X,20,v[27]),Z=E(Z,ce,ne,oe,he,5,v[28]),oe=E(oe,Z,ce,ne,U,9,v[29]),ne=E(ne,oe,Z,ce,Se,14,v[30]),Z=T(Z,ce=E(ce,ne,oe,Z,Fe,20,v[31]),ne,oe,ue,4,v[32]),oe=T(oe,Z,ce,ne,X,11,v[33]),ne=T(ne,oe,Z,ce,le,16,v[34]),ce=T(ce,ne,oe,Z,Ye,23,v[35]),Z=T(Z,ce,ne,oe,V,4,v[36]),oe=T(oe,Z,ce,ne,fe,11,v[37]),ne=T(ne,oe,Z,ce,Se,16,v[38]),ce=T(ce,ne,oe,Z,Ee,23,v[39]),Z=T(Z,ce,ne,oe,he,4,v[40]),oe=T(oe,Z,ce,ne,H,11,v[41]),ne=T(ne,oe,Z,ce,q,16,v[42]),ce=T(ce,ne,oe,Z,ge,23,v[43]),Z=T(Z,ce,ne,oe,de,4,v[44]),oe=T(oe,Z,ce,ne,Fe,11,v[45]),ne=T(ne,oe,Z,ce,rt,16,v[46]),Z=C(Z,ce=T(ce,ne,oe,Z,U,23,v[47]),ne,oe,H,6,v[48]),oe=C(oe,Z,ce,ne,Se,10,v[49]),ne=C(ne,oe,Z,ce,Ye,15,v[50]),ce=C(ce,ne,oe,Z,ue,21,v[51]),Z=C(Z,ce,ne,oe,Fe,6,v[52]),oe=C(oe,Z,ce,ne,q,10,v[53]),ne=C(ne,oe,Z,ce,Ee,15,v[54]),ce=C(ce,ne,oe,Z,V,21,v[55]),Z=C(Z,ce,ne,oe,X,6,v[56]),oe=C(oe,Z,ce,ne,rt,10,v[57]),ne=C(ne,oe,Z,ce,ge,15,v[58]),ce=C(ce,ne,oe,Z,he,21,v[59]),Z=C(Z,ce,ne,oe,fe,6,v[60]),oe=C(oe,Z,ce,ne,le,10,v[61]),ne=C(ne,oe,Z,ce,U,15,v[62]),ce=C(ce,ne,oe,Z,de,21,v[63]),x[0]=x[0]+Z|0,x[1]=x[1]+ce|0,x[2]=x[2]+ne|0,x[3]=x[3]+oe|0},_doFinalize:function(){var S=this._data,A=S.words,L=8*this._nDataBytes,N=8*S.sigBytes;A[N>>>5]|=128<<24-N%32;var _=I.floor(L/4294967296),x=L;A[15+(N+64>>>9<<4)]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),A[14+(N+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),S.sigBytes=4*(A.length+1),this._process();for(var H=this._hash,V=H.words,U=0;U<4;U++){var q=V[U];V[U]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}return H},clone:function(){var S=F.clone.call(this);return S._hash=this._hash.clone(),S}});function R(S,A,L,N,_,x,H){var V=S+(A&L|~A&N)+_+H;return(V<<x|V>>>32-x)+A}function E(S,A,L,N,_,x,H){var V=S+(A&N|L&~N)+_+H;return(V<<x|V>>>32-x)+A}function T(S,A,L,N,_,x,H){var V=S+(A^L^N)+_+H;return(V<<x|V>>>32-x)+A}function C(S,A,L,N,_,x,H){var V=S+(L^(A|~N))+_+H;return(V<<x|V>>>32-x)+A}W.MD5=F._createHelper(w),W.HmacMD5=F._createHmacHelper(w)}(Math),P.MD5)},228:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.mode.CFB=function(){var I=P.lib.BlockCipherMode.extend();function W(j,J,F,Y){var v,w=this._iv;w?(v=w.slice(0),this._iv=void 0):v=this._prevBlock,Y.encryptBlock(v,0);for(var R=0;R<F;R++)j[J+R]^=v[R]}return I.Encryptor=I.extend({processBlock:function(j,J){var F=this._cipher,Y=F.blockSize;W.call(this,j,J,Y,F),this._prevBlock=j.slice(J,J+Y)}}),I.Decryptor=I.extend({processBlock:function(j,J){var F=this._cipher,Y=F.blockSize,v=j.slice(J,J+Y);W.call(this,j,J,Y,F),this._prevBlock=v}}),I}(),P.mode.CFB)},584:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.mode.CTRGladman=function(){var I=P.lib.BlockCipherMode.extend();function W(F){if(255==(F>>24&255)){var Y=F>>16&255,v=F>>8&255,w=255&F;255===Y?(Y=0,255===v?(v=0,255===w?w=0:++w):++v):++Y,F=0,F+=Y<<16,F+=v<<8,F+=w}else F+=1<<24;return F}var J=I.Encryptor=I.extend({processBlock:function(F,Y){var v=this._cipher,w=v.blockSize,R=this._iv,E=this._counter;R&&(E=this._counter=R.slice(0),this._iv=void 0),function j(F){return 0===(F[0]=W(F[0]))&&(F[1]=W(F[1])),F}(E);var T=E.slice(0);v.encryptBlock(T,0);for(var C=0;C<w;C++)F[Y+C]^=T[C]}});return I.Decryptor=J,I}(),P.mode.CTRGladman)},392:function(xe,we,B){var I,W,P;xe.exports=(P=B(12),B(270),P.mode.CTR=(W=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(j,J){var F=this._cipher,Y=F.blockSize,v=this._iv,w=this._counter;v&&(w=this._counter=v.slice(0),this._iv=void 0);var R=w.slice(0);F.encryptBlock(R,0),w[Y-1]=w[Y-1]+1|0;for(var E=0;E<Y;E++)j[J+E]^=R[E]}}),I.Decryptor=W,I),P.mode.CTR)},594:function(xe,we,B){var I,P;xe.exports=(P=B(12),B(270),P.mode.ECB=((I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(W,j){this._cipher.encryptBlock(W,j)}}),I.Decryptor=I.extend({processBlock:function(W,j){this._cipher.decryptBlock(W,j)}}),I),P.mode.ECB)},15:function(xe,we,B){var I,W,P;xe.exports=(P=B(12),B(270),P.mode.OFB=(W=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(j,J){var F=this._cipher,Y=F.blockSize,v=this._iv,w=this._keystream;v&&(w=this._keystream=v.slice(0),this._iv=void 0),F.encryptBlock(w,0);for(var R=0;R<Y;R++)j[J+R]^=w[R]}}),I.Decryptor=W,I),P.mode.OFB)},237:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.pad.AnsiX923={pad:function(I,W){var j=I.sigBytes,J=4*W,F=J-j%J,Y=j+F-1;I.clamp(),I.words[Y>>>2]|=F<<24-Y%4*8,I.sigBytes+=F},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Ansix923)},501:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.pad.Iso10126={pad:function(I,W){var j=4*W,J=j-I.sigBytes%j;I.concat(P.lib.WordArray.random(J-1)).concat(P.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Iso10126)},4:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.pad.Iso97971={pad:function(I,W){I.concat(P.lib.WordArray.create([2147483648],1)),P.pad.ZeroPadding.pad(I,W)},unpad:function(I){P.pad.ZeroPadding.unpad(I),I.sigBytes--}},P.pad.Iso97971)},738:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.pad.NoPadding={pad:function(){},unpad:function(){}},P.pad.NoPadding)},297:function(xe,we,B){var P;xe.exports=(P=B(12),B(270),P.pad.ZeroPadding={pad:function(I,W){var j=4*W;I.clamp(),I.sigBytes+=j-(I.sigBytes%j||j)},unpad:function(I){var W=I.words,j=I.sigBytes-1;for(j=I.sigBytes-1;j>=0;j--)if(W[j>>>2]>>>24-j%4*8&255){I.sigBytes=j+1;break}}},P.pad.ZeroPadding)},538:function(xe,we,B){var I,W,j,J,F,v,w,P;xe.exports=(P=B(12),B(78),B(990),J=(W=(I=P).lib).WordArray,v=(F=I.algo).HMAC,w=F.PBKDF2=(j=W.Base).extend({cfg:j.extend({keySize:4,hasher:F.SHA256,iterations:25e4}),init:function(R){this.cfg=this.cfg.extend(R)},compute:function(R,E){for(var T=this.cfg,C=v.create(T.hasher,R),S=J.create(),A=J.create([1]),L=S.words,N=A.words,_=T.keySize,x=T.iterations;L.length<_;){var H=C.update(E).finalize(A);C.reset();for(var V=H.words,U=V.length,q=H,fe=1;fe<x;fe++){q=C.finalize(q),C.reset();for(var ue=q.words,ge=0;ge<U;ge++)V[ge]^=ue[ge]}S.concat(H),N[0]++}return S.sigBytes=4*_,S}}),I.PBKDF2=function(R,E,T){return w.create(T).compute(R,E)},P.PBKDF2)},848:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,j=I.lib.StreamCipher,F=[],Y=[],v=[],w=I.algo.RabbitLegacy=j.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,C=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)R.call(this);for(A=0;A<8;A++)S[A]^=C[A+4&7];if(T){var L=T.words,N=L[0],_=L[1],x=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),H=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),V=x>>>16|4294901760&H,U=H<<16|65535&x;for(S[0]^=x,S[1]^=V,S[2]^=H,S[3]^=U,S[4]^=x,S[5]^=V,S[6]^=H,S[7]^=U,A=0;A<4;A++)R.call(this)}},_doProcessBlock:function(E,T){var C=this._X;R.call(this),F[0]=C[0]^C[5]>>>16^C[3]<<16,F[1]=C[2]^C[7]>>>16^C[5]<<16,F[2]=C[4]^C[1]>>>16^C[7]<<16,F[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)F[S]=16711935&(F[S]<<8|F[S]>>>24)|4278255360&(F[S]<<24|F[S]>>>8),E[T+S]^=F[S]},blockSize:4,ivSize:2});function R(){for(var E=this._X,T=this._C,C=0;C<8;C++)Y[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<Y[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<Y[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<Y[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<Y[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<Y[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<Y[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<Y[6]>>>0?1:0)|0,this._b=T[7]>>>0<Y[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,L=S>>>16;v[C]=((A*A>>>17)+A*L>>>15)+L*L^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.RabbitLegacy=j._createHelper(w)}(),P.RabbitLegacy)},969:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,j=I.lib.StreamCipher,F=[],Y=[],v=[],w=I.algo.Rabbit=j.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,C=0;C<4;C++)E[C]=16711935&(E[C]<<8|E[C]>>>24)|4278255360&(E[C]<<24|E[C]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,C=0;C<4;C++)R.call(this);for(C=0;C<8;C++)A[C]^=S[C+4&7];if(T){var L=T.words,N=L[0],_=L[1],x=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),H=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),V=x>>>16|4294901760&H,U=H<<16|65535&x;for(A[0]^=x,A[1]^=V,A[2]^=H,A[3]^=U,A[4]^=x,A[5]^=V,A[6]^=H,A[7]^=U,C=0;C<4;C++)R.call(this)}},_doProcessBlock:function(E,T){var C=this._X;R.call(this),F[0]=C[0]^C[5]>>>16^C[3]<<16,F[1]=C[2]^C[7]>>>16^C[5]<<16,F[2]=C[4]^C[1]>>>16^C[7]<<16,F[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)F[S]=16711935&(F[S]<<8|F[S]>>>24)|4278255360&(F[S]<<24|F[S]>>>8),E[T+S]^=F[S]},blockSize:4,ivSize:2});function R(){for(var E=this._X,T=this._C,C=0;C<8;C++)Y[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<Y[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<Y[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<Y[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<Y[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<Y[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<Y[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<Y[6]>>>0?1:0)|0,this._b=T[7]>>>0<Y[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,L=S>>>16;v[C]=((A*A>>>17)+A*L>>>15)+L*L^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.Rabbit=j._createHelper(w)}(),P.Rabbit)},195:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,j=I.lib.StreamCipher,J=I.algo,F=J.RC4=j.extend({_doReset:function(){for(var w=this._key,R=w.words,E=w.sigBytes,T=this._S=[],C=0;C<256;C++)T[C]=C;C=0;for(var S=0;C<256;C++){var A=C%E,N=T[C];T[C]=T[S=(S+T[C]+(R[A>>>2]>>>24-A%4*8&255))%256],T[S]=N}this._i=this._j=0},_doProcessBlock:function(w,R){w[R]^=Y.call(this)},keySize:8,ivSize:0});function Y(){for(var w=this._S,R=this._i,E=this._j,T=0,C=0;C<4;C++){var S=w[R=(R+1)%256];w[R]=w[E=(E+w[R])%256],w[E]=S,T|=w[(w[R]+w[E])%256]<<24-8*C}return this._i=R,this._j=E,T}I.RC4=j._createHelper(F);var v=J.RC4Drop=F.extend({cfg:F.cfg.extend({drop:192}),_doReset:function(){F._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)Y.call(this)}});I.RC4Drop=j._createHelper(v)}(),P.RC4)},558:function(xe,we,B){var P;xe.exports=(P=B(12),function(I){var W=P,j=W.lib,J=j.WordArray,F=j.Hasher,Y=W.algo,v=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),R=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=J.create([0,1518500249,1859775393,2400959708,2840853838]),C=J.create([1352829926,1548603684,1836072691,2053994217,0]),S=Y.RIPEMD160=F.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(V,U){for(var q=0;q<16;q++){var fe=U+q,ue=V[fe];V[fe]=16711935&(ue<<8|ue>>>24)|4278255360&(ue<<24|ue>>>8)}var he,Ye,rt,Z,ce,ne,oe,Nt,Le,it,nt,ge=this._hash.words,Se=T.words,X=C.words,de=v.words,Ee=w.words,le=R.words,Fe=E.words;for(ne=he=ge[0],oe=Ye=ge[1],Nt=rt=ge[2],Le=Z=ge[3],it=ce=ge[4],q=0;q<80;q+=1)nt=he+V[U+de[q]]|0,nt+=q<16?A(Ye,rt,Z)+Se[0]:q<32?L(Ye,rt,Z)+Se[1]:q<48?N(Ye,rt,Z)+Se[2]:q<64?_(Ye,rt,Z)+Se[3]:x(Ye,rt,Z)+Se[4],nt=(nt=H(nt|=0,le[q]))+ce|0,he=ce,ce=Z,Z=H(rt,10),rt=Ye,Ye=nt,nt=ne+V[U+Ee[q]]|0,nt+=q<16?x(oe,Nt,Le)+X[0]:q<32?_(oe,Nt,Le)+X[1]:q<48?N(oe,Nt,Le)+X[2]:q<64?L(oe,Nt,Le)+X[3]:A(oe,Nt,Le)+X[4],nt=(nt=H(nt|=0,Fe[q]))+it|0,ne=it,it=Le,Le=H(Nt,10),Nt=oe,oe=nt;nt=ge[1]+rt+Le|0,ge[1]=ge[2]+Z+it|0,ge[2]=ge[3]+ce+ne|0,ge[3]=ge[4]+he+oe|0,ge[4]=ge[0]+Ye+Nt|0,ge[0]=nt},_doFinalize:function(){var V=this._data,U=V.words,q=8*this._nDataBytes,fe=8*V.sigBytes;U[fe>>>5]|=128<<24-fe%32,U[14+(fe+64>>>9<<4)]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),V.sigBytes=4*(U.length+1),this._process();for(var ue=this._hash,ge=ue.words,Se=0;Se<5;Se++){var X=ge[Se];ge[Se]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return ue},clone:function(){var V=F.clone.call(this);return V._hash=this._hash.clone(),V}});function A(V,U,q){return V^U^q}function L(V,U,q){return V&U|~V&q}function N(V,U,q){return(V|~U)^q}function _(V,U,q){return V&q|U&~q}function x(V,U,q){return V^(U|~q)}function H(V,U){return V<<U|V>>>32-U}W.RIPEMD160=F._createHelper(S),W.HmacRIPEMD160=F._createHmacHelper(S)}(Math),P.RIPEMD160)},446:function(xe,we,B){var I,W,j,J,Y,v,P;xe.exports=(P=B(12),j=(W=(I=P).lib).WordArray,Y=[],v=I.algo.SHA1=(J=W.Hasher).extend({_doReset:function(){this._hash=new j.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,R){for(var E=this._hash.words,T=E[0],C=E[1],S=E[2],A=E[3],L=E[4],N=0;N<80;N++){if(N<16)Y[N]=0|w[R+N];else{var _=Y[N-3]^Y[N-8]^Y[N-14]^Y[N-16];Y[N]=_<<1|_>>>31}var x=(T<<5|T>>>27)+L+Y[N];x+=N<20?1518500249+(C&S|~C&A):N<40?1859775393+(C^S^A):N<60?(C&S|C&A|S&A)-1894007588:(C^S^A)-899497514,L=A,A=S,S=C<<30|C>>>2,C=T,T=x}E[0]=E[0]+T|0,E[1]=E[1]+C|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+L|0},_doFinalize:function(){var w=this._data,R=w.words,E=8*this._nDataBytes,T=8*w.sigBytes;return R[T>>>5]|=128<<24-T%32,R[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),R[15+(T+64>>>9<<4)]=E,w.sigBytes=4*R.length,this._process(),this._hash},clone:function(){var w=J.clone.call(this);return w._hash=this._hash.clone(),w}}),I.SHA1=J._createHelper(v),I.HmacSHA1=J._createHmacHelper(v),P.SHA1)},811:function(xe,we,B){var I,j,J,F,Y,P;xe.exports=(P=B(12),B(78),j=(I=P).lib.WordArray,Y=(J=I.algo).SHA224=(F=J.SHA256).extend({_doReset:function(){this._hash=new j.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=F._doFinalize.call(this);return v.sigBytes-=4,v}}),I.SHA224=F._createHelper(Y),I.HmacSHA224=F._createHmacHelper(Y),P.SHA224)},78:function(xe,we,B){var P;xe.exports=(P=B(12),function(I){var W=P,j=W.lib,J=j.WordArray,F=j.Hasher,Y=W.algo,v=[],w=[];!function(){function T(L){for(var N=I.sqrt(L),_=2;_<=N;_++)if(!(L%_))return!1;return!0}function C(L){return 4294967296*(L-(0|L))|0}for(var S=2,A=0;A<64;)T(S)&&(A<8&&(v[A]=C(I.pow(S,.5))),w[A]=C(I.pow(S,1/3)),A++),S++}();var R=[],E=Y.SHA256=F.extend({_doReset:function(){this._hash=new J.init(v.slice(0))},_doProcessBlock:function(T,C){for(var S=this._hash.words,A=S[0],L=S[1],N=S[2],_=S[3],x=S[4],H=S[5],V=S[6],U=S[7],q=0;q<64;q++){if(q<16)R[q]=0|T[C+q];else{var fe=R[q-15],ge=R[q-2];R[q]=((fe<<25|fe>>>7)^(fe<<14|fe>>>18)^fe>>>3)+R[q-7]+((ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10)+R[q-16]}var de=A&L^A&N^L&N,Fe=U+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&H^~x&V)+w[q]+R[q];U=V,V=H,H=x,x=_+Fe|0,_=N,N=L,L=A,A=Fe+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+de)|0}S[0]=S[0]+A|0,S[1]=S[1]+L|0,S[2]=S[2]+N|0,S[3]=S[3]+_|0,S[4]=S[4]+x|0,S[5]=S[5]+H|0,S[6]=S[6]+V|0,S[7]=S[7]+U|0},_doFinalize:function(){var T=this._data,C=T.words,S=8*this._nDataBytes,A=8*T.sigBytes;return C[A>>>5]|=128<<24-A%32,C[14+(A+64>>>9<<4)]=I.floor(S/4294967296),C[15+(A+64>>>9<<4)]=S,T.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var T=F.clone.call(this);return T._hash=this._hash.clone(),T}});W.SHA256=F._createHelper(E),W.HmacSHA256=F._createHmacHelper(E)}(Math),P.SHA256)},545:function(xe,we,B){var P;xe.exports=(P=B(12),B(802),function(I){var W=P,j=W.lib,J=j.WordArray,F=j.Hasher,v=W.x64.Word,w=W.algo,R=[],E=[],T=[];!function(){for(var A=1,L=0,N=0;N<24;N++){R[A+5*L]=(N+1)*(N+2)/2%64;var x=(2*A+3*L)%5;A=L%5,L=x}for(A=0;A<5;A++)for(L=0;L<5;L++)E[A+5*L]=L+(2*A+3*L)%5*5;for(var H=1,V=0;V<24;V++){for(var U=0,q=0,fe=0;fe<7;fe++){if(1&H){var ue=(1<<fe)-1;ue<32?q^=1<<ue:U^=1<<ue-32}128&H?H=H<<1^113:H<<=1}T[V]=v.create(U,q)}}();var C=[];!function(){for(var A=0;A<25;A++)C[A]=v.create()}();var S=w.SHA3=F.extend({cfg:F.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],L=0;L<25;L++)A[L]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,L){for(var N=this._state,_=this.blockSize/2,x=0;x<_;x++){var H=A[L+2*x],V=A[L+2*x+1];H=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8),(U=N[x]).high^=V=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8),U.low^=H}for(var q=0;q<24;q++){for(var fe=0;fe<5;fe++){for(var ue=0,ge=0,Se=0;Se<5;Se++)ue^=(U=N[fe+5*Se]).high,ge^=U.low;var X=C[fe];X.high=ue,X.low=ge}for(fe=0;fe<5;fe++){var de=C[(fe+4)%5],Ee=C[(fe+1)%5],le=Ee.high,Fe=Ee.low;for(ue=de.high^(le<<1|Fe>>>31),ge=de.low^(Fe<<1|le>>>31),Se=0;Se<5;Se++)(U=N[fe+5*Se]).high^=ue,U.low^=ge}for(var he=1;he<25;he++){var Ye=(U=N[he]).high,rt=U.low,Z=R[he];Z<32?(ue=Ye<<Z|rt>>>32-Z,ge=rt<<Z|Ye>>>32-Z):(ue=rt<<Z-32|Ye>>>64-Z,ge=Ye<<Z-32|rt>>>64-Z);var ce=C[E[he]];ce.high=ue,ce.low=ge}var ne=C[0],oe=N[0];for(ne.high=oe.high,ne.low=oe.low,fe=0;fe<5;fe++)for(Se=0;Se<5;Se++){var Nt=C[he=fe+5*Se],Le=C[(fe+1)%5+5*Se],it=C[(fe+2)%5+5*Se];(U=N[he]).high=Nt.high^~Le.high&it.high,U.low=Nt.low^~Le.low&it.low}var U,nt=T[q];(U=N[0]).high^=nt.high,U.low^=nt.low}},_doFinalize:function(){var A=this._data,L=A.words,_=8*A.sigBytes,x=32*this.blockSize;L[_>>>5]|=1<<24-_%32,L[(I.ceil((_+1)/x)*x>>>5)-1]|=128,A.sigBytes=4*L.length,this._process();for(var H=this._state,V=this.cfg.outputLength/8,U=V/8,q=[],fe=0;fe<U;fe++){var ue=H[fe],ge=ue.high,Se=ue.low;ge=16711935&(ge<<8|ge>>>24)|4278255360&(ge<<24|ge>>>8),q.push(Se=16711935&(Se<<8|Se>>>24)|4278255360&(Se<<24|Se>>>8)),q.push(ge)}return new J.init(q,V)},clone:function(){for(var A=F.clone.call(this),L=A._state=this._state.slice(0),N=0;N<25;N++)L[N]=L[N].clone();return A}});W.SHA3=F._createHelper(S),W.HmacSHA3=F._createHmacHelper(S)}(Math),P.SHA3)},913:function(xe,we,B){var I,W,j,J,F,Y,v,P;xe.exports=(P=B(12),B(802),B(870),j=(W=(I=P).x64).Word,J=W.WordArray,v=(F=I.algo).SHA384=(Y=F.SHA512).extend({_doReset:function(){this._hash=new J.init([new j.init(3418070365,3238371032),new j.init(1654270250,914150663),new j.init(2438529370,812702999),new j.init(355462360,4144912697),new j.init(1731405415,4290775857),new j.init(2394180231,1750603025),new j.init(3675008525,1694076839),new j.init(1203062813,3204075428)])},_doFinalize:function(){var w=Y._doFinalize.call(this);return w.sigBytes-=16,w}}),I.SHA384=Y._createHelper(v),I.HmacSHA384=Y._createHmacHelper(v),P.SHA384)},870:function(xe,we,B){var P;xe.exports=(P=B(12),B(802),function(){var I=P,j=I.lib.Hasher,J=I.x64,F=J.Word,Y=J.WordArray,v=I.algo;function w(){return F.create.apply(F,arguments)}var R=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],E=[];!function(){for(var C=0;C<80;C++)E[C]=w()}();var T=v.SHA512=j.extend({_doReset:function(){this._hash=new Y.init([new F.init(1779033703,4089235720),new F.init(3144134277,2227873595),new F.init(1013904242,4271175723),new F.init(2773480762,1595750129),new F.init(1359893119,2917565137),new F.init(2600822924,725511199),new F.init(528734635,4215389547),new F.init(1541459225,327033209)])},_doProcessBlock:function(C,S){for(var A=this._hash.words,L=A[0],N=A[1],_=A[2],x=A[3],H=A[4],V=A[5],U=A[6],q=A[7],fe=L.high,ue=L.low,ge=N.high,Se=N.low,X=_.high,de=_.low,Ee=x.high,le=x.low,Fe=H.high,he=H.low,Ye=V.high,rt=V.low,Z=U.high,ce=U.low,ne=q.high,oe=q.low,Nt=fe,Le=ue,it=ge,nt=Se,Je=X,os=de,pd=Ee,zs=le,lr=Fe,qt=he,ur=Ye,Lc=rt,gd=Z,Bc=ce,ep=ne,Sa=oe,Ur=0;Ur<80;Ur++){var jr,yi,Hc=E[Ur];if(Ur<16)yi=Hc.high=0|C[S+2*Ur],jr=Hc.low=0|C[S+2*Ur+1];else{var zc=E[Ur-15],Us=zc.high,Da=zc.low,tp=(Da>>>1|Us<<31)^(Da>>>8|Us<<24)^(Da>>>7|Us<<25),Vi=E[Ur-2],js=Vi.high,Pa=Vi.low,rp=(Pa>>>19|js<<13)^(Pa<<3|js>>>29)^(Pa>>>6|js<<26),ip=E[Ur-7],sp=E[Ur-16],op=sp.low;Hc.high=yi=(yi=(yi=((Us>>>1|Da<<31)^(Us>>>8|Da<<24)^Us>>>7)+ip.high+((jr=tp+ip.low)>>>0<tp>>>0?1:0))+((js>>>19|Pa<<13)^(js<<3|Pa>>>29)^js>>>6)+((jr+=rp)>>>0<rp>>>0?1:0))+sp.high+((jr+=op)>>>0<op>>>0?1:0),Hc.low=jr}var dr,g_=lr&ur^~lr&gd,ap=qt&Lc^~qt&Bc,m_=Nt&it^Nt&Je^it&Je,md=(Le>>>28|Nt<<4)^(Le<<30|Nt>>>2)^(Le<<25|Nt>>>7),_d=R[Ur],vd=_d.low,Li=ep+((lr>>>14|qt<<18)^(lr>>>18|qt<<14)^(lr<<23|qt>>>9))+((dr=Sa+((qt>>>14|lr<<18)^(qt>>>18|lr<<14)^(qt<<23|lr>>>9)))>>>0<Sa>>>0?1:0),yd=md+(Le&nt^Le&os^nt&os);ep=gd,Sa=Bc,gd=ur,Bc=Lc,ur=lr,Lc=qt,lr=pd+(Li=(Li=(Li=Li+g_+((dr+=ap)>>>0<ap>>>0?1:0))+_d.high+((dr+=vd)>>>0<vd>>>0?1:0))+yi+((dr+=jr)>>>0<jr>>>0?1:0))+((qt=zs+dr|0)>>>0<zs>>>0?1:0)|0,pd=Je,zs=os,Je=it,os=nt,it=Nt,nt=Le,Nt=Li+(((Nt>>>28|Le<<4)^(Nt<<30|Le>>>2)^(Nt<<25|Le>>>7))+m_+(yd>>>0<md>>>0?1:0))+((Le=dr+yd|0)>>>0<dr>>>0?1:0)|0}ue=L.low=ue+Le,L.high=fe+Nt+(ue>>>0<Le>>>0?1:0),Se=N.low=Se+nt,N.high=ge+it+(Se>>>0<nt>>>0?1:0),de=_.low=de+os,_.high=X+Je+(de>>>0<os>>>0?1:0),le=x.low=le+zs,x.high=Ee+pd+(le>>>0<zs>>>0?1:0),he=H.low=he+qt,H.high=Fe+lr+(he>>>0<qt>>>0?1:0),rt=V.low=rt+Lc,V.high=Ye+ur+(rt>>>0<Lc>>>0?1:0),ce=U.low=ce+Bc,U.high=Z+gd+(ce>>>0<Bc>>>0?1:0),oe=q.low=oe+Sa,q.high=ne+ep+(oe>>>0<Sa>>>0?1:0)},_doFinalize:function(){var C=this._data,S=C.words,A=8*this._nDataBytes,L=8*C.sigBytes;return S[L>>>5]|=128<<24-L%32,S[30+(L+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(L+128>>>10<<5)]=A,C.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var C=j.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});I.SHA512=j._createHelper(T),I.HmacSHA512=j._createHmacHelper(T)}(),P.SHA512)},769:function(xe,we,B){var P;xe.exports=(P=B(12),B(506),B(873),B(66),B(270),function(){var I=P,W=I.lib,j=W.WordArray,J=W.BlockCipher,F=I.algo,Y=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],R=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=F.DES=J.extend({_doReset:function(){for(var N=this._key.words,_=[],x=0;x<56;x++){var H=Y[x]-1;_[x]=N[H>>>5]>>>31-H%32&1}for(var V=this._subKeys=[],U=0;U<16;U++){var q=V[U]=[],fe=w[U];for(x=0;x<24;x++)q[x/6|0]|=_[(v[x]-1+fe)%28]<<31-x%6,q[4+(x/6|0)]|=_[28+(v[x+24]-1+fe)%28]<<31-x%6;for(q[0]=q[0]<<1|q[0]>>>31,x=1;x<7;x++)q[x]=q[x]>>>4*(x-1)+3;q[7]=q[7]<<5|q[7]>>>27}var ue=this._invSubKeys=[];for(x=0;x<16;x++)ue[x]=V[15-x]},encryptBlock:function(L,N){this._doCryptBlock(L,N,this._subKeys)},decryptBlock:function(L,N){this._doCryptBlock(L,N,this._invSubKeys)},_doCryptBlock:function(L,N,_){this._lBlock=L[N],this._rBlock=L[N+1],C.call(this,4,252645135),C.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),C.call(this,1,1431655765);for(var x=0;x<16;x++){for(var H=_[x],V=this._lBlock,U=this._rBlock,q=0,fe=0;fe<8;fe++)q|=R[fe][((U^H[fe])&E[fe])>>>0];this._lBlock=U,this._rBlock=V^q}var ue=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ue,C.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),L[N]=this._lBlock,L[N+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(L,N){var _=(this._lBlock>>>L^this._rBlock)&N;this._rBlock^=_,this._lBlock^=_<<L}function S(L,N){var _=(this._rBlock>>>L^this._lBlock)&N;this._lBlock^=_,this._rBlock^=_<<L}I.DES=J._createHelper(T);var A=F.TripleDES=J.extend({_doReset:function(){var N=this._key.words;if(2!==N.length&&4!==N.length&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=N.slice(0,2),x=N.length<4?N.slice(0,2):N.slice(2,4),H=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=T.createEncryptor(j.create(_)),this._des2=T.createEncryptor(j.create(x)),this._des3=T.createEncryptor(j.create(H))},encryptBlock:function(L,N){this._des1.encryptBlock(L,N),this._des2.decryptBlock(L,N),this._des3.encryptBlock(L,N)},decryptBlock:function(L,N){this._des3.decryptBlock(L,N),this._des2.encryptBlock(L,N),this._des1.decryptBlock(L,N)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),P.TripleDES)},802:function(xe,we,B){var j,J,F,Y,P;xe.exports=(P=B(12),J=(j=P.lib).Base,F=j.WordArray,(Y=P.x64={}).Word=J.extend({init:function(R,E){this.high=R,this.low=E}}),Y.WordArray=J.extend({init:function(R,E){R=this.words=R||[],this.sigBytes=null!=E?E:8*R.length},toX32:function(){for(var R=this.words,E=R.length,T=[],C=0;C<E;C++){var S=R[C];T.push(S.high),T.push(S.low)}return F.create(T,this.sigBytes)},clone:function(){for(var R=J.clone.call(this),E=R.words=this.words.slice(0),T=E.length,C=0;C<T;C++)E[C]=E[C].clone();return R}}),P)},480:()=>{}},xe=>{xe(xe.s=973)}]);