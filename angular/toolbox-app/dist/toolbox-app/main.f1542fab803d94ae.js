(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{624:(be,Te,B)=>{"use strict";function R(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Y=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function q(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Z{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(o){e=o instanceof Y?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{y(o)}catch(s){e=e??[],s instanceof Y?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Y(e)}}add(e){var n;if(e&&e!==this)if(this.closed)y(e);else{if(e instanceof Z){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&q(n,e)}remove(e){const{_finalizers:n}=this;n&&q(n,e),e instanceof Z&&e._removeParent(this)}}Z.EMPTY=(()=>{const t=new Z;return t.closed=!0,t})();const F=Z.EMPTY;function Q(t){return t instanceof Z||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function y(t){R(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},k={setTimeout(t,e,...n){const{delegate:r}=k;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=k;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){k.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function T(){}const C=V("C",void 0,void 0);function V(t,e,n){return{kind:t,value:e,error:n}}let O=null;function v(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!O;if(e&&(O={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=O;if(O=null,n)throw r}}else t()}class H extends Z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Q(e)&&e.add(this)):this.destination=J}static create(e,n,r){return new pe(e,n,r)}next(e){this.isStopped?De(function A(t){return V("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?De(function S(t){return V("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?De(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function G(t,e){return L.call(t,e)}class K{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){de(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){de(r)}else de(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){de(n)}}}class pe extends H{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&w.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&G(e.next,o),error:e.error&&G(e.error,o),complete:e.complete&&G(e.complete,o)}):i=e}this.destination=new K(i)}}function de(t){w.useDeprecatedSynchronousErrorHandling?function x(t){w.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t)}(t):E(t)}function De(t,e){const{onStoppedNotification:n}=w;n&&k.setTimeout(()=>n(t,e))}const J={closed:!0,next:T,error:function _e(t){throw t},complete:T},he="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ie(t){return t}function Be(t){return 0===t.length?Ie:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ee(t){return t&&t instanceof H||function at(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&Q(t)}(n)?n:new pe(n,r,i);return v(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=et(r))((i,o)=>{const s=new pe({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[he](){return this}pipe(...n){return Be(n)(this)}toPromise(n){return new(n=et(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function et(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const le=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let re=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ce(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new le}next(n){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?F:(this.currentObservers=null,o.push(n),new Z(()=>{this.currentObservers=null,q(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new me;return n.source=this,n}}return t.create=(e,n)=>new ce(e,n),t})();class ce extends re{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:F}}function Bt(t){return R(t?.lift)}function Ue(t){return e=>{if(Bt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new ot(t,e,n,r,i)}class ot extends H{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function nt(t,e){return Ue((n,r)=>{let i=0;n.subscribe(ct(r,o=>{r.next(t.call(e,o,i++))}))})}function mr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ht(t,e,n,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function jn(t,e){return function(n,r){e(n,r,t)}}function zi(t){return this instanceof zi?(this.v=t,this):new zi(t)}function c0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Wc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const p0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Cd(t){return R(t?.then)}function g0(t){return R(t[he])}function m0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function xd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Id=function I_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _r(t){return R(t?.[Id])}function Ui(t){return function qo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof zi?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield zi(n.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{n.releaseLock()}})}function bd(t){return R(t?.getReader)}function vr(t){if(t instanceof me)return t;if(null!=t){if(g0(t))return function Ij(t){return new me(e=>{const n=t[he]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(p0(t))return function bj(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Cd(t))return function wj(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(m0(t))return Uw(t);if(_r(t))return function Aj(t){return new me(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bd(t))return function Tj(t){return Uw(Ui(t))}(t)}throw xd(t)}function Uw(t){return new me(e=>{(function Sj(t,e){var n,r,i,o;return function Gr(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=c0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Wo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function er(t,e,n=1/0){return R(e)?er((r,i)=>nt((o,s)=>e(r,o,i,s))(vr(t(r,i))),n):("number"==typeof e&&(n=e),Ue((r,i)=>function Dj(t,e,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{o&&e.next(g),l++;let m=!1;vr(n(g,u++)).subscribe(ct(e,D=>{i?.(D),o?h(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const D=c.shift();s?Wo(e,s,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(ct(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function _0(t=1/0){return er(Ie,t)}const fo=new me(t=>t.complete());function b_(t){return t[t.length-1]}function jw(t){return R(b_(t))?t.pop():void 0}function wd(t){return function Mj(t){return t&&R(t.schedule)}(b_(t))?t.pop():void 0}function v0(t,e=0){return Ue((n,r)=>{n.subscribe(ct(r,i=>Wo(r,t,()=>r.next(i),e),()=>Wo(r,t,()=>r.complete(),e),i=>Wo(r,t,()=>r.error(i),e)))})}function y0(t,e=0){return Ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function $w(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{Wo(n,e,()=>{const r=t[Symbol.asyncIterator]();Wo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tr(t,e){return e?function Vj(t,e){if(null!=t){if(g0(t))return function kj(t,e){return vr(t).pipe(y0(e),v0(e))}(t,e);if(p0(t))return function Oj(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Cd(t))return function Nj(t,e){return vr(t).pipe(y0(e),v0(e))}(t,e);if(m0(t))return $w(t,e);if(_r(t))return function Fj(t,e){return new me(n=>{let r;return Wo(n,e,()=>{r=t[Id](),Wo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(bd(t))return function Lj(t,e){return $w(Ui(t),e)}(t,e)}throw xd(t)}(t,e):vr(t)}class bi extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function je(...t){return tr(t,wd(t))}function Gw(t={}){const{connector:e=(()=>new re),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ue((g,m)=>{l++,!d&&!u&&f();const D=c=c??e();m.add(()=>{l--,0===l&&!d&&!u&&(a=w_(p,i))}),D.subscribe(m),!s&&l>0&&(s=new pe({next:b=>D.next(b),error:b=>{d=!0,f(),a=w_(h,n,b),D.error(b)},complete:()=>{u=!0,f(),a=w_(h,r),D.complete()}}),vr(g).subscribe(s))})(o)}}function w_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pe({next:()=>{r.unsubscribe(),t()}});return vr(e(...n)).subscribe(r)}function wi(t,e){return Ue((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ct(r,c=>{i?.unsubscribe();let l=0;const u=o++;vr(t(c,u)).subscribe(i=ct(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qw(t,e=Ie){return t=t??Hj,Ue((n,r)=>{let i,o=!0;n.subscribe(ct(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Hj(t,e){return t===e}function Dt(t){for(let e in t)if(t[e]===Dt)return e;throw Error("Could not find renamed property on target object.")}function E0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function A_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const zj=Dt({__forward_ref__:Dt});function Ut(t){return t.__forward_ref__=Ut,t.toString=function(){return Nn(this())},t}function We(t){return T_(t)?t():t}function T_(t){return"function"==typeof t&&t.hasOwnProperty(zj)&&t.__forward_ref__===Ut}function S_(t){return t&&!!t.\u0275providers}const Ww="https://g.co/ng/security#xss";class ie extends Error{constructor(e,n){super(function C0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function D_(t,e){throw new ie(-201,!1)}function Ai(t,e){null==t&&function $e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function x0(t){return Kw(t,b0)||Kw(t,Yw)}function Kw(t,e){return t.hasOwnProperty(e)?t[e]:null}function I0(t){return t&&(t.hasOwnProperty(P_)||t.hasOwnProperty(Yj))?t[P_]:null}const b0=Dt({\u0275prov:Dt}),P_=Dt({\u0275inj:Dt}),Yw=Dt({ngInjectableDef:Dt}),Yj=Dt({ngInjectorDef:Dt});var ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ft||{});let M_;function Wr(t){const e=M_;return M_=t,e}function Xw(t,e,n){const r=x0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ft.Optional?null:void 0!==e?e:void D_(Nn(t))}const jt=globalThis;class we{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ad={},F_="__NG_DI_FLAG__",w0="ngTempTokenPath",Jj=/\n/gm,Zw="__source";let Kc;function ks(t){const e=Kc;return Kc=t,e}function t$(t,e=ft.Default){if(void 0===Kc)throw new ie(-203,!1);return null===Kc?Xw(t,void 0,e):Kc.get(t,e&ft.Optional?null:void 0,e)}function ke(t,e=ft.Default){return(function Qw(){return M_}()||t$)(We(t),e)}function z(t,e=ft.Default){return ke(t,A0(e))}function A0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function L_(t){const e=[];for(let n=0;n<t.length;n++){const r=We(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ie(900,!1);let i,o=ft.Default;for(let s=0;s<r.length;s++){const a=r[s],c=n$(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ke(i,o))}else e.push(ke(r))}return e}function Td(t,e){return t[F_]=e,t.prototype[F_]=e,t}function n$(t){return t[F_]}function Ko(t){return{toString:t}.toString()}var T0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(T0||{}),ji=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ji||{});const ho={},Ct=[],S0=Dt({\u0275cmp:Dt}),V_=Dt({\u0275dir:Dt}),B_=Dt({\u0275pipe:Dt}),tA=Dt({\u0275mod:Dt}),Yo=Dt({\u0275fac:Dt}),Sd=Dt({__NG_ELEMENT_ID__:Dt}),nA=Dt({__NG_ENV_ID__:Dt});function rA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function H_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];oA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function iA(t){return 3===t||4===t||6===t}function oA(t){return 64===t.charCodeAt(0)}function Dd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const aA="ng-template";function o$(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==rA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function cA(t){return 4===t.type&&t.value!==aA}function s$(t,e,n){return e===(4!==t.type||n?t.value:aA)}function a$(t,e,n){let r=4;const i=t.attrs||[],o=function u$(t){for(let e=0;e<t.length;e++)if(iA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!s$(t,c,n)||""===c&&1===e.length){if($i(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!o$(t.attrs,l,n)){if($i(r))return!1;s=!0}continue}const d=c$(8&r?"class":c,i,cA(t),n);if(-1===d){if($i(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==rA(h,l,0)||2&r&&l!==f){if($i(r))return!1;s=!0}}}}else{if(!s&&!$i(r)&&!$i(c))return!1;if(s&&$i(c))continue;s=!1,r=c|1&r}}return $i(r)||s}function $i(t){return 0==(1&t)}function c$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function d$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function lA(t,e,n=!1){for(let r=0;r<e.length;r++)if(a$(t,e[r],n))return!0;return!1}function f$(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function uA(t,e){return t?":not("+e.trim()+")":e}function h$(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!$i(s)&&(e+=uA(o,i),i=""),r=s,o=o||!$i(r);n++}return""!==i&&(e+=uA(o,i)),e}function On(t){return Ko(()=>{const e=fA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===T0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ji.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""};hA(n);const r=t.dependencies;return n.directiveDefs=D0(r,!1),n.pipeDefs=D0(r,!0),n.id=function C$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function _$(t){return mt(t)||rr(t)}function v$(t){return null!==t}function Pt(t){return Ko(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dA(t,e){if(null==t)return ho;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function He(t){return Ko(()=>{const e=fA(t);return hA(e),e})}function nr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function mt(t){return t[S0]||null}function rr(t){return t[V_]||null}function Dr(t){return t[B_]||null}function ci(t,e){const n=t[tA]||null;if(!n&&!0===e)throw new Error(`Type ${Nn(t)} does not have '\u0275mod' property.`);return n}function fA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ho,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dA(t.inputs,e),outputs:dA(t.outputs)}}function hA(t){t.features?.forEach(e=>e(t))}function D0(t,e){if(!t)return null;const n=e?Dr:_$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(v$)}const fn=0,Se=1,tt=2,tn=3,Gi=4,Pd=5,yr=6,Qc=7,En=8,Ns=9,Xc=10,Qe=11,Md=12,pA=13,Jc=14,Cn=15,Rd=16,Zc=17,po=18,kd=19,gA=20,Os=21,Qo=22,Nd=23,Od=24,lt=25,z_=1,mA=2,go=7,el=9,ir=11;function Kr(t){return Array.isArray(t)&&"object"==typeof t[z_]}function Pr(t){return Array.isArray(t)&&!0===t[z_]}function U_(t){return 0!=(4&t.flags)}function Fa(t){return t.componentOffset>-1}function M0(t){return 1==(1&t.flags)}function qi(t){return!!t.template}function j_(t){return 0!=(512&t[tt])}function La(t,e){return t.hasOwnProperty(Yo)?t[Yo]:null}let or=null,R0=!1;function Ti(t){const e=or;return or=t,e}const yA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function CA(t){if(!Ld(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function IA(t){t.dirty=!0,function xA(t){if(void 0===t.liveConsumerNode)return;const e=R0;R0=!0;try{for(const n of t.liveConsumerNode)n.dirty||IA(n)}finally{R0=e}}(t),t.consumerMarkedDirty?.(t)}function G_(t){return t&&(t.nextProducerIndex=0),Ti(t)}function q_(t,e){if(Ti(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ld(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)k0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bA(t){tl(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(CA(n),r!==n.version))return!0}return!1}function wA(t){if(tl(t),Ld(t))for(let e=0;e<t.producerNode.length;e++)k0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function k0(t,e){if(function TA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),tl(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)k0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tl(i),i.producerIndexOfThis[r]=e}}function Ld(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let SA=null;function MA(t){const e=Ti(null);try{return t()}finally{Ti(e)}}const RA=()=>{},N$=(()=>({...yA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:RA}))();class O${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mr(){return kA}function kA(t){return t.type.prototype.ngOnChanges&&(t.setInput=L$),F$}function F$(){const t=OA(this),e=t?.current;if(e){const n=t.previous;if(n===ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function L$(t,e,n,r){const i=this.declaredInputs[n],o=OA(t)||function V$(t,e){return t[NA]=e}(t,{previous:ho,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new O$(c&&c.currentValue,e,a===ho),t[r]=e}Mr.ngInherit=!0;const NA="__ngSimpleChanges__";function OA(t){return t[NA]||null}const mo=function(t,e,n){},FA="svg";function $t(t){for(;Array.isArray(t);)t=t[fn];return t}function N0(t,e){return $t(e[t])}function Yr(t,e){return $t(e[t.index])}function VA(t,e){return t.data[e]}function nl(t,e){return t[e]}function li(t,e){const n=e[t];return Kr(n)?n:n[fn]}function Ls(t,e){return null==e?null:t[e]}function BA(t){t[Zc]=0}function $$(t){1024&t[tt]||(t[tt]|=1024,zA(t,1))}function HA(t){1024&t[tt]&&(t[tt]&=-1025,zA(t,-1))}function zA(t,e){let n=t[tn];if(null===n)return;n[Pd]+=e;let r=n;for(n=n[tn];null!==n&&(1===e&&1===r[Pd]||-1===e&&0===r[Pd]);)n[Pd]+=e,r=n,n=n[tn]}const Ge={lFrame:JA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $A(){return Ge.bindingsEnabled}function rl(){return null!==Ge.skipHydrationRootTNode}function te(){return Ge.lFrame.lView}function _t(){return Ge.lFrame.tView}function an(t){return Ge.lFrame.contextLView=t,t[En]}function cn(t){return Ge.lFrame.contextLView=null,t}function sr(){let t=GA();for(;null!==t&&64===t.type;)t=t.parent;return t}function GA(){return Ge.lFrame.currentTNode}function _o(t,e){const n=Ge.lFrame;n.currentTNode=t,n.isParent=e}function X_(){return Ge.lFrame.isParent}function J_(){Ge.lFrame.isParent=!1}function Rr(){const t=Ge.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function il(){return Ge.lFrame.bindingIndex++}function nG(t,e){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Z_(e)}function Z_(t){Ge.lFrame.currentDirectiveIndex=t}function YA(){return Ge.lFrame.currentQueryIndex}function tv(t){Ge.lFrame.currentQueryIndex=t}function iG(t){const e=t[Se];return 2===e.type?e.declTNode:1===e.type?t[yr]:null}function QA(t,e,n){if(n&ft.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ft.Host||(i=iG(o),null===i||(o=o[Jc],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ge.lFrame=XA();return r.currentTNode=e,r.lView=t,!0}function nv(t){const e=XA(),n=t[Se];Ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XA(){const t=Ge.lFrame,e=null===t?null:t.child;return null===e?JA(t):e}function JA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ZA(){const t=Ge.lFrame;return Ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const e5=ZA;function rv(){const t=ZA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kr(){return Ge.lFrame.selectedIndex}function Va(t){Ge.lFrame.selectedIndex=t}function ln(){const t=Ge.lFrame;return VA(t.tView,t.selectedIndex)}function xt(){Ge.lFrame.currentNamespace=FA}let n5=!0;function O0(){return n5}function Vs(t){n5=t}function F0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function L0(t,e,n){r5(t,e,3,n)}function V0(t,e,n,r){(3&t[tt])===n&&r5(t,e,n,r)}function iv(t,e){let n=t[tt];(3&n)===e&&(n&=8191,n+=1,t[tt]=n)}function r5(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Zc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Zc]+=65536),(a<o||-1==o)&&(dG(t,n,e,c),t[Zc]=(4294901760&t[Zc])+c+2),c++}function i5(t,e){mo(4,t,e);const n=Ti(null);try{e.call(t)}finally{Ti(n),mo(5,t,e)}}function dG(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[tt]>>13<t[Zc]>>16&&(3&t[tt])===e&&(t[tt]+=8192,i5(a,o)):i5(a,o)}const ol=-1;class Bd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sv(t){return t!==ol}function Hd(t){return 32767&t}function zd(t,e){let n=function gG(t){return t>>16}(t),r=e;for(;n>0;)r=r[Jc],n--;return r}let av=!0;function B0(t){const e=av;return av=t,e}const o5=255,s5=5;let mG=0;const vo={};function H0(t,e){const n=a5(t,e);if(-1!==n)return n;const r=e[Se];r.firstCreatePass&&(t.injectorIndex=e.length,cv(r.data,t),cv(e,null),cv(r.blueprint,null));const i=z0(t,e),o=t.injectorIndex;if(sv(i)){const s=Hd(i),a=zd(i,e),c=a[Se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function cv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a5(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function z0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=p5(i),null===r)return ol;if(n++,i=i[Jc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ol}function lv(t,e,n){!function _G(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sd)&&(r=n[Sd]),null==r&&(r=n[Sd]=mG++);const i=r&o5;e.data[t+(i>>s5)]|=1<<i}(t,e,n)}function c5(t,e,n){if(n&ft.Optional||void 0!==t)return t;D_()}function l5(t,e,n,r){if(n&ft.Optional&&void 0===r&&(r=null),!(n&(ft.Self|ft.Host))){const i=t[Ns],o=Wr(void 0);try{return i?i.get(e,r,n&ft.Optional):Xw(e,r,n&ft.Optional)}finally{Wr(o)}}return c5(r,0,n)}function u5(t,e,n,r=ft.Default,i){if(null!==t){if(2048&e[tt]&&!(r&ft.Self)){const s=function IG(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[tt]&&!(512&s[tt]);){const a=d5(o,s,n,r|ft.Self,vo);if(a!==vo)return a;let c=o.parent;if(!c){const l=s[gA];if(l){const u=l.get(n,vo,r);if(u!==vo)return u}c=p5(s),s=s[Jc]}o=c}return i}(t,e,n,r,vo);if(s!==vo)return s}const o=d5(t,e,n,r,vo);if(o!==vo)return o}return l5(e,n,r,i)}function d5(t,e,n,r,i){const o=function EG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sd)?t[Sd]:void 0;return"number"==typeof e?e>=0?e&o5:xG:e}(n);if("function"==typeof o){if(!QA(e,t,r))return r&ft.Host?c5(i,0,r):l5(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ft.Optional)return s;D_()}finally{e5()}}else if("number"==typeof o){let s=null,a=a5(t,e),c=ol,l=r&ft.Host?e[Cn][yr]:null;for((-1===a||r&ft.SkipSelf)&&(c=-1===a?z0(t,e):e[a+8],c!==ol&&h5(r,!1)?(s=e[Se],a=Hd(c),e=zd(c,e)):a=-1);-1!==a;){const u=e[Se];if(f5(o,a,u.data)){const d=yG(a,e,n,s,r,l);if(d!==vo)return d}c=e[a+8],c!==ol&&h5(r,e[Se].data[a+8]===l)&&f5(o,a,e)?(s=u,a=Hd(c),e=zd(c,e)):a=-1}}return i}function yG(t,e,n,r,i,o){const s=e[Se],a=s.data[t+8],u=U0(a,s,n,null==r?Fa(a)&&av:r!=s&&0!=(3&a.type),i&ft.Host&&o===a);return null!==u?Ba(e,s,u,a):vo}function U0(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=s[c];if(h&&qi(h)&&h.type===n)return c}return null}function Ba(t,e,n,r){let i=t[n];const o=e.data;if(function fG(t){return t instanceof Bd}(i)){const s=i;s.resolving&&function Uj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ie(-200,`Circular dependency in DI detected for ${t}${n}`)}(function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(o[n]));const a=B0(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Wr(s.injectImpl):null;QA(t,r,ft.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uG(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=kA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Wr(l),B0(a),s.resolving=!1,e5()}}return i}function f5(t,e,n){return!!(n[e+(t>>s5)]&1<<t)}function h5(t,e){return!(t&ft.Self||t&ft.Host&&e)}class Nr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return u5(this._tNode,this._lView,e,A0(r),n)}}function xG(){return new Nr(sr(),te())}function ar(t){return Ko(()=>{const e=t.prototype.constructor,n=e[Yo]||uv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Yo]||uv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uv(t){return T_(t)?()=>{const e=uv(We(t));return e&&e()}:La(t)}function p5(t){const e=t[Se],n=e.type;return 2===n?e.declTNode:1===n?t[yr]:null}const al="__parameters__";function ll(t,e,n){return Ko(()=>{const r=function dv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(al)?c[al]:Object.defineProperty(c,al,{value:[]})[al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function dl(t,e){t.forEach(n=>Array.isArray(n)?dl(n,e):e(n))}function m5(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $d(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ui(t,e,n){let r=fl(t,e);return r>=0?t[1|r]=n:(r=~r,function PG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fv(t,e){const n=fl(t,e);if(n>=0)return t[1|n]}function fl(t,e){return function _5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Lt=Td(ll("Optional"),8),pv=Td(ll("SkipSelf"),4);function Q0(t){return 128==(128&t.flags)}var Bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bs||{});const XG=/^>|^->|<!--|-->|--!>|<!-$/g,JG=/(<|>)/g,ZG="\u200b$1\u200b";const vv=new Map;let eq=0;const Ev="__ngContext__";function Er(t,e){Kr(e)?(t[Ev]=e[kd],function nq(t){vv.set(t[kd],t)}(e)):t[Ev]=e}let Cv;function xv(t,e){return Cv(t,e)}function Wd(t){const e=t[tn];return Pr(e)?e[tn]:e}function L5(t){return B5(t[Md])}function V5(t){return B5(t[Gi])}function B5(t){for(;null!==t&&!Pr(t);)t=t[Gi];return t}function gl(t,e,n,r,i){if(null!=r){let o,s=!1;Pr(r)?o=r:Kr(r)&&(s=!0,r=r[fn]);const a=$t(r);0===t&&null!==n?null==i?j5(e,n,a):Ha(e,n,a,i||null,!0):1===t&&null!==n?Ha(e,n,a,i||null,!0):2===t?function rg(t,e,n){const r=tg(t,e);r&&function Cq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function bq(t,e,n,r,i){const o=n[go];o!==$t(n)&&gl(e,t,r,o,i);for(let a=ir;a<n.length;a++){const c=n[a];Yd(c[Se],c,t,e,r,o)}}(e,t,o,n,i)}}function Iv(t,e){return t.createComment(function D5(t){return t.replace(XG,e=>e.replace(JG,ZG))}(e))}function Z0(t,e,n){return t.createElement(e,n)}function z5(t,e){const n=t[el],r=n.indexOf(e);HA(e),n.splice(r,1)}function eg(t,e){if(t.length<=ir)return;const n=ir+e,r=t[n];if(r){const i=r[Rd];null!==i&&i!==t&&z5(i,r),e>0&&(t[n-1][Gi]=r[Gi]);const o=$0(t,ir+e);!function hq(t,e){Yd(t,e,e[Qe],2,null,null),e[fn]=null,e[yr]=null}(r[Se],r);const s=o[po];null!==s&&s.detachView(o[Se]),r[tn]=null,r[Gi]=null,r[tt]&=-129}return r}function bv(t,e){if(!(256&e[tt])){const n=e[Qe];e[Nd]&&wA(e[Nd]),e[Od]&&wA(e[Od]),n.destroyNode&&Yd(t,e,n,3,null,null),function mq(t){let e=t[Md];if(!e)return wv(t[Se],t);for(;e;){let n=null;if(Kr(e))n=e[Md];else{const r=e[ir];r&&(n=r)}if(!n){for(;e&&!e[Gi]&&e!==t;)Kr(e)&&wv(e[Se],e),e=e[tn];null===e&&(e=t),Kr(e)&&wv(e[Se],e),n=e&&e[Gi]}e=n}}(e)}}function wv(t,e){if(!(256&e[tt])){e[tt]&=-129,e[tt]|=256,function Eq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Bd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];mo(4,a,c);try{c.call(a)}finally{mo(5,a,c)}}else{mo(4,i,o);try{o.call(i)}finally{mo(5,i,o)}}}}}(t,e),function yq(t,e){const n=t.cleanup,r=e[Qc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Qc]=null);const i=e[Os];if(null!==i){e[Os]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Se].type&&e[Qe].destroy();const n=e[Rd];if(null!==n&&Pr(e[tn])){n!==e[tn]&&z5(n,e);const r=e[po];null!==r&&r.detachView(t)}!function rq(t){vv.delete(t[kd])}(e)}}function Av(t,e,n){return function U5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[fn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===ji.None||o===ji.Emulated)return null}return Yr(r,n)}}(t,e.parent,n)}function Ha(t,e,n,r,i){t.insertBefore(e,n,r,i)}function j5(t,e,n){t.appendChild(e,n)}function $5(t,e,n,r,i){null!==r?Ha(t,e,n,r,i):j5(t,e,n)}function tg(t,e){return t.parentNode(e)}function G5(t,e,n){return W5(t,e,n)}let Tv,ig,Mv,og,W5=function q5(t,e,n){return 40&t.type?Yr(t,n):null};function ng(t,e,n,r){const i=Av(t,r,e),o=e[Qe],a=G5(r.parent||e[yr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)$5(o,i,n[c],a,!1);else $5(o,i,n,a,!1);void 0!==Tv&&Tv(o,r,e,n,i)}function Kd(t,e){if(null!==e){const n=e.type;if(3&n)return Yr(e,t);if(4&n)return Sv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Kd(t,r);{const i=t[e.index];return Pr(i)?Sv(-1,i):$t(i)}}if(32&n)return xv(e,t)()||$t(t[e.index]);{const r=Y5(t,e);return null!==r?Array.isArray(r)?r[0]:Kd(Wd(t[Cn]),r):Kd(t,e.next)}}return null}function Y5(t,e){return null!==e?t[Cn][yr].projection[e.projection]:null}function Sv(t,e){const n=ir+t+1;if(n<e.length){const r=e[n],i=r[Se].firstChild;if(null!==i)return Kd(r,i)}return e[go]}function Dv(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Er($t(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Dv(t,e,n.child,r,i,o,!1),gl(e,t,i,a,o);else if(32&c){const l=xv(n,r);let u;for(;u=l();)gl(e,t,i,u,o);gl(e,t,i,a,o)}else 16&c?X5(t,e,r,n,i,o):gl(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Yd(t,e,n,r,i,o){Dv(n,r,t.firstChild,e,i,o,!1)}function X5(t,e,n,r,i,o){const s=n[Cn],c=s[yr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)gl(e,t,i,c[l],o);else{let l=c;const u=s[tn];Q0(r)&&(l.flags|=128),Dv(t,e,l,u,i,o,!0)}}function J5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Z5(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&H_(t,e,r),null!==i&&J5(t,e,i),null!==o&&function Aq(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function ml(t){return function Pv(){if(void 0===ig&&(ig=null,jt.trustedTypes))try{ig=jt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ig}()?.createHTML(t)||t}function _l(){if(void 0!==Mv)return Mv;if(typeof document<"u")return document;throw new ie(210,!1)}function eT(t){return function Rv(){if(void 0===og&&(og=null,jt.trustedTypes))try{og=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return og}()?.createHTML(t)||t}class za{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ww})`}}class Mq extends za{getTypeName(){return"HTML"}}class Rq extends za{getTypeName(){return"Style"}}class kq extends za{getTypeName(){return"Script"}}class Nq extends za{getTypeName(){return"URL"}}class Oq extends za{getTypeName(){return"ResourceURL"}}function di(t){return t instanceof za?t.changingThisBreaksApplicationSecurity:t}function yo(t,e){const n=function Fq(t){return t instanceof za&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ww})`)}return n===e}class Uq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ml(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class jq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ml(e),n}}const Gq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sg(t){return(t=String(t)).match(Gq)?t:"unsafe:"+t}function Zo(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const iT=Zo("area,br,col,hr,img,wbr"),oT=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sT=Zo("rp,rt"),kv=Qd(iT,Qd(oT,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qd(sT,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qd(sT,oT)),Nv=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aT=Qd(Nv,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qq=Zo("script,style,template");class Wq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!kv.hasOwnProperty(n))return this.sanitizedSomething=!0,!qq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!aT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Nv[a]&&(c=sg(c)),this.buf.push(" ",s,'="',cT(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();kv.hasOwnProperty(n)&&!iT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cT(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Kq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yq=/([^\#-~ |!])/g;function cT(t){return t.replace(/&/g,"&amp;").replace(Kq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Yq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ag;function lT(t,e){let n=null;try{ag=ag||function rT(t){const e=new jq(t);return function $q(){try{return!!(new window.DOMParser).parseFromString(ml(""),"text/html")}catch{return!1}}()?new Uq(e):e}(t);let r=e?String(e):"";n=ag.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ag.getInertBodyElement(r)}while(r!==o);return ml((new Wq).sanitizeChildren(Ov(n)||n))}finally{if(n){const r=Ov(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ov(t){return"content"in t&&function Qq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Di||{});function uT(t){const e=function Xd(){const t=te();return t&&t[Xc].sanitizer}();return e?eT(e.sanitize(Di.HTML,t)||""):yo(t,"HTML")?eT(di(t)):lT(_l(),Ye(t))}const Jd=new we("ENVIRONMENT_INITIALIZER"),pT=new we("INJECTOR",-1),gT=new we("INJECTOR_DEF_TYPES");class Fv{get(e,n=Ad){if(n===Ad){const r=new Error(`NullInjectorError: No provider for ${Nn(e)}!`);throw r.name="NullInjectorError",r}return n}}function nW(...t){return{\u0275providers:mT(0,t),\u0275fromNgModule:!0}}function mT(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return dl(e,s=>{const a=s;cg(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&_T(i,o),n}function _T(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Vv(i,o=>{e(o,r)})}}function cg(t,e,n,r){if(!(t=We(t)))return!1;let i=null,o=I0(t);const s=!o&&mt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=I0(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)cg(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{dl(o.imports,u=>{cg(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&_T(l,e)}if(!a){const l=La(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:gT,useValue:i,multi:!0},i),e({provide:Jd,useValue:()=>ke(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;Vv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Vv(t,e){for(let n of t)S_(n)&&(n=n.\u0275providers),Array.isArray(n)?Vv(n,e):e(n)}const rW=Dt({provide:String,useValue:Dt});function Bv(t){return null!==t&&"object"==typeof t&&rW in t}function Ua(t){return"function"==typeof t}const Hv=new we("Set Injector scope."),lg={},oW={};let zv;function ug(){return void 0===zv&&(zv=new Fv),zv}class Pi{}class vl extends Pi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(e,s=>this.processProvider(s)),this.records.set(pT,yl(void 0,this)),i.has("environment")&&this.records.set(Pi,yl(void 0,this));const o=this.records.get(Hv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gT.multi,Ct,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ks(this),r=Wr(void 0);try{return e()}finally{ks(n),Wr(r)}}get(e,n=Ad,r=ft.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nA))return e[nA](this);r=A0(r);const o=ks(this),s=Wr(void 0);try{if(!(r&ft.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function uW(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}(e)&&x0(e);c=l&&this.injectableDefInScope(l)?yl(Uv(e),lg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ft.Self?ug():this.parent).get(e,n=r&ft.Optional&&n===Ad?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[w0]=a[w0]||[]).unshift(Nn(e)),o)throw a;return function r$(t,e,n,r){const i=t[w0];throw e[Zw]&&i.unshift(e[Zw]),t.message=function i$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Nn(e);if(Array.isArray(e))i=e.map(Nn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Jj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[w0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Wr(s),ks(o)}}resolveInjectorInitializers(){const e=ks(this),n=Wr(void 0);try{const i=this.get(Jd.multi,Ct,ft.Self);for(const o of i)o()}finally{ks(e),Wr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Nn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){let n=Ua(e=We(e))?e:We(e&&e.provide);const r=function aW(t){return Bv(t)?yl(void 0,t.useValue):yl(ET(t),lg)}(e);if(Ua(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yl(void 0,lg,!0),i.factory=()=>L_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===lg&&(n.value=oW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=We(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Uv(t){const e=x0(t),n=null!==e?e.factory:La(t);if(null!==n)return n;if(t instanceof we)throw new ie(204,!1);if(t instanceof Function)return function sW(t){const e=t.length;if(e>0)throw $d(e,"?"),new ie(204,!1);const n=function Kj(t){return t&&(t[b0]||t[Yw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ie(204,!1)}function ET(t,e,n){let r;if(Ua(t)){const i=We(t);return La(i)||Uv(i)}if(Bv(t))r=()=>We(t.useValue);else if(function yT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...L_(t.deps||[]));else if(function vT(t){return!(!t||!t.useExisting)}(t))r=()=>ke(We(t.useExisting));else{const i=We(t&&(t.useClass||t.provide));if(!function cW(t){return!!t.deps}(t))return La(i)||Uv(i);r=()=>new i(...L_(t.deps))}return r}function yl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jv(t,e){for(const n of t)Array.isArray(n)?jv(n,e):n&&S_(n)?jv(n.\u0275providers,e):e(n)}const dg=new we("AppId",{providedIn:"root",factory:()=>dW}),dW="ng",CT=new we("Platform Initializer"),Eo=new we("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xT=new we("CSP nonce",{providedIn:"root",factory:()=>_l().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IT=(t,e,n)=>null;function Xv(t,e,n=!1){return IT(t,e,n)}class CW{}class AT{}class IW{resolveComponentFactory(e){throw function xW(t){const e=Error(`No component factory found for ${Nn(t)}.`);return e.ngComponent=t,e}(e)}}let tf=(()=>{class e{}return e.NULL=new IW,e})();function bW(){return xl(sr(),te())}function xl(t,e){return new Or(Yr(t,e))}let Or=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=bW,e})();function wW(t){return t instanceof Or?t.nativeElement:t}class ST{}let Co=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function AW(){const t=te(),n=li(sr().index,t);return(Kr(n)?n:t)[Qe]}(),e})(),TW=(()=>{var t;class e{}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>null}),e})();class Il{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DT=new Il("16.2.12"),ey={};function kT(t,e=null,n=null,r){const i=NT(t,e,n,r);return i.resolveInjectorInitializers(),i}function NT(t,e=null,n=null,r,i=new Set){const o=[n||Ct,nW(t)];return r=r||("object"==typeof t?void 0:Nn(t)),new vl(o,e||ug(),r||null,i)}let Ln=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return kT({name:""},i,r,"");{const o=r.name??"";return kT({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Ad,t.NULL=new Fv,t.\u0275prov=Ce({token:t,providedIn:"any",factory:()=>ke(pT)}),t.__NG_ELEMENT_ID__=-1,e})();function ny(t){return t.ngOriginalError}class es{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ny(e);for(;n&&ny(n);)n=ny(n);return n||null}}function iy(t){return e=>{setTimeout(t,void 0,e)}}const Mt=class NW extends re{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=iy(o),i&&(i=iy(i)),s&&(s=iy(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Z&&e.add(a),a}};function FT(...t){}class Et{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OW(){const t="function"==typeof jt.requestAnimationFrame;let e=jt[t?"requestAnimationFrame":"setTimeout"],n=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function VW(t){const e=()=>{!function LW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sy(t),t.isCheckStableRunning=!0,oy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function HW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return LT(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),VT(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return LT(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),VT(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,sy(t),oy(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Et.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Et.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FW,FT,FT);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const FW={};function oy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function LT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VT(t){t._nesting--,oy(t)}class BW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const BT=new we("",{providedIn:"root",factory:HT});function HT(){const t=z(Et);let e=!0;return function Bj(...t){const e=wd(t),n=function Rj(t,e){return"number"==typeof b_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?vr(r[0]):_0(n)(tr(r,e)):fo}(new me(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new me(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Et.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Gw()))}function ts(t){return t instanceof Function?t():t}let ay=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function nf(t){for(;t;){t[tt]|=64;const e=Wd(t);if(j_(t)&&!e)return t;t=e}return null}const GT=new we("",{providedIn:"root",factory:()=>!1});let vg=null;function YT(t,e){return t[e]??JT()}function QT(t,e){const n=JT();n.producerNode?.length&&(t[e]=vg,n.lView=t,vg=XT())}const QW={...yA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nf(t.lView)},lView:null};function XT(){return Object.create(QW)}function JT(){return vg??=XT(),vg}const Je={};function U(t){ZT(_t(),te(),kr()+t,!1)}function ZT(t,e,n,r){if(!r)if(3==(3&e[tt])){const o=t.preOrderCheckHooks;null!==o&&L0(e,o,n)}else{const o=t.preOrderHooks;null!==o&&V0(e,o,0,n)}Va(n)}function ne(t,e=ft.Default){const n=te();return null===n?ke(t,e):u5(sr(),n,We(t),e)}function yg(t,e,n,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[fn]=i,d[tt]=140|r,(null!==l||t&&2048&t[tt])&&(d[tt]|=2048),BA(d),d[tn]=d[Jc]=t,d[En]=n,d[Xc]=s||t&&t[Xc],d[Qe]=a||t&&t[Qe],d[Ns]=c||t&&t[Ns]||null,d[yr]=o,d[kd]=function tq(){return eq++}(),d[Qo]=u,d[gA]=l,d[Cn]=2==e.type?t[Cn]:d,d}function Al(t,e,n,r,i){let o=t.data[e];if(null===o)o=function cy(t,e,n,r,i){const o=GA(),s=X_(),c=t.data[e]=function oK(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return rl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function tG(){return Ge.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Vd(){const t=Ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return _o(o,!0),o}function rf(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eS(t,e,n,r,i){const o=YT(e,Nd),s=kr(),a=2&r;try{Va(-1),a&&e.length>lt&&ZT(t,e,lt,!1),mo(a?2:0,i);const l=a?o:null,u=G_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{q_(l,u)}}finally{a&&null===e[Nd]&&QT(e,Nd),Va(s),mo(a?3:1,i)}}function ly(t,e,n){if(U_(e)){const r=Ti(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ti(r)}}}function uy(t,e,n){$A()&&(function fK(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Fa(n)&&function yK(t,e,n){const r=Yr(e,t),i=tS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Eg(t,yg(t,i,null,s,r,e,null,t[Xc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||H0(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Ba(e,t,a,n);Er(l,e),null!==s&&EK(0,a-i,l,c,0,s),qi(c)&&(li(n.index,e)[En]=Ba(e,t,a,n))}}(t,e,n,Yr(n,e)),64==(64&n.flags)&&sS(t,e,n))}function dy(t,e,n=Yr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function tS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fy(t,e,n,r,i,o,s,a,c,l,u){const d=lt+r,f=d+i,h=function ZW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Je);return n}(d,f),p="function"==typeof l?l():l;return h[Se]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let nS=t=>null;function rS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?iS(n,e,i,o):r.hasOwnProperty(i)&&iS(n,e,r[i],o)}return n}function iS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fi(t,e,n,r,i,o,s,a){const c=Yr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(_y(t,n,u,r,i),Fa(e)&&function cK(t,e){const n=li(e,t);16&n[tt]||(n[tt]|=64)}(n,e.index)):3&e.type&&(r=function aK(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function hy(t,e,n,r){if($A()){const i=null===r?null:{"":-1},o=function pK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(lA(e,s.selectors,!1))if(r||(r=[]),qi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),py(t,e,a.length)}else r.unshift(s),py(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&oS(t,e,n,s,i,a),i&&function gK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new ie(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Dd(n.mergedAttrs,n.attrs)}function oS(t,e,n,r,i,o){for(let l=0;l<r.length;l++)lv(H0(n,e),t,r[l].type);!function _K(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=rf(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Dd(n.mergedAttrs,u.hostAttrs),vK(t,n,e,c,u),mK(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function sK(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;c=rS(d.inputs,u,c,f?f.inputs:null),l=rS(d.outputs,u,l,p);const g=null===c||null===s||cA(e)?null:CK(c,u,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function sS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function rG(){return Ge.lFrame.currentDirectiveIndex}();try{Va(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];Z_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&hK(c,l)}}finally{Va(-1),Z_(s)}}function hK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function py(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qi(e)&&(n[""]=t)}}function vK(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=La(i.type)),s=new Bd(o,qi(i),ne);t.blueprint[r]=s,n[r]=s,function uK(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function dK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,rf(t,n,i.hostVars,Je),i)}function xo(t,e,n,r,i,o){const s=Yr(t,e);!function gy(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Ye(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Qe],s,o,t.value,n,r,i)}function EK(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)aS(r,n,s[a++],s[a++],s[a++])}function aS(t,e,n,r,i){const o=Ti(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ti(o)}}function CK(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function cS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function lS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];tv(n[r]),s.contentQueries(2,e[o],o)}}}function Eg(t,e){return t[Md]?t[pA][Gi]=e:t[Md]=e,t[pA]=e,e}function my(t,e,n){tv(0);const r=Ti(null);try{e(t,n)}finally{Ti(r)}}function uS(t){return t[Qc]||(t[Qc]=[])}function dS(t){return t.cleanup||(t.cleanup=[])}function hS(t,e){const n=t[Ns],r=n?n.get(es,null):null;r&&r.handleError(e)}function _y(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];aS(t.data[s],e[s],r,a,i)}}function xK(t,e){const n=li(e,t),r=n[Se];!function IK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[fn];null!==i&&null===n[Qo]&&(n[Qo]=Xv(i,n[Ns])),vy(r,n,n[En])}function vy(t,e,n){nv(e);try{const r=t.viewQuery;null!==r&&my(1,r,n);const i=t.template;null!==i&&eS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lS(t,e),t.staticViewQueries&&my(2,t.viewQuery,n);const o=t.components;null!==o&&function bK(t,e){for(let n=0;n<e.length;n++)xK(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[tt]&=-5,rv()}}let pS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function k$(t,e,n){const r=Object.create(N$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>IA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!bA(r))return;r.hasRun=!0;const s=G_(r);try{r.cleanupFn(),r.cleanupFn=RA,r.fn(i)}finally{q_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function Cg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=A_(i,a):2==o&&(r=A_(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function sf(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push($t(o)),Pr(o)&&gS(o,r);const s=n.type;if(8&s)sf(t,e,n.child,r);else if(32&s){const a=xv(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Y5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Wd(e[Cn]);sf(c[Se],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function gS(t,e){for(let n=ir;n<t.length;n++){const r=t[n],i=r[Se].firstChild;null!==i&&sf(r[Se],r,i,e)}t[go]!==t[fn]&&e.push(t[go])}function xg(t,e,n,r=!0){const i=e[Xc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{mS(t,e,t.template,n)}catch(c){throw r&&hS(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function mS(t,e,n,r){const i=e[tt];if(256!=(256&i)){e[Xc].effectManager?.flush(),nv(e);try{BA(e),function WA(t){return Ge.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&eS(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&L0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&V0(e,l,0,null),iv(e,0)}if(function TK(t){for(let e=L5(t);null!==e;e=V5(e)){if(!e[mA])continue;const n=e[el];for(let r=0;r<n.length;r++){$$(n[r])}}}(e),_S(e,2),null!==t.contentQueries&&lS(t,e),s){const l=t.contentCheckHooks;null!==l&&L0(e,l)}else{const l=t.contentHooks;null!==l&&V0(e,l,1),iv(e,1)}!function JW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=YT(e,Od);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Va(~o);else{const s=o,a=n[++i],c=n[++i];nG(a,s),r.dirty=!1;const l=G_(r);try{c(2,e[s])}finally{q_(r,l)}}}}finally{null===e[Od]&&QT(e,Od),Va(-1)}}(t,e);const a=t.components;null!==a&&yS(e,a,0);const c=t.viewQuery;if(null!==c&&my(2,c,r),s){const l=t.viewCheckHooks;null!==l&&L0(e,l)}else{const l=t.viewHooks;null!==l&&V0(e,l,2),iv(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[tt]&=-73,HA(e)}finally{rv()}}}function _S(t,e){for(let n=L5(t);null!==n;n=V5(n))for(let r=ir;r<n.length;r++)vS(n[r],e)}function SK(t,e,n){vS(li(e,t),n)}function vS(t,e){if(!function U$(t){return 128==(128&t[tt])}(t))return;const n=t[Se],r=t[tt];if(80&r&&0===e||1024&r||2===e)mS(n,t,n.template,t[En]);else if(t[Pd]>0){_S(t,1);const i=n.components;null!==i&&yS(t,i,1)}}function yS(t,e,n){for(let r=0;r<e.length;r++)SK(t,e[r],n)}class af{get rootNodes(){const e=this._lView,n=e[Se];return sf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return 256==(256&this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[tn];if(Pr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(eg(e,r),$0(n,r))}this._attachedToViewContainer=!1}bv(this._lView[Se],this._lView)}onDestroy(e){!function UA(t,e){if(256==(256&t[tt]))throw new ie(911,!1);null===t[Os]&&(t[Os]=[]),t[Os].push(e)}(this._lView,e)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-129}reattach(){this._lView[tt]|=128}detectChanges(){xg(this._lView[Se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gq(t,e){Yd(t,e,e[Qe],2,null,null)}(this._lView[Se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e}}class DK extends af{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;xg(e[Se],e,e[En],!1)}checkNoChanges(){}get context(){return null}}class ES extends tf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mt(e);return new cf(n,this.ngModule)}}function CS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class MK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=A0(r);const i=this.injector.get(e,ey,r);return i!==ey||n===ey?i:this.parentInjector.get(e,n,r)}}class cf extends AT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=CS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return CS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function p$(t){return t.map(h$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Pi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MK(e,o):e,a=s.get(ST,null);if(null===a)throw new ie(407,!1);const d={rendererFactory:a,sanitizer:s.get(TW,null),effectManager:s.get(pS,null),afterRenderEventManager:s.get(ay,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function eK(t,e,n,r){const o=r.get(GT,!1)||n===ji.ShadowDom,s=t.selectRootElement(e,o);return function tK(t){nS(t)}(s),s}(f,r,this.componentDef.encapsulation,s):Z0(f,h,function PK(t){const e=t.toLowerCase();return"svg"===e?FA:"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==p&&(b=Xv(p,s,!0));const W=fy(0,null,null,1,0,null,null,null,null,null,null),X=yg(null,W,null,D,null,null,d,f,s,null,b);let ge,Ne;nv(X);try{const fe=this.componentDef;let St,Un=null;fe.findHostDirectiveDefs?(St=[],Un=new Map,fe.findHostDirectiveDefs(fe,St,Un),St.push(fe)):St=[fe];const Ma=function kK(t,e){const n=t[Se],r=lt;return t[r]=e,Al(n,r,2,"#host",null)}(X,p),cEe=function NK(t,e,n,r,i,o,s){const a=i[Se];!function OK(t,e,n,r){for(const i of t)e.mergedAttrs=Dd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cg(e,e.mergedAttrs,!0),null!==n&&Z5(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=Xv(e,i[Ns]));const l=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=yg(i,tS(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&py(a,t,r.length-1),Eg(i,d),i[t.index]=d}(Ma,p,fe,St,X,d,f);Ne=VA(W,lt),p&&function LK(t,e,n,r){if(r)H_(t,n,["ng-version",DT.full]);else{const{attrs:i,classes:o}=function g$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!$i(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&H_(t,n,i),o&&o.length>0&&J5(t,n,o.join(" "))}}(f,fe,p,r),void 0!==n&&function VK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ne,this.ngContentSelectors,n),ge=function FK(t,e,n,r,i,o){const s=sr(),a=i[Se],c=Yr(s,i);oS(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Er(Ba(i,a,s.directiveStart+u,s),i);sS(a,i,s),c&&Er(c,i);const l=Ba(i,a,s.directiveStart+s.componentOffset,s);if(t[En]=i[En]=l,null!==o)for(const u of o)u(l,e);return ly(a,s,t),l}(cEe,fe,St,Un,X,[BK]),vy(W,X,null)}finally{rv()}return new RK(this.componentType,ge,xl(Ne,X),X,Ne)}}class RK extends CW{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new DK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;_y(o[Se],o,i,e,n),this.previousInputValues.set(e,n),nf(li(this._tNode.index,o))}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function BK(){const t=sr();F0(te()[Se],t)}function Rt(t){let e=function xS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(qi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Ig(t.inputs),s.inputTransforms=Ig(t.inputTransforms),s.declaredInputs=Ig(t.declaredInputs),s.outputs=Ig(t.outputs);const a=i.hostBindings;a&&jK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&zK(t,c),l&&UK(t,l),E0(t.inputs,i.inputs),E0(t.declaredInputs,i.declaredInputs),E0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),E0(s.inputTransforms,i.inputTransforms)),qi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Rt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function HK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Dd(i.hostAttrs,n=Dd(n,i.hostAttrs))}}(r)}function Ig(t){return t===ho?{}:t===Ct?[]:t}function zK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function UK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function jK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function bg(t){return!!yy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function yy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return t[e]=n}function lf(t,e){return t[e]}function Cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ja(t,e,n,r){const i=Cr(t,e,n);return Cr(t,e+1,r)||i}function Wi(t,e,n,r){const i=te();return Cr(i,il(),e)&&(_t(),xo(ln(),i,t,e,n,r)),Wi}function Sl(t,e,n,r){return Cr(t,il(),n)?e+Ye(n)+r:Je}function ze(t,e,n,r,i,o,s,a){const c=te(),l=_t(),u=t+lt,d=l.firstCreatePass?function pY(t,e,n,r,i,o,s,a,c){const l=e.consts,u=Al(e,t,4,s||null,Ls(l,a));hy(e,n,u,Ls(l,c)),F0(e,u);const d=u.tView=fy(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,o,s):l.data[u];_o(d,!1);const f=BS(l,c,d,t);O0()&&ng(l,c,f,d),Er(f,c),Eg(c,c[u]=cS(f,c,f,d)),M0(d)&&uy(l,c,d),null!=s&&dy(c,d,a)}let BS=function HS(t,e,n,r){return Vs(!0),e[Qe].createComment("")};function wy(t){return nl(function eG(){return Ge.lFrame.contextLView}(),lt+t)}function oe(t,e,n){const r=te();return Cr(r,il(),e)&&fi(_t(),ln(),r,t,e,r[Qe],n,!1),oe}function Ay(t,e,n,r,i){const s=i?"class":"style";_y(t,n,e.inputs[s],s,r)}function M(t,e,n,r){const i=te(),o=_t(),s=lt+t,a=i[Qe],c=o.firstCreatePass?function vY(t,e,n,r,i,o){const s=e.consts,c=Al(e,t,2,r,Ls(s,i));return hy(e,n,c,Ls(s,o)),null!==c.attrs&&Cg(c,c.attrs,!1),null!==c.mergedAttrs&&Cg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=zS(o,i,c,a,e,t);i[s]=l;const u=M0(c);return _o(c,!0),Z5(a,l,c),32!=(32&c.flags)&&O0()&&ng(o,i,l,c),0===function q$(){return Ge.lFrame.elementDepthCount}()&&Er(l,i),function W$(){Ge.lFrame.elementDepthCount++}(),u&&(uy(o,i,c),ly(o,c,i)),null!==r&&dy(i,c),M}function P(){let t=sr();X_()?J_():(t=t.parent,_o(t,!1));const e=t;(function Y$(t){return Ge.skipHydrationRootTNode===t})(e)&&function Z$(){Ge.skipHydrationRootTNode=null}(),function K$(){Ge.lFrame.elementDepthCount--}();const n=_t();return n.firstCreatePass&&(F0(n,t),U_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function hG(t){return 0!=(8&t.flags)}(e)&&Ay(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pG(t){return 0!=(16&t.flags)}(e)&&Ay(n,e,te(),e.stylesWithoutHost,!1),P}function Re(t,e,n,r){return M(t,e,n,r),P(),Re}let zS=(t,e,n,r,i,o)=>(Vs(!0),Z0(r,i,function t5(){return Ge.lFrame.currentNamespace}()));function Hs(t,e,n){const r=te(),i=_t(),o=t+lt,s=i.firstCreatePass?function CY(t,e,n,r,i){const o=e.consts,s=Ls(o,r),a=Al(e,t,8,"ng-container",s);return null!==s&&Cg(a,s,!0),hy(e,n,a,Ls(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];_o(s,!0);const a=jS(i,r,s,t);return r[o]=a,O0()&&ng(i,r,a,s),Er(a,r),M0(s)&&(uy(i,r,s),ly(i,s,r)),null!=n&&dy(r,s),Hs}function zs(){let t=sr();const e=_t();return X_()?J_():(t=t.parent,_o(t,!1)),e.firstCreatePass&&(F0(e,t),U_(t)&&e.queries.elementEnd(t)),zs}let jS=(t,e,n,r)=>(Vs(!0),Iv(e[Qe],""));function $a(){return te()}function hf(t){return!!t&&"function"==typeof t.then}function $S(t){return!!t&&"function"==typeof t.subscribe}function ht(t,e,n,r){const i=te(),o=_t(),s=sr();return function qS(t,e,n,r,i,o,s){const a=M0(r),l=t.firstCreatePass&&dS(t),u=e[En],d=uS(e);let f=!0;if(3&r.type||s){const g=Yr(r,e),m=s?s(g):g,D=d.length,b=s?X=>s($t(X[r.index])):r.index;let W=null;if(!s&&a&&(W=function bY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Qc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==W)(W.__ngLastListenerFn__||W).__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,f=!1;else{o=KS(r,e,u,o,!1);const X=n.listen(m,i,o);d.push(o,X),l&&l.push(i,b,D,D+1)}}else o=KS(r,e,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const ge=e[p[m]][p[m+1]].subscribe(o),Ne=d.length;d.push(o,ge),l&&l.push(i,r.index,Ne,-(Ne+1))}}}(o,i,i[Qe],s,t,e,r),ht}function WS(t,e,n,r){try{return mo(6,e,n),!1!==n(r)}catch(i){return hS(t,i),!1}finally{mo(7,e,n)}}function KS(t,e,n,r,i){return function o(s){if(s===Function)return r;nf(t.componentOffset>-1?li(t.index,e):e);let c=WS(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=WS(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function st(t=1){return function oG(t){return(Ge.lFrame.contextLView=function sG(t,e){for(;t>0;)e=e[Jc],t--;return e}(t,Ge.lFrame.contextLView))[En]}(t)}function wY(t,e){let n=null;const r=function l$(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?lA(t,o,!0):f$(r,o))return i}else n=i}return n}function Ty(t,e,n){return Sy(t,"",e,"",n),Ty}function Sy(t,e,n,r,i){const o=te(),s=Sl(o,e,n,r);return s!==Je&&fi(_t(),ln(),o,t,s,o[Qe],i,!1),Sy}function Dg(t,e){return t<<17|e<<2}function Us(t){return t>>17&32767}function Dy(t){return 2|t}function Ga(t){return(131068&t)>>2}function Py(t,e){return-131069&t|e<<2}function My(t){return 1|t}function oD(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Us(o):Ga(o),c=!1;for(;0!==a&&(!1===c||s);){const u=t[a+1];MY(t[a],e)&&(c=!0,t[a+1]=r?My(u):Dy(u)),a=r?Us(u):Ga(u)}c&&(t[n+1]=r?Dy(o):My(o))}function MY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fl(t,e)>=0}function pf(t,e){return function Ki(t,e,n,r){const i=te(),o=_t(),s=function Jo(t){const e=Ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function pD(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[kr()],s=function hD(t,e){return e>=t.expandoStartIndex}(t,n);(function vD(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function HY(t,e,n,r){const i=function ev(t){const e=Ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gf(n=Ry(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ry(i,t,e,n,r),null===o){let c=function zY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ga(r))return t[Us(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Ry(null,t,e,c[1],r),c=gf(c,e.attrs,r),function UY(t,e,n,r){t[Us(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function jY(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gf(r,t[o].hostAttrs,n);return gf(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function DY(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Us(s),c=Ga(s);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||fl(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Us(t[a+1]);t[r+1]=Dg(f,a),0!==f&&(t[f+1]=Py(t[f+1],r)),t[a+1]=function TY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Dg(a,0),0!==a&&(t[a+1]=Py(t[a+1],r)),a=r;else t[r+1]=Dg(c,0),0===a?a=r:t[c+1]=Py(t[c+1],r),c=r;l&&(t[r+1]=Dy(t[r+1])),oD(t,u,r,!0),oD(t,u,r,!1),function PY(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fl(o,e)>=0&&(n[r+1]=My(n[r+1]))}(e,u,t,r,o),s=Dg(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Je&&Cr(i,s,e)&&function mD(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function SY(t){return 1==(1&t)}(l)?_D(c,e,n,i,Ga(l),s):void 0;Pg(u)||(Pg(o)||function AY(t){return 2==(2&t)}(l)&&(o=_D(c,null,n,i,a,s)),function wq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Bs.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bs.Important),t.setStyle(n,r,i,o))}}(r,s,N0(kr(),n),i,o))}(o,o.data[kr()],i,i[Qe],t,i[s+1]=function WY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Nn(di(t)))),t}(e,n),r,s)}(t,e,null,!0),pf}function Ry(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=gf(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ui(t,s,!!n||e[++o]))}return void 0===t?null:t}function _D(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Je&&(f=d?Ct:void 0);let h=d?fv(f,r):u===r?f:void 0;if(l&&!Pg(h)&&(h=fv(c,r)),Pg(h)&&(a=h,s))return a;const p=t[i+1];i=s?Us(p):Ga(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=fv(c,r))}return a}function Pg(t){return void 0!==t}function $(t,e=""){const n=te(),r=_t(),i=t+lt,o=r.firstCreatePass?Al(r,i,1,e,null):r.data[i],s=yD(r,n,o,e,t);n[i]=s,O0()&&ng(r,n,s,o),_o(o,!1)}let yD=(t,e,n,r,i)=>(Vs(!0),function J0(t,e){return t.createText(e)}(e[Qe],r));function qe(t){return qa("",t,""),qe}function qa(t,e,n){const r=te(),i=Sl(r,t,e,n);return i!==Je&&function ns(t,e,n){const r=N0(e,t);!function H5(t,e,n){t.setValue(e,n)}(t[Qe],r,n)}(r,kr(),i),qa}function ky(t,e,n){const r=te();return Cr(r,il(),e)&&fi(_t(),ln(),r,t,e,r[Qe],n,!0),ky}const Wa=void 0;var gQ=["en",[["a","p"],["AM","PM"],Wa],[["AM","PM"],Wa,Wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wa,"{1} 'at' {0}",Wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ll={};function Fr(t){const e=function mQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=BD(e);if(n)return n;const r=e.split("-")[0];if(n=BD(r),n)return n;if("en"===r)return gQ;throw new ie(701,!1)}function BD(t){return t in Ll||(Ll[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),Ll[t]}var Gt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gt||{});const Vl="en-US";let HD=Vl;function Fy(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)Fy(t[o],e,n,r,i);else{const o=_t(),s=te(),a=sr();let c=Ua(t)?t:We(t.provide);const l=ET(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Ua(t)||!t.multi){const h=new Bd(l,i,ne),p=Vy(c,e,i?u:u+f,d);-1===p?(lv(H0(a,s),o,c),Ly(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=Vy(c,e,u+f,d),p=Vy(c,e,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){lv(H0(a,s),o,c);const D=function pX(t,e,n,r,i){const o=new Bd(t,n,ne);return o.multi=[],o.index=e,o.componentProviders=0,d7(o,i,r&&!n),o}(i?hX:fX,n.length,i,r,l);!i&&m&&(n[p].providerFactory=D),Ly(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else Ly(o,t,h>-1?h:p,d7(n[i?p:h],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ly(t,e,n,r){const i=Ua(e),o=function iW(t){return!!t.useClass}(e);if(i||o){const c=(o?We(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function d7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fX(t,e,n,r){return By(this.multi,[])}function hX(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ba(n,n[Se],this.providerFactory.index,r);o=a.slice(0,s),By(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],By(i,o);return o}function By(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function nn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function dX(t,e,n){const r=_t();if(r.firstCreatePass){const i=qi(t);Fy(n,r.data,r.blueprint,i,!0),Fy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ka{}class f7{}class Hy extends Ka{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ES(this);const i=ci(e);this._bootstrapComponents=ts(i.bootstrap),this._r3Injector=NT(e,n,[{provide:Ka,useValue:this},{provide:tf,useValue:this.componentFactoryResolver},...r],Nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zy extends f7{constructor(e){super(),this.moduleType=e}create(e){return new Hy(this.moduleType,e,[])}}class h7 extends Ka{constructor(e){super(),this.componentFactoryResolver=new ES(this),this.instance=null;const n=new vl([...e.providers,{provide:Ka,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],e.parent||ug(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function p7(t,e,n=null){return new h7({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _X=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=mT(0,r.type),o=i.length>0?p7([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(ke(Pi))}),e})();function g7(t){t.getStandaloneInjector=e=>e.get(_X).getOrCreateStandaloneInjector(t)}function Ze(t,e,n,r){return I7(te(),Rr(),t,e,n,r)}function jy(t,e,n,r,i,o,s,a){const c=Rr()+t,l=te(),u=function Mi(t,e,n,r,i,o){const s=ja(t,e,n,r);return ja(t,e+2,i,o)||s}(l,c,n,r,i,o);return Cr(l,c+4,s)||u?Io(l,c+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):lf(l,c+5)}function Cf(t,e){const n=t[e];return n===Je?void 0:n}function I7(t,e,n,r,i,o){const s=e+n;return Cr(t,s,i)?Io(t,s+1,o?r.call(o,i):r(i)):Cf(t,s+1)}function w7(t,e,n,r,i,o,s,a){const c=e+n;return function wg(t,e,n,r,i){const o=ja(t,e,n,r);return Cr(t,e+2,i)||o}(t,c,i,o,s)?Io(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Cf(t,c+3)}function kt(t,e){const n=_t();let r;const i=t+lt;n.firstCreatePass?(r=function kX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=La(r.type)),a=Wr(ne);try{const c=B0(!1),l=o();return B0(c),function _Y(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,te(),i,l),l}finally{Wr(a)}}function Ri(t,e,n){const r=t+lt,i=te(),o=nl(i,r);return xf(i,r)?I7(i,Rr(),e,o.transform,n,o):o.transform(n)}function $n(t,e,n,r,i){const o=t+lt,s=te(),a=nl(s,o);return xf(s,o)?w7(s,Rr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function xf(t,e){return t[Se].data[e].pure}function LX(){return this._results[Symbol.iterator]()}class $y{get changes(){return this._changes||(this._changes=new Mt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$y.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=LX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Si(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function SG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function BX(t,e,n,r=!0){const i=e[Se];if(function _q(t,e,n,r){const i=ir+r,o=n.length;r>0&&(n[i-1][Gi]=e),r<o-ir?(e[Gi]=n[i],m5(n,ir+r,e)):(n.push(e),e[Gi]=null),e[tn]=n;const s=e[Rd];null!==s&&n!==s&&function vq(t,e){const n=t[el];e[Cn]!==e[tn][tn][Cn]&&(t[mA]=!0),null===n?t[el]=[e]:n.push(e)}(s,e);const a=e[po];null!==a&&a.insertView(t),e[tt]|=128}(i,e,t,n),r){const o=Sv(n,t),s=e[Qe],a=tg(s,t[go]);null!==a&&function pq(t,e,n,r,i,o){r[fn]=i,r[yr]=e,Yd(t,r,n,1,i,o)}(i,t[yr],s,e,a,o)}}let rs=(()=>{class e{}return e.__NG_ELEMENT_ID__=UX,e})();const HX=rs,zX=class extends HX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function VX(t,e,n,r){const i=e.tView,a=yg(t,i,n,4096&t[tt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Rd]=t[e.index];const l=t[po];return null!==l&&(a[po]=l.createEmbeddedView(i)),vy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new af(i)}};function UX(){return Og(sr(),te())}function Og(t,e){return 4&t.type?new zX(e,t,xl(t,e)):null}let Qi=(()=>{class e{}return e.__NG_ELEMENT_ID__=KX,e})();function KX(){return N7(sr(),te())}const YX=Qi,R7=class extends YX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const e=z0(this._hostTNode,this._hostLView);if(sv(e)){const n=zd(e,this._hostLView),r=Hd(e);return new Nr(n[Se].data[r+8],n)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=k7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function jd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new cf(mt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const m=(s?l:this.parentInjector).get(Pi,null);m&&(o=m)}mt(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function j$(t){return Pr(t[tn])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[tn],u=new R7(l,l[yr],l[tn]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return BX(a,i,s,!r),e.attachToViewContainerRef(),m5(Gy(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=k7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=eg(this._lContainer,n);r&&($0(Gy(this._lContainer),n),bv(r[Se],r))}detach(e){const n=this._adjustIndex(e,-1),r=eg(this._lContainer,n);return r&&null!=$0(Gy(this._lContainer),n)?new af(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function k7(t){return t[8]}function Gy(t){return t[8]||(t[8]=[])}function N7(t,e){let n;const r=e[t.index];return Pr(r)?n=r:(n=cS(r,e,null,t),e[t.index]=n,Eg(e,n)),O7(n,e,t,r),new R7(n,t,e)}let O7=function F7(t,e,n,r){if(t[go])return;let i;i=8&n.type?$t(r):function QX(t,e){const n=t[Qe],r=n.createComment(""),i=Yr(e,t);return Ha(n,tg(n,i),r,function xq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[go]=i};class qy{constructor(e){this.queryList=e,this.matches=null}clone(){return new qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Wy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==U7(e,n).matches&&this.queries[n].setDirty()}}class L7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Ky{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ky(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Yy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Yy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,ZX(n,o)),this.matchTNodeWithReadOption(e,n,U0(n,e,o,!1,!1))}else r===rs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,U0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Or||i===Qi||i===rs&&4&n.type)this.addMatch(n.index,-2);else{const o=U0(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function ZX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tJ(t,e,n,r){return-1===n?function eJ(t,e){return 11&t.type?xl(t,e):4&t.type?Og(t,e):null}(e,t):-2===n?function nJ(t,e,n){return n===Or?xl(e,t):n===rs?Og(e,t):n===Qi?N7(e,t):void 0}(t,e,r):Ba(t,t[Se],n,e)}function V7(t,e,n,r){const i=e[po].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:tJ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Qy(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=V7(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=ir;d<u.length;d++){const f=u[d];f[Rd]===f[tn]&&Qy(f[Se],f,l,r)}if(null!==u[el]){const d=u[el];for(let f=0;f<d.length;f++){const h=d[f];Qy(h[Se],h,l,r)}}}}}return r}function Jr(t){const e=te(),n=_t(),r=YA();tv(r+1);const i=U7(n,r);if(t.dirty&&function z$(t){return 4==(4&t[tt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Qy(n,e,r,[]):V7(n,e,i,r);t.reset(o,wW),t.notifyOnChanges()}return!0}return!1}function hi(t,e,n){const r=_t();r.firstCreatePass&&(function z7(t,e,n){null===t.queries&&(t.queries=new Ky),t.queries.track(new Yy(e,n))}(r,new L7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function H7(t,e,n){const r=new $y(4==(4&n));(function iK(t,e,n,r){const i=uS(e);i.push(n),t.firstCreatePass&&dS(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[po]&&(e[po]=new Wy),e[po].queries.push(new qy(r))}(r,te(),e)}function Zr(){return function rJ(t,e){return t[po].queries[e].queryList}(te(),YA())}function U7(t,e){return t.queries.getByIndex(e)}const oP=new we("Application Initializer");let n4=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=z(oP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(hf(s))r.push(s);else if($S(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),sP=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const is=new we("LocaleId",{providedIn:"root",factory:()=>z(is,ft.Optional|ft.SkipSelf)||function AJ(){return typeof $localize<"u"&&$localize.locale||Vl}()});let Vg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class DJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let PJ=(()=>{var t;class e{compileModuleSync(r){return new zy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=ts(ci(r).declarations).reduce((a,c)=>{const l=mt(c);return l&&a.push(new cf(l)),a},[]);return new DJ(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const uP=new we(""),Hg=new we("");let a4,o4=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a4||(function JJ(t){a4=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(Et),ke(s4),ke(Hg))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})(),s4=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return a4?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),js=null;const dP=new we("AllowMultipleToken"),c4=new we("PlatformDestroyListeners"),fP=new we("appBootstrapListener");function gP(t,e,n=[]){const r=`Platform: ${e}`,i=new we(r);return(o=[])=>{let s=l4();if(!s||s.injector.get(dP,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function tZ(t){if(js&&!js.get(dP,!1))throw new ie(400,!1);(function hP(){!function S$(t){SA=t}(()=>{throw new ie(600,!1)})})(),js=t;const e=t.get(_P);(function pP(t){t.get(CT,null)?.forEach(n=>n())})(t)}(function mP(t=[],e){return Ln.create({name:e,providers:[{provide:Hv,useValue:"platform"},{provide:c4,useValue:new Set([()=>js=null])},...t]})}(a,r))}return function rZ(t){const e=l4();if(!e)throw new ie(401,!1);return e}()}}function l4(){return js?.get(_P)??null}let _P=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function iZ(t="zone.js",e){return"noop"===t?new BW:"zone.js"===t?new Et(e):t}(i?.ngZone,function vP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function mX(t,e,n){return new Hy(t,e,n)}(r.moduleType,this.injector,function IP(t){return[{provide:Et,useFactory:t},{provide:Jd,multi:!0,useFactory:()=>{const e=z(sZ,{optional:!0});return()=>e.initialize()}},{provide:xP,useFactory:oZ},{provide:BT,useFactory:HT}]}(()=>o)),a=s.injector.get(es,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{zg(this._modules,s),c.unsubscribe()})}),function yP(t,e,n){try{const r=n();return hf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(n4);return c.runInitializers(),c.donePromise.then(()=>(function zD(t){Ai(t,"Expected localeId to be defined"),"string"==typeof t&&(HD=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(is,Vl)||Vl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=EP({},i);return function ZJ(t,e,n){const r=new zy(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(wf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new ie(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(c4,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(Ln))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function EP(t,e){return Array.isArray(e)?e.reduce(EP,t):{...t,...e}}let wf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(xP),this.zoneIsStable=z(BT),this.componentTypes=[],this.components=[],this.isStable=z(Vg).hasPendingTasks.pipe(wi(r=>r?je(!1):this.zoneIsStable),qw(),Gw()),this._injector=z(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof AT;if(!this._injector.get(n4).done)throw!o&&function Yc(t){const e=mt(t)||rr(t)||Dr(t);return null!==e&&e.standalone}(r),new ie(405,!1);let a;a=o?r:this._injector.get(tf).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function eZ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ka),u=a.create(Ln.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(uP,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),zg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;zg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(fP,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ie(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xP=new we("",{providedIn:"root",factory:()=>z(es).handleError.bind(void 0)});function oZ(){const t=z(Et),e=z(es);return n=>t.runOutsideAngular(()=>e.handleError(n))}let sZ=(()=>{var t;class e{constructor(){this.zone=z(Et),this.applicationRef=z(wf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Xi=(()=>{class e{}return e.__NG_ELEMENT_ID__=lZ,e})();function lZ(t){return function uZ(t,e,n){if(Fa(t)&&!n){const r=li(t.index,e);return new af(r,r)}return 47&t.type?new af(e[Cn],e):null}(sr(),te(),16==(16&t))}class TP{constructor(){}supports(e){return bg(e)}create(e){return new mZ(e)}}const gZ=(t,e)=>e;class mZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gZ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<DP(r,i,o)?n:r,a=DP(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!bg(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function QK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _Z(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new SP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _Z{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class SP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class PP{constructor(){}supports(e){return e instanceof Map||yy(e)}create(){return new yZ}}class yZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||yy(e)))throw new ie(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new EZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class EZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MP(){return new $g([new TP])}let $g=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||MP()),deps:[[e,new pv,new Lt]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new ie(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:MP}),e})();function RP(){return new Af([new PP])}let Af=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||RP()),deps:[[e,new pv,new Lt]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new ie(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:RP}),e})();const IZ=gP(null,"core",[]);let bZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(wf))},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})();let g4=null;function $s(){return g4}class LZ{}const ti=new we("DocumentToken");let zP=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return z(VZ)},providedIn:"platform"}),e})(),VZ=(()=>{var t;class e extends zP{constructor(){super(),this._doc=z(ti),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $s().getBaseHref(this._doc)}onPopState(r){const i=$s().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=$s().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function UP(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qa(t){return t&&"?"!==t[0]?"?"+t:t}let qg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return z(HZ)},providedIn:"root"}),e})();const BZ=new we("appBaseHref");let HZ=(()=>{var t;class e extends qg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??z(ti).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return UP(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Qa(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Qa(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Qa(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(zP),ke(BZ,8))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),m4=(()=>{var t;class e{constructor(r){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function jZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(jP($P(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Qa(i))}normalize(r){return e.stripTrailingSlash(function UZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$P(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Qa(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Qa(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Qa,t.joinWithSlash=UP,t.stripTrailingSlash=jP,t.\u0275fac=function(r){return new(r||t)(ke(qg))},t.\u0275prov=Ce({token:t,factory:function(){return function zZ(){return new m4(ke(qg))}()},providedIn:"root"}),e})();function $P(t){return t.replace(/\/index.html$/,"")}var Wg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Wg||{}),xn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(xn||{});function ki(t,e){const n=Fr(t),r=n[Gt.NumberSymbols][e];if(typeof r>"u"){if(e===xn.CurrencyDecimal)return n[Gt.NumberSymbols][xn.Decimal];if(e===xn.CurrencyGroup)return n[Gt.NumberSymbols][xn.Group]}return r}const mee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function b4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function ZP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const A4=/\s+/,eM=[];let r1=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=eM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(A4):eM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(A4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(A4).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(ne($g),ne(Af),ne(Or),ne(Co))},t.\u0275dir=He({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class See{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Df=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new See(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),nM(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{nM(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Qi),ne(rs),ne($g))},t.\u0275dir=He({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function nM(t,e){t.context.$implicit=e.item}let Zi=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Dee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){rM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){rM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Qi),ne(rs))},t.\u0275dir=He({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Dee{constructor(){this.$implicit=null,this.ngIf=null}}function rM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Nn(e)}'.`)}function eo(t,e){return new ie(2100,!1)}class Ree{createSubscription(e,n){return MA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){MA(()=>e.unsubscribe())}}class kee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Nee=new kee,Oee=new Ree;let Pf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(hf(r))return Nee;if($S(r))return Oee;throw eo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Xi,16))},t.\u0275pipe=nr({name:"async",type:t,pure:!1,standalone:!0}),e})(),oM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=sM}transform(r,i=sM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(function Kee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Af,16))},t.\u0275pipe=nr({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function sM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let ni=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function D4(t){return!(null==t||""===t||t!=t)}(r))return null;o=o||this._locale;try{return function xee(t,e,n){return function x4(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let l=function bee(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(l=function Iee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){const b=o.match(mee);if(null===b)throw new Error(`${o} is not a valid digit info`);const W=b[1],X=b[3],ge=b[5];null!=W&&(u=b4(W)),null!=X&&(d=b4(X)),null!=ge?f=b4(ge):null!=X&&d>f&&(f=d)}!function wee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?m=h.splice(p,h.length):(m=h,h=[0]);const D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(ki(n,r)),m.length&&(a+=ki(n,i)+m.join("")),g&&(a+=ki(n,xn.Exponential)+"+"+g)}else a=ki(n,xn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function I4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function _4(t,e){return Fr(t)[Gt.NumberFormats][e]}(e,Wg.Decimal),ki(e,xn.MinusSign)),e,xn.Group,xn.Decimal,n)}(function P4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw eo()}}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(is,16))},t.\u0275pipe=nr({name:"number",type:t,pure:!0,standalone:!0}),e})();let Xee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})();const Jee="server";function M4(t){return t===Jee}class cM{}class bte extends LZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N4 extends bte{static makeCurrent(){!function FZ(t){g4||(g4=t)}(new N4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function wte(){return Rf=Rf||document.querySelector("base"),Rf?Rf.getAttribute("href"):null}();return null==n?null:function Ate(t){s1=s1||document.createElement("a"),s1.setAttribute("href",t);const e=s1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Rf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZP(document.cookie,e)}}let s1,Rf=null,Ste=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const O4=new we("EventManagerPlugins");let hM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ie(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(O4),ke(Et))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class pM{constructor(e){this._doc=e}}const F4="ng-app-id";let gM=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=M4(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${F4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(F4),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(F4,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti),ke(dg),ke(xT,8),ke(Eo))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const L4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V4=/%COMP%/g,Rte=new we("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _M(t,e){return e.map(n=>n.replace(V4,t))}let vM=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=M4(c),this.defaultRenderer=new B4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ji.ShadowDom&&(i={...i,encapsulation:ji.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof EM?o.applyToHost(r):o instanceof H4&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ji.Emulated:s=new EM(l,u,i,this.appId,d,a,c,f);break;case ji.ShadowDom:return new Fte(l,u,r,i,a,c,this.nonce,f);default:s=new H4(l,u,i,d,a,c,f)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(hM),ke(gM),ke(dg),ke(Rte),ke(ti),ke(Eo),ke(Et),ke(xT))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class B4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(L4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=L4[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=L4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bs.DashCase|Bs.Important)?e.style.setProperty(n,r,i&Bs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=$s().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function yM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Fte extends B4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=_M(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class H4 extends B4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?_M(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class EM extends H4{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function kte(t){return"_ngcontent-%COMP%".replace(V4,t)}(l),this.hostAttr=function Nte(t){return"_nghost-%COMP%".replace(V4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Lte=(()=>{var t;class e extends pM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const CM=["alt","control","meta","shift"],Vte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Hte=(()=>{var t;class e extends pM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$s().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),CM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Vte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),CM.forEach(a=>{a!==o&&(0,Bte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const IM=[{provide:Eo,useValue:"browser"},{provide:CT,useValue:function zte(){N4.makeCurrent()},multi:!0},{provide:ti,useFactory:function jte(){return function Pq(t){Mv=t}(document),document},deps:[]}],$te=gP(IZ,"browser",IM),Gte=new we(""),bM=[{provide:Hg,useClass:class Tte{addToWindow(e){jt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ie(5103,!1);return o},jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),jt.getAllAngularRootElements=()=>e.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(r=>{const i=jt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$s().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:uP,useClass:o4,deps:[Et,s4,Hg]},{provide:o4,useClass:o4,deps:[Et,s4,Hg]}],wM=[{provide:Hv,useValue:"root"},{provide:es,useFactory:function Ute(){return new es},deps:[]},{provide:O4,useClass:Lte,multi:!0,deps:[ti,Et,Eo]},{provide:O4,useClass:Hte,multi:!0,deps:[ti]},vM,gM,hM,{provide:ST,useExisting:vM},{provide:cM,useClass:Ste,deps:[]},[]];let Br=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:dg,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(Gte,12))},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[...wM,...bM],imports:[Xee,bZ]}),e})(),z4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Wte(){return new z4(ke(ti))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let SM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new(r||t):ke(DM),i},providedIn:"root"}),e})(),DM=(()=>{var t;class e extends SM{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Di.NONE:return i;case Di.HTML:return yo(i,"HTML")?di(i):lT(this._doc,String(i)).toString();case Di.STYLE:return yo(i,"Style")?di(i):i;case Di.SCRIPT:if(yo(i,"Script"))return di(i);throw new ie(5200,!1);case Di.URL:return yo(i,"URL")?di(i):sg(String(i));case Di.RESOURCE_URL:if(yo(i,"ResourceURL"))return di(i);throw new ie(5201,!1);default:throw new ie(5202,!1)}}bypassSecurityTrustHtml(r){return function Lq(t){return new Mq(t)}(r)}bypassSecurityTrustStyle(r){return function Vq(t){return new Rq(t)}(r)}bypassSecurityTrustScript(r){return function Bq(t){return new kq(t)}(r)}bypassSecurityTrustUrl(r){return function Hq(t){return new Nq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function zq(t){return new Oq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Xte(t){return new DM(t.get(ti))}(ke(Ln)),i},providedIn:"root"}),e})();class j4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class MM{constructor(){this._orbit=0,this._ground=0,this._workers=new j4,this._soldiers=new j4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class $4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Jte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let o=new MM,s=i.querySelectorAll(".resourceLine .left > span"),a=[];s.forEach(l=>{let u=l.textContent.split(/\s+/),d=new $4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),o.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];o.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),o.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),o.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),o.name=i.querySelectorAll(".planetName > a")[0].innerHTML,o.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),o.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),o.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class a1{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new j4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var cr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(cr||{});class Zte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class qs{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Wt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Wt||{});class RM{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let ene=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let o,r=new a1,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:o=cr.RESOURCE;break;case 1:o=cr.SURFACE;break;case 2:o=cr.FLEET;break;default:o=cr.UNKNOWN}});let s=new Zte(r,o);if(o!==cr.UNKNOWN){s.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();s.planetScan.owner=c.toLowerCase().indexOf("this planet is unoccupied")<0?new RM(c.split("Owner:")[1].trim(),a.substring(1,a.length-1)):new RM("Uninhabited Planet",""),s.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((o===cr.RESOURCE||o===cr.SURFACE)&&(s.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),s.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),o===cr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new $4;c.name=a.textContent.trim().toLowerCase(),s.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{s.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),o===cr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new $4;l.name=c.textContent.trim().toLowerCase(),s.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];s.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),s.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),s.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{s.planetScan.structures.push(new qs(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),s.planetScan.structures.forEach(c=>{switch(c.name){case Wt.OUTPOST:s.planetScan.resources[0].production+=300,s.planetScan.resources[1].production+=200,s.planetScan.resources[2].production+=100;break;case Wt.METAL_MINE:s.planetScan.resources[0].production+=300*c.quantity;break;case Wt.MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=200*c.quantity;break;case Wt.FARM:s.planetScan.resources[2].production+=300*c.quantity;break;case Wt.SOLAR_GENERATOR:s.planetScan.resources[3].production+=100*c.quantity;break;case Wt.CORE_METAL_MINE:s.planetScan.resources[0].production+=900*c.quantity;break;case Wt.CORE_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=600*c.quantity;break;case Wt.HYDROPONICS_LAB:s.planetScan.resources[2].production+=900*c.quantity;break;case Wt.SOLAR_ARRAY:s.planetScan.resources[3].production+=300*c.quantity;break;case Wt.STRIP_METAL_MINE:s.planetScan.resources[0].production+=9e3*c.quantity;break;case Wt.STRIP_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=6e3*c.quantity;break;case Wt.HYDROPONICS_DOME:s.planetScan.resources[2].production+=9e3*c.quantity;break;case Wt.SOLAR_STATION:s.planetScan.resources[3].production+=3e3*c.quantity}})}return s.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),s}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),tne=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let o=new MM;o.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class kM{constructor(){this._ships=[],this._hostile=!1,this._allied=!1,this._friendly=!1,this._score=0}get id(){return this._id}set id(e){this._id=e}get score(){return this._score}set score(e){this._score=e}get hostile(){return this._hostile}set hostile(e){this._hostile=e}get allied(){return this._allied}set allied(e){this._allied=e}get friendly(){return this._friendly}set friendly(e){this._friendly=e}get ships(){return this._ships}set ships(e){this._ships=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get eta(){return this._eta}set eta(e){this._eta=e}toJSON(){return{eta:this.eta,alliance:this.alliance,owner:this.owner,ships:this.ships,hostile:this.hostile,allied:this.allied,friendly:this.friendly,score:this.score,id:this.id}}}var Ee=function(t){return t.FIGHTER="fighter",t.BOMBER="bomber",t.FRIGATE="frigate",t.DESTROYER="destroyer",t.CRUISER="cruiser",t.BATTLESHIP="battleship",t}(Ee||{}),Xa=function(t){return t[t.FIGHTER=.24]="FIGHTER",t[t.BOMBER=.7200000000000001]="BOMBER",t[t.FRIGATE=2.8800000000000003]="FRIGATE",t[t.DESTROYER=12]="DESTROYER",t[t.CRUISER=25.200000000000003]="CRUISER",t[t.BATTLESHIP=144]="BATTLESHIP",t}(Xa||{});let ine=(()=>{var t;class e{extract(){let r=[];return document.querySelector("#planet-scan-additional")&&document.querySelectorAll("#planet-scan-additional .dgt-fleet").forEach(o=>{let s=new kM;const a=o.attributes.getNamedItem("dgt-fleet-id");if(null!=a&&(s.id=a.value),s.friendly=!!o.querySelector("span.friendly"),s.allied=!!o.querySelector("span.allied"),s.hostile=!!o.querySelector("span.hostile"),s.owner=o.querySelector(".playerName").textContent.toLowerCase().trim(),o.querySelector(".allianceName")&&(s.alliance=o.querySelector(".allianceName").textContent.toLowerCase().trim().replace(/\[/g,"").replace(/]/g,"")),null!=o.querySelector(".ofHidden:first-child > .right")){const l=o.querySelector(".ofHidden:first-child > .right").textContent.trim().match(/\d+/)||[];s.eta=l.length>0?parseInt(l[0]):0}else s.eta=0;let c=o.querySelectorAll("table tr:not(.dgt-empty-fleet-row)");c.length>0&&(c.forEach(l=>{let u=l.querySelector("td:first-child").textContent.trim().toLowerCase(),d=parseInt(l.querySelector("td:last-child").textContent.trim().match(/\d+/)[0]);if(Object.values(Ee).includes(u))switch(s.ships.push(new qs(u,d)),u){case Ee.FIGHTER:s.score+=d*Xa.FIGHTER;break;case Ee.BOMBER:s.score+=d*Xa.BOMBER;break;case Ee.FRIGATE:s.score+=d*Xa.FRIGATE;break;case Ee.DESTROYER:s.score+=d*Xa.DESTROYER;break;case Ee.CRUISER:s.score+=d*Xa.CRUISER;break;case Ee.BATTLESHIP:s.score+=d*Xa.BATTLESHIP}}),s.ships.length>0&&r.push(s))}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var jl;class gi{constructor(){this.planetListExtractor=z(Jte),this.planetScanExtractor=z(ene),this.navigationSystemPlanetsExtractor=z(tne),this.fleetScanExtractor=z(ine),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}fleetScan(){return this.fleetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getCountDownMinutes(){return parseInt(document.querySelector("#countdownField").textContent.trim().split(/:/)[0])}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function kf(t){return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wt(t,e,n){return(e=function sne(t){var e=function one(t,e){if("object"!==kf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===kf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NM(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){NM(o,r,i,s,a,"next",c)}function a(c){NM(o,r,i,s,a,"throw",c)}s(void 0)})}}(jl=gi).\u0275fac=function(e){return new(e||jl)},jl.\u0275prov=Ce({token:jl,factory:jl.\u0275fac,providedIn:"platform"}),Ht([jn(0,Lt())],gi.prototype,"username",null);const OM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},q4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new une;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class une extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(t){return function(t){const e=OM(t);return q4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},l1=function(t){try{return q4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const u1=()=>{try{return LM().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},VM=t=>{var e,n;return null===(n=null===(e=u1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},BM=()=>{var t;return null===(t=u1())||void 0===t?void 0:t.config},HM=t=>{var e;return null===(e=u1())||void 0===e?void 0:e[`_${t}`]};class $l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Nf(){try{return"object"==typeof indexedDB}catch{return!1}}function K4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function zM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class to extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Ine(t,e){return t.replace(bne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new to(i,`${this.serviceName}: ${s} (${i}).`,r)}}const bne=/\{\$([^}]+)}/g;function Of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(jM(o)&&jM(s)){if(!Of(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jM(t){return null!==t&&"object"==typeof t}function Ff(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Tne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Sne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Y4),void 0===i.error&&(i.error=Y4),void 0===i.complete&&(i.complete=Y4);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y4(){}const Dne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Pne=1e3,Mne=2,Rne=144e5,kne=.5;function X4(t,e=Pne,n=Mne){const r=e*Math.pow(n,t),i=Math.round(kne*r*(Math.random()-.5)*2);return Math.min(Rne,r+i)}function pn(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class One{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $l;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Lne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ja?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new One(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const J4=[];var pt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pt||{});const $M={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},Bne=pt.INFO,Hne={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},zne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Hne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Bf{constructor(e){this.name=e,this._logLevel=Bne,this._logHandler=zne,this._userLogHandler=null,J4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$M[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const Une=(t,e)=>e.some(n=>t instanceof n);let GM,qM;const WM=new WeakMap,Z4=new WeakMap,KM=new WeakMap,e6=new WeakMap,t6=new WeakMap;let n6={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Z4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Yne(t){return"function"==typeof t?function Kne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $ne(){return qM||(qM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(r6(this),e),Ks(WM.get(this))}:function(...e){return Ks(t.apply(r6(this),e))}:function(e,...n){const r=t.call(r6(this),e,...n);return KM.set(r,e.sort?e.sort():[e]),Ks(r)}}(t):(t instanceof IDBTransaction&&function qne(t){if(Z4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Z4.set(t,e)}(t),Une(t,function jne(){return GM||(GM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,n6):t)}function Ks(t){if(t instanceof IDBRequest)return function Gne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ks(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&WM.set(n,t)}).catch(()=>{}),t6.set(e,t),e}(t);if(e6.has(t))return e6.get(t);const e=Yne(t);return e!==t&&(e6.set(t,e),t6.set(e,t)),e}const r6=t=>t6.get(t),Xne=["get","getKey","getAll","getAllKeys","count"],Jne=["put","add","delete","clear"],i6=new Map;function YM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(i6.get(e))return i6.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xne.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return i6.set(e,o),o}!function Wne(t){n6=t(n6)}(t=>({...t,get:(e,n,r)=>YM(e,n)||t.get(e,n,r),has:(e,n)=>!!YM(e,n)||t.has(e,n)}));class Zne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function ere(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const o6="@firebase/app",Za=new Bf("@firebase/app"),f1="[DEFAULT]",Are={[o6]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ec=new Map,h1=new Map;function Tre(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(h1.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;h1.set(e,t);for(const n of ec.values())Tre(n,t);return!0}function Ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const as=new Ws("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const Gl="10.5.2";function XM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:f1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw as.create("bad-app-name",{appName:String(i)});if(n||(n=BM()),!n)throw as.create("no-options");const o=ec.get(i);if(o){if(Of(n,o.options)&&Of(r,o.config))return o;throw as.create("duplicate-app",{appName:i})}const s=new Vne(i);for(const c of h1.values())s.addComponent(c);const a=new Dre(n,r,s);return ec.set(i,a),a}function ql(t=f1){const e=ec.get(t);if(!e&&t===f1&&BM())return XM();if(!e)throw as.create("no-app",{appName:t});return e}function JM(){return Array.from(ec.values())}function gn(t,e,n){var r;let i=null!==(r=Are[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Za.warn(a.join(" "))}Oi(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Pre="firebase-heartbeat-database",Mre=1,Hf="firebase-heartbeat-store";let a6=null;function ZM(){return a6||(a6=function Qne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ks(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ks(s.result),c.oldVersion,c.newVersion,Ks(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Pre,Mre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Hf)}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),a6}function c6(){return(c6=_(function*(t){try{return yield(yield ZM()).transaction(Hf).objectStore(Hf).get(tR(t))}catch(e){if(e instanceof to)Za.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});Za.warn(n.message)}}})).apply(this,arguments)}function eR(t,e){return l6.apply(this,arguments)}function l6(){return(l6=_(function*(t,e){try{const r=(yield ZM()).transaction(Hf,"readwrite");yield r.objectStore(Hf).put(e,tR(t)),yield r.done}catch(n){if(n instanceof to)Za.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n?.message});Za.warn(r.message)}}})).apply(this,arguments)}function tR(t){return`${t.name}!${t.options.appId}`}class Ore{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nR(),{heartbeatsToSend:r,unsentEntries:i}=function Fre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=c1(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function nR(){return(new Date).toISOString().substring(0,10)}class Lre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Nf()&&K4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Rre(t){return c6.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rR(t){return c1(JSON.stringify({version:2,heartbeats:t})).length}!function Vre(t){Oi(new mi("platform-logger",e=>new Zne(e),"PRIVATE")),Oi(new mi("heartbeat",e=>new Ore(e),"PRIVATE")),gn(o6,"0.9.22",t),gn(o6,"0.9.22","esm2017"),gn("fire-js","")}(""),gn("firebase","10.5.2","app");class zre extends Z{constructor(e,n){super()}schedule(e,n=0){return this}}const p1={setInterval(t,e,...n){const{delegate:r}=p1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=p1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class iR extends zre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return p1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&p1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,q(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const oR={now:()=>(oR.delegate||Date).now(),delegate:void 0};class zf{constructor(e,n=zf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zf.now=oR.now;class sR extends zf{constructor(e,n=zf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const $re=new class jre extends sR{}(class Ure extends iR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Gre=new sR(iR);function lr(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ue((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ct(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ie}const Ys=new Il("ANGULARFIRE2_VERSION");function g1(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const m1=(t,e)=>{const n=e?[e]:JM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class u6{constructor(){return m1(aR)}}const aR="app-check";function Wl(){}class cR{constructor(e,n=$re){wt(this,"zone",void 0),wt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Wre{constructor(e){wt(this,"zone",void 0),wt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wl,{},Wl,Wl)),n.pipe(lr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uf=(()=>{var t;class e{constructor(r){wt(this,"ngZone",void 0),wt(this,"outsideAngular",void 0),wt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new cR(Zone.current)),this.insideAngular=r.run(()=>new cR(Zone.current,Gre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)(ke(Et))}),wt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Kl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function tc(t){return Kl().ngZone.run(()=>t())}function Yre(t){return function Qre(t){return function(n){return(n=n.lift(new Wre(t.ngZone))).pipe(y0(t.outsideAngular),v0(t.insideAngular))}}(Kl())(t)}const Xre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),tc(()=>t.apply(void 0,r))},Dn=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=tc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wl,{},Wl,Wl))),r[o]=Xre(r[o],n));const i=function Kre(t){return Kl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof me){const o=Kl();return i.pipe(y0(o.outsideAngular),v0(o.insideAngular))}return tc(()=>i)}return i instanceof me?i.pipe(Yre):i instanceof Promise?tc(()=>new Promise((o,s)=>i.then(a=>tc(()=>o(a)),a=>tc(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:tc(()=>i)};class nc{constructor(e){return e}}class jf{constructor(){return JM()}}const d6=new we("angularfire2._apps"),Zre={provide:nc,useFactory:function Jre(t){return t&&1===t.length?t[0]:new nc(ql())},deps:[[new Lt,d6]]},eie={provide:jf,deps:[[new Lt,d6]]};function tie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new nc(r)}}let nie=(()=>{var t;class e{constructor(r){gn("angularfire",Ys.full,"core"),gn("angularfire",Ys.full,"app"),gn("angular",DT.full,r.toString())}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)(ke(Eo))}),wt(e,"\u0275mod",Pt({type:t})),wt(e,"\u0275inj",Tt({providers:[Zre,eie]})),e})();function cs(t,...e){return{ngModule:nie,providers:[{provide:d6,useFactory:tie(t),multi:!0,deps:[Et,Ln,Uf,...e]}]}}const ls=Dn(ql,!0),us=Dn(XM,!0);const rie=function lR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uR=new Ws("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_1=new Bf("@firebase/auth");function v1(t,...e){_1.logLevel<=pt.ERROR&&_1.error(`Auth (${Gl}): ${t}`,...e)}function ri(t,...e){throw f6(t,...e)}function _i(t,...e){return f6(t,...e)}function dR(t,e,n){const r=Object.assign(Object.assign({},rie()),{[e]:n});return new Ws("auth","Firebase",r).create(e,{appName:t.name})}function f6(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uR.create(t,...e)}function ve(t,e,...n){if(!t)throw f6(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw v1(e),new Error(e)}function ds(t,e){t||To(e)}function $f(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function fR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=function vne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}()||function Ene(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function oie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function h6(){return"http:"===fR()||"https:"===fR()}()||W4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function p6(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cie=new Gf(3e4,6e4);function rn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function un(t,e,n,r){return g6.apply(this,arguments)}function g6(){return(g6=_(function*(t,e,n,r,i={}){return pR(t,i,_(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Ff(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),hR.fetch()(gR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function pR(t,e,n){return m6.apply(this,arguments)}function m6(){return(m6=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aie),e);try{const i=new uie(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw qf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw qf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw qf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw qf(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dR(t,u,l);ri(t,u)}}catch(i){if(i instanceof to)throw i;ri(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function fs(t,e,n,r){return _6.apply(this,arguments)}function _6(){return(_6=_(function*(t,e,n,r,i={}){const o=yield un(t,e,n,r,i);return"mfaPendingCredential"in o&&ri(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function gR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?p6(t.config,i):`${t.config.apiScheme}://${i}`}function lie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),cie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}function _R(t){return void 0!==t&&void 0!==t.enterprise}class vR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lie(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function yR(t,e){return y6.apply(this,arguments)}function y6(){return(y6=_(function*(t,e){return un(t,"GET","/v2/recaptchaConfig",rn(t,e))})).apply(this,arguments)}function E6(){return(E6=_(function*(t,e){return un(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function x6(){return(x6=_(function*(t,e){return un(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function I6(){return(I6=_(function*(t,e=!1){const n=pn(t),r=yield n.getIdToken(e),i=y1(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wf(b6(i.auth_time)),issuedAtTime:Wf(b6(i.iat)),expirationTime:Wf(b6(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function b6(t){return 1e3*Number(t)}function y1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return v1("JWT malformed, contained fewer than 3 sections"),null;try{const i=l1(n);return i?JSON.parse(i):(v1("Failed to decode base64 JWT payload"),null)}catch(i){return v1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hs(t,e){return w6.apply(this,arguments)}function w6(){return(w6=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof to&&function _ie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ER{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kf(t){return A6.apply(this,arguments)}function A6(){return A6=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield hs(t,function pie(t,e){return x6.apply(this,arguments)}(n,{idToken:r}));ve(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Cie(t){return t.map(e=>{var{providerId:n}=e,r=mr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Eie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ER(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),A6.apply(this,arguments)}function T6(){return(T6=_(function*(t){const e=pn(t);yield Kf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function S6(){return(S6=_(function*(t,e){const n=yield pR(t,{},_(function*(){const r=Ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=gR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hR.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Yf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function mie(t){const e=y1(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return ve(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function xie(t,e){return S6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Yf;return r&&(ve("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(ve("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(ve("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yf,this.toJSON())}_performRefresh(){return To("not implemented")}}function Qs(t,e){ve("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class rc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=mr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ER(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield hs(n,n.stsTokenManager.getToken(n.auth,e));return ve(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function gie(t){return I6.apply(this,arguments)}(this,e)}reload(){return function yie(t){return T6.apply(this,arguments)}(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Kf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield hs(e,function fie(t,e){return E6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(l=n.createdAt)&&void 0!==l?l:void 0,b=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:W,emailVerified:X,isAnonymous:ge,providerData:Ne,stsTokenManager:fe}=n;ve(W&&fe,e,"internal-error");const St=Yf.fromJSON(this.name,fe);ve("string"==typeof W,e,"internal-error"),Qs(d,e.name),Qs(f,e.name),ve("boolean"==typeof X,e,"internal-error"),ve("boolean"==typeof ge,e,"internal-error"),Qs(h,e.name),Qs(p,e.name),Qs(g,e.name),Qs(m,e.name),Qs(D,e.name),Qs(b,e.name);const Un=new rc({uid:W,auth:e,email:f,emailVerified:X,displayName:d,isAnonymous:ge,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:St,createdAt:D,lastLoginAt:b});return Ne&&Array.isArray(Ne)&&(Un.providerData=Ne.map(Ma=>Object.assign({},Ma))),m&&(Un._redirectEventId=m),Un}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Yf;i.updateFromServerResponse(n);const o=new rc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kf(o),o})()}}const CR=new Map;function ps(t){ds(t instanceof Function,"Expected a class definition");let e=CR.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CR.set(t,e),e)}const xR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function E1(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=E1(this.userKey,i.apiKey,o),this.fullPersistenceKey=E1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?rc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Ql(ps(xR),e,r);const i=(yield Promise.all(n.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||ps(xR);const s=E1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=rc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ql(o,e,r)):new Ql(o,e,r)})()}}function IR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SR(e))return"Blackberry";if(DR(e))return"Webos";if(D6(e))return"Safari";if((e.includes("chrome/")||wR(e))&&!e.includes("edge/"))return"Chrome";if(TR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function bR(t=Gn()){return/firefox\//i.test(t)}function D6(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(t=Gn()){return/crios\//i.test(t)}function AR(t=Gn()){return/iemobile/i.test(t)}function TR(t=Gn()){return/android/i.test(t)}function SR(t=Gn()){return/blackberry/i.test(t)}function DR(t=Gn()){return/webos/i.test(t)}function C1(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PR(t=Gn()){return C1(t)||TR(t)||DR(t)||SR(t)||/windows phone/i.test(t)||AR(t)}function MR(t,e=[]){let n;switch(t){case"Browser":n=IR(Gn());break;case"Worker":n=`${IR(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gl}/${r}`}class Aie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function P6(){return(P6=_(function*(t,e={}){return un(t,"GET","/v2/passwordPolicy",rn(t,e))})).apply(this,arguments)}class Die{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Pie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RR(this),this.idTokenSubscription=new RR(this),this.beforeStateQueue=new Aie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ql.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return ve(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Kf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function sie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?pn(e):null;return r&&ve(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&ve(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(ps(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return _(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const n=yield function Tie(t){return P6.apply(this,arguments)}(e),r=new Die(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&ps(e)||n._popupRedirectResolver;ve(r,n,"argument-error"),n.redirectPersistenceManager=yield Ql.create(n,[ps(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function iie(t,...e){_1.logLevel<=pt.WARN&&_1.warn(`Auth (${Gl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pn(t){return pn(t)}class RR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ane(t,e){const n=new Tne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function M6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Mie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function kR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class NR{constructor(e){this.type="recaptcha-enterprise",this.auth=Pn(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){yR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new vR(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;_R(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&_R(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));M6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function OR(t,e,n){return R6.apply(this,arguments)}function R6(){return(R6=_(function*(t,e,n,r=!1){const i=new NR(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function k6(){return k6=_(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield OR(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield OR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),k6.apply(this,arguments)}function FR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class O6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}function BR(t,e){return L6.apply(this,arguments)}function L6(){return(L6=_(function*(t,e){return un(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Uie(t,e){return B6.apply(this,arguments)}function B6(){return(B6=_(function*(t,e){return fs(t,"POST","/v1/accounts:signInWithPassword",rn(t,e))})).apply(this,arguments)}function G6(){return(G6=_(function*(t,e){return fs(t,"POST","/v1/accounts:signInWithEmailLink",rn(t,e))})).apply(this,arguments)}function q6(){return(q6=_(function*(t,e){return fs(t,"POST","/v1/accounts:signInWithEmailLink",rn(t,e))})).apply(this,arguments)}class Qf extends O6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return _(function*(){switch(n.signInMethod){case"password":return function x1(t,e,n,r){return k6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Uie);case"emailLink":return function Wie(t,e){return G6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:ri(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return BR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Kie(t,e){return q6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:ri(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function gs(t,e){return W6.apply(this,arguments)}function W6(){return(W6=_(function*(t,e){return fs(t,"POST","/v1/accounts:signInWithIdp",rn(t,e))})).apply(this,arguments)}class Xl extends O6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=mr(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Xl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return gs(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gs(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ff(n)}return e}}class Jf{constructor(e){var n,r,i,o,s,a;const c=Lf(Vf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function toe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ve(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function noe(t){const e=Lf(Vf(t)).link,n=e?Lf(Vf(e)).deep_link_id:null,r=Lf(Vf(t)).deep_link_id;return(r?Lf(Vf(r)).link:null)||r||n||e||t}(e);try{return new Jf(n)}catch{return null}}}let HR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Jf.parseLink(r);return ve(i,"argument-error"),Qf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zR extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let roe=(()=>{class t extends zR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Xl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const o=yield rc._fromIdTokenResponse(e,r,i),s=jR(r);return new Fi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=jR(r);return new Fi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function jR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class w1 extends to{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,w1.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new w1(e,n,r,i)}}function $R(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?w1._fromErrorAndOperation(t,o,e,r):o})}function r3(){return(r3=_(function*(t,e,n=!1){const r=yield hs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Fi._forOperation(t,"link",r)})).apply(this,arguments)}function o3(){return(o3=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield hs(t,$R(r,i,e,t),n);ve(o.idToken,r,"internal-error");const s=y1(o.idToken);ve(s,r,"internal-error");const{sub:a}=s;return ve(t.uid===a,r,"user-mismatch"),Fi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&ri(r,"user-mismatch"),o}})).apply(this,arguments)}function WR(t,e){return s3.apply(this,arguments)}function s3(){return(s3=_(function*(t,e,n=!1){const r="signIn",i=yield $R(t,r,e),o=yield Fi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function c3(){return(c3=_(function*(t,e){return WR(Pn(t),e)})).apply(this,arguments)}function _3(){return(_3=_(function*(t){const e=Pn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function uoe(t,e,n){return function a3(t,e){return c3.apply(this,arguments)}(pn(t),HR.credential(e,n)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function m3(t){return _3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const S1="__sak";class YR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(S1,"1"),this.storage.removeItem(S1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Soe=(()=>{class t extends YR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function woe(){const t=Gn();return D6(t)||C1(t)}()&&function wie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function bie(){return function Cne(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return _(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),QR=(()=>{class t extends YR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Poe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function Doe(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function D1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Moe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=D1("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Mn(){return window}function B3(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function H3(){return(H3=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const XR="firebaseLocalStorageDb",P1="firebaseLocalStorage",JR="fbase_key";class eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function M1(t,e){return t.transaction([P1],e?"readwrite":"readonly").objectStore(P1)}function z3(){const t=indexedDB.open(XR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(P1,{keyPath:JR})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(P1)?e(r):(r.close(),yield function Loe(){const t=indexedDB.deleteDatabase(XR);return new eh(t).toPromise()}(),e(yield z3()))}))})}function ZR(t,e,n){return U3.apply(this,arguments)}function U3(){return(U3=_(function*(t,e,n){const r=M1(t,!0).put({[JR]:e,value:n});return new eh(r).toPromise()})).apply(this,arguments)}function j3(){return(j3=_(function*(t,e){const n=M1(t,!1).get(e),r=yield new eh(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function e9(t,e){const n=M1(t,!0).delete(e);return new eh(n).toPromise()}const zoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield z3()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return B3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=Poe._getInstance(function Ooe(){return B3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function koe(){return H3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Moe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function Noe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield z3();return yield ZR(n,S1,"1"),yield e9(n,S1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(o=>ZR(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(o=>function Voe(t,e){return j3.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>e9(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(s=>{const a=M1(s,!1).getAll();return new eh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function oc(t,e){return e?ps(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}kR("rcb"),new Gf(3e4,6e4);class J3 extends O6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rse(t){return WR(t.auth,new J3(t),t.bypassAuthState)}function ise(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),function qR(t,e){return o3.apply(this,arguments)}(n,new J3(t),t.bypassAuthState)}function ose(t){return Z3.apply(this,arguments)}function Z3(){return(Z3=_(function*(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),function n3(t,e){return r3.apply(this,arguments)}(n,new J3(t),t.bypassAuthState)})).apply(this,arguments)}class n9{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rse;case"linkViaPopup":case"linkViaRedirect":return ose;case"reauthViaPopup":case"reauthViaRedirect":return ise;default:ri(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sse=new Gf(2e3,1e4);function ase(t,e,n){return eE.apply(this,arguments)}function eE(){return(eE=_(function*(t,e,n){const r=Pn(t);!function Yl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&ri(t,"argument-error"),dR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Xs);const i=oc(r,n);return new rE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let rE=(()=>{class t extends n9{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return _(function*(){const r=yield n.execute();return ve(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return _(function*(){ds(1===n.filter.length,"Popup operations only handle one event");const r=D1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(_i(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,sse.get())};n()}}return t.currentPopupAction=null,t})();const cse="pendingRedirect",th=new Map;class lse extends n9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=th.get(n.auth._key());if(!r){try{const o=(yield function use(t,e){return iE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}th.set(n.auth._key(),r)}return n.bypassAuthState||th.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function iE(){return(iE=_(function*(t,e){const n=function i9(t){return E1(cse,t.config.apiKey,t.name)}(e),r=function r9(t){return ps(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function dse(t,e){th.set(t._key(),e)}function o9(t,e){return dE.apply(this,arguments)}function dE(){return(dE=_(function*(t,e,n=!1){const r=Pn(t),i=oc(r,e),s=yield new lse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class mse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _se(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c9(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c9(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(a9(e))}saveEventToCache(e){this.cachedEventUids.add(a9(e)),this.lastProcessedEventTime=Date.now()}}function a9(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c9({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function hE(){return(hE=_(function*(t,e={}){return un(t,"GET","/v1/projects",e)})).apply(this,arguments)}const yse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ese=/^https?/;function pE(){return pE=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function vse(t){return hE.apply(this,arguments)}(t);for(const n of e)try{if(xse(n))return}catch{}ri(t,"unauthorized-domain")}),pE.apply(this,arguments)}function xse(t){const e=$f(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Ese.test(n))return!1;if(yse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ise=new Gf(3e4,6e4);function l9(){const t=Mn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let k1=null;const Ase=new Gf(5e3,15e3),Tse="__/auth/iframe",Sse="emulator/auth/iframe",Dse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mse(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p6(e,Sse):`https://${t.config.authDomain}/${Tse}`,r={apiKey:e.apiKey,appName:t.name,v:Gl},i=Pse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ff(r).slice(1)}`}function gE(){return gE=_(function*(t){const e=yield function wse(t){return k1=k1||function bse(t){return new Promise((e,n)=>{var r,i,o;function s(){l9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l9(),n(_i(t,"network-request-failed"))},timeout:Ise.get()})}if(null!==(i=null===(r=Mn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Mn().gapi)||void 0===o||!o.load){const a=kR("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(_i(t,"network-request-failed"))},M6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw k1=null,e})}(t),k1}(t),n=Mn().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:Mse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dse,dontclear:!0},r=>new Promise(function(){var i=_(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=_i(t,"network-request-failed"),c=Mn().setTimeout(()=>{s(a)},Ase.get());function l(){Mn().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),gE.apply(this,arguments)}const kse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class u9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hse="__/auth/handler",zse="emulator/auth/handler",Use=encodeURIComponent("fac");function d9(t,e,n,r,i,o){return mE.apply(this,arguments)}function mE(){return(mE=_(function*(t,e,n,r,i,o){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gl,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function wne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof zR){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Use}=${encodeURIComponent(c)}`:"";return`${function jse({config:t}){return t.emulator?p6(t,zse):`https://${t.authDomain}/${Hse}`}(t)}?${Ff(a).slice(1)}${l}`})).apply(this,arguments)}const _E="webStorageSupport",Gse=class $se{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QR,this._completeRedirectFn=o9,this._overrideRedirectResult=dse}_openPopup(e,n,r,i){var o=this;return _(function*(){var s;ds(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield d9(e,n,r,$f(),i);return function Vse(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},kse),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Gn().toLowerCase();n&&(a=wR(l)?"_blank":n),bR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Iie(t=Gn()){var e;return C1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Bse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new u9(null);const d=window.open(e||"",a,u);ve(d,t,"popup-blocked");try{d.focus()}catch{}return new u9(d)}(e,a,D1())})()}_openRedirect(e,n,r,i){var o=this;return _(function*(){return yield o._originValidation(e),function Roe(t){Mn().location.href=t}(yield d9(e,n,r,$f(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ds(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function Rse(t){return gE.apply(this,arguments)}(e),i=new mse(e);return r.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_E,{type:_E},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[_E];void 0!==s&&n(!!s),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Cse(t){return pE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PR()||D6()||C1()}};var p9="@firebase/auth";class qse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qse=HM("authIdTokenMaxAge")||300;let m9=null;const Xse=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Qse)return;const o=r?.token;m9!==o&&(m9=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Jse(t=ql()){const e=Ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Fie(t,e){const n=Ao(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Of(n.getOptions(),e??{}))return i;ri(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Gse,persistence:[zoe,Soe,QR]}),r=HM("authTokenSyncURL");if(r){const o=Xse(r);(function yoe(t,e,n){pn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function voe(t,e,n,r){pn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=VM("auth");return i&&function Vie(t,e,n){const r=Pn(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=FR(e),{host:s,port:a}=function Bie(t){const e=FR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:LR(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:LR(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Hie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Zse(t){return new me(function(e){var n=function Eoe(t,e,n,r){return pn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Kse(t){Oi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},l=new Pie(r,i,o,c);return function Lie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new mi("auth-internal",e=>{const n=Pn(e.getProvider("auth").getImmediate());return new qse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(p9,"1.3.2",function Wse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),gn(p9,"1.3.2","esm2017")}("Browser");class nh{constructor(e){return e}}class v9{constructor(){return m1("auth")}}const yE=new we("angularfire2.auth-instances");function nae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new nh(r)}}const rae={provide:v9,deps:[[new Lt,yE]]},iae={provide:nh,useFactory:function tae(t,e){const n=g1("auth",t,e);return n&&new nh(n)},deps:[[new Lt,yE],nc]};let oae=(()=>{var t;class e{constructor(){gn("angularfire",Ys.full,"auth")}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)}),wt(e,"\u0275mod",Pt({type:t})),wt(e,"\u0275inj",Tt({providers:[iae,rae]})),e})();function Js(t,...e){return{ngModule:oae,providers:[{provide:yE,useFactory:nae(t),multi:!0,deps:[Et,Ln,Uf,jf,[new Lt,u6],...e]}]}}const y9=Dn(Zse,!0),Zs=Dn(Jse,!0),sae=Dn(uoe,!0),aae=Dn(ase,!0);var Ae,cae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},no={},EE=EE||{},Xe=cae||self;function O1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var CE="closure_uid_"+(1e9*Math.random()>>>0),uae=0;function dae(t,e,n){return t.call.apply(t.bind,arguments)}function fae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xr(t,e,n){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dae:fae).apply(null,arguments)}function F1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ea(){this.s=this.s,this.o=this.o}ea.prototype.s=!1,ea.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lae(t){Object.prototype.hasOwnProperty.call(t,CE)&&t[CE]||(t[CE]=++uae)}(this)},ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function C9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(O1(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ir(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var pae=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",()=>{},e),Xe.removeEventListener("test",()=>{},e)}catch{}return t}();function ih(t){return/^[\s\xa0]*$/.test(t)}function L1(){var t=Xe.navigator;return t&&(t=t.userAgent)?t:""}function So(t){return-1!=L1().indexOf(t)}function IE(t){return IE[" "](t),t}IE[" "]=function(){};var wE,t,mae=So("Opera"),Jl=So("Trident")||So("MSIE"),x9=So("Edge"),bE=x9||Jl,I9=So("Gecko")&&!(-1!=L1().toLowerCase().indexOf("webkit")&&!So("Edge"))&&!(So("Trident")||So("MSIE"))&&!So("Edge"),_ae=-1!=L1().toLowerCase().indexOf("webkit")&&!So("Edge");function b9(){var t=Xe.document;return t?t.documentMode:void 0}e:{var AE="",TE=(t=L1(),I9?/rv:([^\);]+)(\)|;)/.exec(t):x9?/Edge\/([\d\.]+)/.exec(t):Jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_ae?/WebKit\/(\S+)/.exec(t):mae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(TE&&(AE=TE?TE[1]:""),Jl){var SE=b9();if(null!=SE&&SE>parseFloat(AE)){wE=String(SE);break e}}wE=AE}var vae=Xe.document&&Jl&&(b9()||parseInt(wE,10))||void 0;function oh(t,e){if(Ir.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(I9){e:{try{IE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oh.$.h.call(this)}}qn(oh,Ir);var yae={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),Eae=0;function Cae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Eae,this.fa=this.ia=!1}function V1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function PE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function A9(t){const e={};for(const n in t)e[n]=t[n];return e}const T9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<T9.length;o++)n=T9[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B1(t){this.src=t,this.g={},this.h=0}function ME(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=E9(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(V1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function RE(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}B1.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=RE(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Cae(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var kE="closure_lm_"+(1e6*Math.random()|0),NE={};function D9(t,e,n,r,i){if(r&&r.once)return M9(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)D9(t,e[o],n,r,i);return null}return n=VE(n),t&&t[sh]?t.O(e,n,rh(r)?!!r.capture:!!r,i):P9(t,e,n,!1,r,i)}function P9(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rh(i)?!!i.capture:!!i,a=FE(t);if(a||(t[kE]=a=new B1(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Iae(){const e=bae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pae||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(k9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function M9(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)M9(t,e[o],n,r,i);return null}return n=VE(n),t&&t[sh]?t.P(e,n,rh(r)?!!r.capture:!!r,i):P9(t,e,n,!0,r,i)}function R9(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)R9(t,e[o],n,r,i);else r=rh(r)?!!r.capture:!!r,n=VE(n),t&&t[sh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=RE(o=t.g[e],n,r,i))&&(V1(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=FE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=RE(e,n,r,i)),(n=-1<t?e[t]:null)&&OE(n))}function OE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[sh])ME(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(k9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=FE(e))?(ME(n,t),0==n.h&&(n.src=null,e[kE]=null)):V1(t)}}}function k9(t){return t in NE?NE[t]:NE[t]="on"+t}function bae(t,e){if(t.fa)t=!0;else{e=new oh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&OE(t),t=n.call(r,e)}return t}function FE(t){return(t=t[kE])instanceof B1?t:null}var LE="__closure_events_fn_"+(1e9*Math.random()>>>0);function VE(t){return"function"==typeof t?t:(t[LE]||(t[LE]=function(e){return t.handleEvent(e)}),t[LE])}function Wn(){ea.call(this),this.i=new B1(this),this.S=this,this.J=null}function ur(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ir(e,t);else if(e instanceof Ir)e.target=e.target||t;else{var i=e;S9(e=new Ir(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=H1(s,r,!0,e)&&i}if(i=H1(s=e.g=t,r,!0,e)&&i,i=H1(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=H1(s=e.g=n[o],r,!1,e)&&i}function H1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&ME(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}qn(Wn,ea),Wn.prototype[sh]=!0,Wn.prototype.removeEventListener=function(t,e,n,r){R9(this,t,e,n,r)},Wn.prototype.N=function(){if(Wn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V1(n[r]);delete t.g[e],t.h--}}this.J=null},Wn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Wn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var BE=Xe.JSON.stringify;function Aae(){var t=HE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N9=new class wae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sae,t=>t.reset());class Sae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Dae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Pae(t){Xe.setTimeout(()=>{throw t},0)}let ah,ch=!1,HE=new class Tae{constructor(){this.h=this.g=null}add(e,n){const r=N9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},O9=()=>{const t=Xe.Promise.resolve(void 0);ah=()=>{t.then(Mae)}};var Mae=()=>{for(var t;t=Aae();){try{t.h.call(t.g)}catch(n){Pae(n)}var e=N9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ch=!1};function z1(t,e){Wn.call(this),this.h=t||1,this.g=e||Xe,this.j=xr(this.qb,this),this.l=Date.now()}function zE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function UE(t,e,n){if("function"==typeof t)n&&(t=xr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function F9(t){t.g=UE(()=>{t.g=null,t.i&&(t.i=!1,F9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}qn(z1,Wn),(Ae=z1.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ur(this,"tick"),this.ga&&(zE(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){z1.$.N.call(this),zE(this),delete this.g};class Rae extends ea{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:F9(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lh(t){ea.call(this),this.h=t,this.g={}}qn(lh,ea);var L9=[];function V9(t,e,n,r){Array.isArray(n)||(n&&(L9[0]=n.toString()),n=L9);for(var i=0;i<n.length;i++){var o=D9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function B9(t){PE(t.g,function(e,n){this.g.hasOwnProperty(n)&&OE(e)},t),t.g={}}function U1(){this.g=!0}function Zl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return BE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}lh.prototype.N=function(){lh.$.N.call(this),B9(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},U1.prototype.Ea=function(){this.g=!1},U1.prototype.info=function(){};var sc={},H9=null;function j1(){return H9=H9||new Wn}function z9(t){Ir.call(this,sc.Ta,t)}function uh(t){const e=j1();ur(e,new z9(e))}function U9(t,e){Ir.call(this,sc.STAT_EVENT,t),this.stat=e}function Hr(t){const e=j1();ur(e,new U9(e,t))}function j9(t,e){Ir.call(this,sc.Ua,t),this.size=e}function dh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}sc.Ta="serverreachability",qn(z9,Ir),sc.STAT_EVENT="statevent",qn(U9,Ir),sc.Ua="timingevent",qn(j9,Ir);var $1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jE(){}function q9(){}jE.prototype.h=null;var qE,fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $E(){Ir.call(this,"d")}function GE(){Ir.call(this,"c")}function G1(){}function hh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new lh(this),this.P=Lae,this.V=new z1(t=bE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new W9}function W9(){this.i=null,this.g="",this.h=!1}qn($E,Ir),qn(GE,Ir),qn(G1,jE),G1.prototype.g=function(){return new XMLHttpRequest},G1.prototype.i=function(){return{}},qE=new G1;var Lae=45e3,WE={},q1={};function KE(t,e,n){t.L=1,t.v=Q1(ms(e)),t.s=n,t.S=!0,K9(t,null)}function K9(t,e){t.G=Date.now(),ph(t),t.A=ms(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ik(n.i,"t",r),t.C=0,n=t.l.J,t.h=new W9,t.g=Sk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Rae(xr(t.Pa,t,t.g),t.O)),V9(t.U,t.g,"readystatechange",t.nb),e=t.I?A9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),uh(),function kae(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Y9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Q9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Vae(t,n),i==q1){4==e&&(t.o=4,Hr(14),r=!1),Zl(t.j,t.m,null,"[Incomplete Response]");break}if(i==WE){t.o=4,Hr(15),Zl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Zl(t.j,t.m,i,null),YE(t,i)}Y9(t)&&i!=q1&&i!=WE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nC(e),e.M=!0,Hr(11))):(Zl(t.j,t.m,n,"[Invalid Chunked Response]"),ac(t),gh(t))}function Vae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?q1:(n=Number(e.substring(n,r)),isNaN(n)?WE:(r+=1)+n>e.length?q1:(e=e.slice(r,r+n),t.C=r+n,e))}function ph(t){t.Y=Date.now()+t.P,X9(t,t.P)}function X9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=dh(xr(t.lb,t),e)}function W1(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function gh(t){0==t.l.H||t.J||bk(t.l,t)}function ac(t){W1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,zE(t.V),B9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function YE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||QE(n.i,t)))if(!t.K&&QE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;nm(n),em(n)}tC(n),Hr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dh(xr(n.ib,n),6e3));if(1>=ak(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lc(n,11)}else if((t.K||n.g==t)&&nm(n),!ih(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(XE(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Qt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Tk(r,r.J?r.pa:null,r.Y),s.K){ck(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(W1(a),ph(a)),r.g=s}else xk(r);0<n.j.length&&tm(n)}else"stop"!=l[0]&&"close"!=l[0]||lc(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?lc(n,7):eC(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}uh()}catch{}}function J9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(O1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Hae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(O1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Bae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(O1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ae=hh.prototype).setTimeout=function(t){this.P=t},Ae.nb=function(t){t=t.target;const e=this.M;e&&3==Do(t)?e.l():this.Pa(t)},Ae.Pa=function(t){try{if(t==this.g)e:{const u=Do(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||bE||this.g&&(this.h.h||this.g.ja()||mk(this.g)))){this.J||4!=u||7==e||uh(),W1(this);var n=this.g.da();this.ca=n;t:if(Y9(this)){var r=mk(this.g);t="";var i=r.length,o=4==Do(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ac(this),gh(this);var s="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Nae(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ih(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Hr(12),ac(this),gh(this);break e}Zl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YE(this,n)}this.S?(Q9(this,u,s),bE&&this.i&&3==u&&(V9(this.U,this.V,"tick",this.mb),this.V.start())):(Zl(this.j,this.m,s,null),YE(this,s)),4==u&&ac(this),this.i&&!this.J&&(4==u?bk(this.l,this):(this.i=!1,ph(this)))}else(function ice(t){const e={};t=(t.g&&2<=Do(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ih(t[r]))continue;var n=Dae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function xae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Hr(12)):(this.o=0,Hr(13)),ac(this),gh(this)}}}catch{}},Ae.mb=function(){if(this.g){var t=Do(this.g),e=this.g.ja();this.C<e.length&&(W1(this),Q9(this,t,e),this.i&&4!=t&&ph(this))}},Ae.cancel=function(){this.J=!0,ac(this)},Ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Oae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(uh(),Hr(17)),ac(this),this.o=2,gh(this)):X9(this,this.Y-t)};var Z9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof cc){this.h=t.h,K1(this,t.j),this.s=t.s,this.g=t.g,Y1(this,t.m),this.l=t.l;var e=t.i,n=new vh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ek(this,n),this.o=t.o}else t&&(e=String(t).match(Z9))?(this.h=!1,K1(this,e[1]||"",!0),this.s=mh(e[2]||""),this.g=mh(e[3]||"",!0),Y1(this,e[4]),this.l=mh(e[5]||"",!0),ek(this,e[6]||"",!0),this.o=mh(e[7]||"")):(this.h=!1,this.i=new vh(null,this.h))}function ms(t){return new cc(t)}function K1(t,e,n){t.j=n?mh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Y1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ek(t,e,n){e instanceof vh?(t.i=e,function Wae(t,e){e&&!t.j&&(ta(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nk(this,r),ik(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=_h(e,Gae)),t.i=new vh(e,t.h))}function Qt(t,e,n){t.i.set(e,n)}function Q1(t){return Qt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _h(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Uae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Uae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}cc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_h(e,tk,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_h(e,tk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(_h(n,"/"==n.charAt(0)?$ae:jae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_h(n,qae)),t.join("")};var tk=/[#\/\?@]/g,jae=/[#\?:]/g,$ae=/[#\?]/g,Gae=/[#\?@]/g,qae=/#/g;function vh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ta(t){t.g||(t.g=new Map,t.h=0,t.i&&function zae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nk(t,e){ta(t),e=eu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rk(t,e){return ta(t),e=eu(t,e),t.g.has(e)}function ik(t,e,n){nk(t,e),0<n.length&&(t.i=null,t.g.set(eu(t,e),xE(n)),t.h+=n.length)}function eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ok(t){this.l=t||Yae,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=vh.prototype).add=function(t,e){ta(this),this.i=null,t=eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(t,e){ta(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ae.ta=function(){ta(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ae.Z=function(t){ta(this);let e=[];if("string"==typeof t)rk(this,t)&&(e=e.concat(this.g.get(eu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ae.set=function(t,e){return ta(this),this.i=null,rk(this,t=eu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ae.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Yae=10;function sk(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ak(t){return t.h?1:t.g?t.g.size:0}function QE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function XE(t,e){t.g?t.g.add(e):t.h=e}function ck(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lk(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xE(t.i)}ok.prototype.cancel=function(){if(this.i=lk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Qae=class{stringify(t){return Xe.JSON.stringify(t,void 0)}parse(t){return Xe.JSON.parse(t,void 0)}};function Xae(){this.g=new Qae}function Jae(t,e,n){const r=n||"";try{J9(t,function(i,o){let s=i;rh(i)&&(s=BE(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yh(t){this.l=t.ec||null,this.j=t.ob||!1}function J1(t,e){Wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=JE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qn(yh,jE),yh.prototype.g=function(){return new J1(this.l,this.j)},yh.prototype.i=function(t){return function(){return t}}({}),qn(J1,Wn);var JE=0;function uk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Eh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ch(t)}function Ch(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ae=J1.prototype).open=function(t,e){if(this.readyState!=JE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ch(this)},Ae.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eh(this)),this.readyState=JE},Ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eh(this):Ch(this),3==this.readyState&&uk(this)}},Ae.Za=function(t){this.g&&(this.response=this.responseText=t,Eh(this))},Ae.Ya=function(t){this.g&&(this.response=t,Eh(this))},Ae.ka=function(){this.g&&Eh(this)},Ae.setRequestHeader=function(t,e){this.v.append(t,e)},Ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(J1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ece=Xe.JSON.parse;function mn(t){Wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dk,this.L=this.M=!1}qn(mn,Wn);var dk="",tce=/^https?$/i,nce=["POST","PUT"];function fk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hk(t),Z1(t)}function hk(t){t.F||(t.F=!0,ur(t,"complete"),ur(t,"error"))}function pk(t){if(t.h&&typeof EE<"u"&&(!t.C[1]||4!=Do(t)||2!=t.da()))if(t.v&&4==Do(t))UE(t.La,0,t);else if(ur(t,"readystatechange"),4==Do(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Z9)[1]||null;!i&&Xe.self&&Xe.self.location&&(i=Xe.self.location.protocol.slice(0,-1)),r=!tce.test(i?i.toLowerCase():"")}n=r}if(n)ur(t,"complete"),ur(t,"success");else{t.m=6;try{var o=2<Do(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",hk(t)}}finally{Z1(t)}}}function Z1(t,e){if(t.g){gk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ur(t,"ready");try{n.onreadystatechange=r}catch{}}}function gk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function Do(t){return t.g?t.g.readyState:0}function mk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _k(t){let e="";return PE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ZE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_k(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qt(t,e,n))}function xh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vk(t){this.Ga=0,this.j=[],this.l=new U1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xh("baseRetryDelayMs",5e3,t),this.hb=xh("retryDelaySeedMs",1e4,t),this.eb=xh("forwardChannelMaxRetries",2,t),this.xa=xh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ok(t&&t.concurrentRequestLimit),this.Ja=new Xae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eC(t){if(yk(t),3==t.H){var e=t.W++,n=ms(t.I);if(Qt(n,"SID",t.K),Qt(n,"RID",e),Qt(n,"TYPE","terminate"),Ih(t,n),(e=new hh(t,t.l,e)).L=2,e.v=Q1(ms(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{n=Xe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=Sk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ph(e)}Ak(t)}function em(t){t.g&&(nC(t),t.g.cancel(),t.g=null)}function yk(t){em(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),nm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function tm(t){if(!sk(t.i)&&!t.m){t.m=!0;var e=t.Na;ah||O9(),ch||(ah(),ch=!0),HE.add(e,t),t.C=0}}function Ek(t,e){var n;n=e?e.m:t.W++;const r=ms(t.I);Qt(r,"SID",t.K),Qt(r,"RID",n),Qt(r,"AID",t.V),Ih(t,r),t.o&&t.s&&ZE(r,t.o,t.s),n=new hh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ck(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),XE(t.i,n),KE(n,r,e)}function Ih(t,e){t.na&&PE(t.na,function(n,r){Qt(e,r,n)}),t.h&&J9({},function(n,r){Qt(e,r,n)})}function Ck(t,e,n){n=Math.min(t.j.length,n);var r=t.h?xr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Jae(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ah||O9(),ch||(ah(),ch=!0),HE.add(e,t),t.A=0}}function tC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=dh(xr(t.Ma,t),wk(t,t.A)),t.A++,0))}function nC(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function Ik(t){t.g=new hh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ms(t.wa);Qt(e,"RID","rpc"),Qt(e,"SID",t.K),Qt(e,"AID",t.V),Qt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qt(e,"TO",t.qa),Qt(e,"TYPE","xmlhttp"),Ih(t,e),t.o&&t.s&&ZE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Q1(ms(e)),n.s=null,n.S=!0,K9(n,t)}function nm(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function bk(t,e){var n=null;if(t.g==e){nm(t),nC(t),t.g=null;var r=2}else{if(!QE(t.i,e))return;n=e.F,ck(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;ur(r=j1(),new j9(r,n)),tm(t)}else xk(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function oce(t,e){return!(ak(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=dh(xr(t.Na,t,e),wk(t,t.C)),t.C++,0)))}(t,e)||2==r&&tC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lc(t,5);break;case 4:lc(t,10);break;case 3:lc(t,6);break;default:lc(t,2)}}function wk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=xr(t.pb,t);n||(n=new cc("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||K1(n,"https"),Q1(n)),function Zae(t,e){const n=new U1;if(Xe.Image){const r=new Image;r.onload=F1(X1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=F1(X1,n,r,"TestLoadImage: error",!1,e),r.onabort=F1(X1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=F1(X1,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hr(2);t.H=0,t.h&&t.h.za(e),Ak(t),yk(t)}function Ak(t){if(t.H=0,t.ma=[],t.h){const e=lk(t.i);(0!=e.length||0!=t.j.length)&&(C9(t.ma,e),C9(t.ma,t.j),t.i.i.length=0,xE(t.j),t.j.length=0),t.h.ya()}}function Tk(t,e,n){var r=n instanceof cc?ms(n):new cc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Y1(r,r.m);else{var i=Xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new cc(null);r&&K1(o,r),e&&(o.g=e),i&&Y1(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Qt(r,n,e),Qt(r,"VER",t.ra),Ih(t,r),r}function Sk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(n&&t.Ha&&!t.va?new yh({ob:!0}):t.va)).Oa(t.J),e}function Dk(){}function rm(){if(Jl&&!(10<=Number(vae)))throw Error("Environmental error: no available transport.")}function vi(t,e){Wn.call(this),this.g=new vk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ih(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ih(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new tu(this)}function Pk(t){$E.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Mk(){GE.call(this),this.status=1}function tu(t){this.g=t}function ro(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Nt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ae=mn.prototype).Oa=function(t){this.M=t},Ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qE.g(),this.C=function G9(t){return t.h||(t.h=t.i())}(this.u?this.u:qE),this.g.onreadystatechange=xr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void fk(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Xe.FormData&&t instanceof Xe.FormData,!(0<=E9(nce,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gk(this),0<this.B&&((this.L=function rce(t){return Jl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.ua,this)):this.A=UE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){fk(this,o)}},Ae.ua=function(){typeof EE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},Ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ur(this,"complete"),ur(this,"abort"),Z1(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Z1(this,!0)),mn.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?pk(this):this.kb())},Ae.kb=function(){pk(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ece(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=vk.prototype).ra=8,Ae.H=1,Ae.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new hh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=A9(o),S9(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ck(this,i,e),Qt(n=ms(this.I),"RID",t),Qt(n,"CVER",22),this.F&&Qt(n,"X-HTTP-Session-Id",this.F),Ih(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_k(o)))+"&"+e:this.o&&ZE(n,this.o,o)),XE(this.i,i),this.bb&&Qt(n,"TYPE","init"),this.P?(Qt(n,"$req",e),Qt(n,"SID","null"),i.aa=!0,KE(i,n,null)):KE(i,n,e),this.H=2}}else 3==this.H&&(t?Ek(this,t):0==this.j.length||sk(this.i)||Ek(this))},Ae.Ma=function(){if(this.u=null,Ik(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dh(xr(this.jb,this),t)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hr(10),em(this),Ik(this))},Ae.ib=function(){null!=this.v&&(this.v=null,em(this),tC(this),Hr(19))},Ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hr(2)):(this.l.info("Failed to ping google.com"),Hr(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=Dk.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},rm.prototype.g=function(t,e){return new vi(t,e)},qn(vi,Wn),vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Tk(t,null,t.Y),tm(t)},vi.prototype.close=function(){eC(this.g)},vi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=BE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&tm(e)},vi.prototype.N=function(){this.g.h=null,delete this.j,eC(this.g),delete this.g,vi.$.N.call(this)},qn(Pk,$E),qn(Mk,GE),qn(tu,Dk),tu.prototype.Ba=function(){ur(this.g,"a")},tu.prototype.Aa=function(t){ur(this.g,new Pk(t))},tu.prototype.za=function(t){ur(this.g,new Mk)},tu.prototype.ya=function(){ur(this.g,"b")},qn(ro,function sce(){this.blockSize=-1}),ro.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ro.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)rC(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){rC(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){rC(this,r),i=0;break}}this.h=i,this.i+=e},ro.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ace={};function iC(t){return-128<=t&&128>t?function gae(t,e){var n=ace;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Nt([0|e],0>e?-1:0)}):new Nt([0|t],0>t?-1:0)}function Po(t){if(isNaN(t)||!isFinite(t))return nu;if(0>t)return dr(Po(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=oC;return new Nt(e,0)}var oC=4294967296,nu=iC(0),sC=iC(1),kk=iC(16777216);function _s(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Li(t){return-1==t.h}function dr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Nt(n,~t.h).add(sC)}function im(t,e){return t.add(dr(e))}function om(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bh(t,e){this.g=t,this.h=e}function sm(t,e){if(_s(e))throw Error("division by zero");if(_s(t))return new bh(nu,nu);if(Li(t))return e=sm(dr(t),e),new bh(dr(e.g),dr(e.h));if(Li(e))return e=sm(t,dr(e)),new bh(dr(e.g),e.h);if(30<t.g.length){if(Li(t)||Li(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sC,r=e;0>=r.X(t);)n=Nk(n),r=Nk(r);var i=ru(n,1),o=ru(r,1);for(r=ru(r,2),n=ru(n,2);!_s(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ru(r,1),n=ru(n,1)}return e=im(t,i.R(e)),new bh(i,e)}for(i=nu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Po(n)).R(e);Li(s)||0<s.X(t);)s=(o=Po(n-=r)).R(e);_s(o)&&(o=sC),i=i.add(o),t=im(t,s)}return new bh(i,t)}function Nk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Nt(n,t.h)}function ru(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Nt(i,t.h)}(Ae=Nt.prototype).ea=function(){if(Li(this))return-dr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:oC+r)*e,e*=oC}return t},Ae.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(_s(this))return"0";if(Li(this))return"-"+dr(this).toString(t);for(var e=Po(Math.pow(t,6)),n=this,r="";;){var i=sm(n,e).g,o=((0<(n=im(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(_s(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ae.X=function(t){return Li(t=im(this,t))?-1:_s(t)?0:1},Ae.abs=function(){return Li(this)?dr(this):this},Ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Nt(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(t){if(_s(this)||_s(t))return nu;if(Li(this))return Li(t)?dr(this).R(dr(t)):dr(dr(this).R(t));if(Li(t))return dr(this.R(dr(t)));if(0>this.X(kk)&&0>t.X(kk))return Po(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,om(n,2*r+2*i),n[2*r+2*i+1]+=o*c,om(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,om(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,om(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Nt(n,0)},Ae.gb=function(t){return sm(this,t).h},Ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Nt(n,this.h&t.h)},Ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Nt(n,this.h|t.h)},Ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Nt(n,this.h^t.h)},rm.prototype.createWebChannel=rm.prototype.g,vi.prototype.send=vi.prototype.u,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,$1.NO_ERROR=0,$1.TIMEOUT=8,$1.HTTP_ERROR=6,$9.COMPLETE="complete",q9.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",Wn.prototype.listen=Wn.prototype.O,mn.prototype.listenOnce=mn.prototype.P,mn.prototype.getLastError=mn.prototype.Sa,mn.prototype.getLastErrorCode=mn.prototype.Ia,mn.prototype.getStatus=mn.prototype.da,mn.prototype.getResponseJson=mn.prototype.Wa,mn.prototype.getResponseText=mn.prototype.ja,mn.prototype.send=mn.prototype.ha,mn.prototype.setWithCredentials=mn.prototype.Oa,ro.prototype.digest=ro.prototype.l,ro.prototype.reset=ro.prototype.reset,ro.prototype.update=ro.prototype.j,Nt.prototype.add=Nt.prototype.add,Nt.prototype.multiply=Nt.prototype.R,Nt.prototype.modulo=Nt.prototype.gb,Nt.prototype.compare=Nt.prototype.X,Nt.prototype.toNumber=Nt.prototype.ea,Nt.prototype.toString=Nt.prototype.toString,Nt.prototype.getBits=Nt.prototype.D,Nt.fromNumber=Po,Nt.fromString=function Rk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return dr(Rk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Po(Math.pow(e,8)),r=nu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Po(Math.pow(e,o)),r=r.R(o).add(Po(s))):r=(r=r.R(n)).add(Po(s))}return r};var cce=no.createWebChannelTransport=function(){return new rm},lce=no.getStatEventTarget=function(){return j1()},aC=no.ErrorCode=$1,uce=no.EventType=$9,dce=no.Event=sc,Ok=no.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fce=no.FetchXmlHttpFactory=yh,am=no.WebChannel=q9,hce=no.XhrIo=mn,pce=no.Md5=ro,iu=no.Integer=Nt;const Fk="@firebase/firestore";class Kn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let ou="10.5.2";const na=new Bf("@firebase/firestore");function su(){return na.logLevel}function se(t,...e){if(na.logLevel<=pt.DEBUG){const n=e.map(cC);na.debug(`Firestore (${ou}): ${t}`,...n)}}function In(t,...e){if(na.logLevel<=pt.ERROR){const n=e.map(cC);na.error(`Firestore (${ou}): ${t}`,...n)}}function yi(t,...e){if(na.logLevel<=pt.WARN){const n=e.map(cC);na.warn(`Firestore (${ou}): ${t}`,...n)}}function cC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Pe(t="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+t;throw In(e),new Error(e)}function Oe(t,e){t||Pe()}function ye(t,e){return t}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends to{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Lk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class mce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _ce{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe("string"==typeof r.accessToken),new Lk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(null===e||"string"==typeof e),new Kn(e)}}class vce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ece{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe("string"==typeof n.token),this.R=n.token,new Vk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Bk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Cce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class dn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new dn(0,0))}static max(){return new Le(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Pe(),void 0===r?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===wh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends wh{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const xce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends wh{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return xce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ae(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ae(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ae(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(vt.fromString(e))}static fromName(e){return new xe(vt.fromString(e).popFirst(5))}static empty(){return new xe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new vt(e.slice()))}}function Uk(t){return new Ei(t.readTime,t.key,-1)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(Le.min(),xe.empty(),-1)}static max(){return new Ei(Le.max(),xe.empty(),-1)}}function uC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=xe.comparator(t.documentKey,e.documentKey),0!==n?n:Ke(t.largestBatchId,e.largestBatchId))}const jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ra(t){return dC.apply(this,arguments)}function dC(){return dC=_(function*(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==jk)throw t;se("LocalStore","Unexpectedly lost primary lease")}),dC.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new N((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function ia(t){return"IndexedDbTransactionError"===t.name}let Ci=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Th(t){return null==t}function Sh(t){return 0===t&&1/t==-1/0}function Jk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Kt{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??fr.RED,this.left=i??fr.EMPTY,this.right=o??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new fr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eN(this.data.getIterator())}getIteratorFrom(e){return new eN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class eN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new ii([])}unionWith(e){let n=new Vt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class tN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tN("Invalid base64 string: "+o):o}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Kce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(Oe(!!t),"string"==typeof t){let e=0;const n=Kce.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vs(t){return"string"==typeof t?Hn.fromBase64String(t):Hn.fromUint8Array(t)}function dm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fm(t){const e=t.mapValue.fields.__previous_value__;return dm(e)?fm(e):e}function Dh(t){const e=sa(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}class Yce{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class hc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dm(t)?4:oN(t)?9007199254740991:10:Pe()}function Ro(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=sa(i.timestampValue),a=sa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,vs(t.bytesValue).isEqual(vs(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _n(i.geoPointValue.latitude)===_n(o.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _n(i.integerValue)===_n(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_n(i.doubleValue),a=_n(o.doubleValue);return s===a?Sh(s)===Sh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Jk(s)!==Jk(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ro(s[c],a[c])))return!1;return!0}(t,e);default:return Pe()}var o}function Ph(t,e){return void 0!==(t.values||[]).find(n=>Ro(n,e))}function la(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_n(o.integerValue||o.doubleValue),c=_n(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return nN(t.timestampValue,e.timestampValue);case 4:return nN(Dh(t),Dh(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(o,s){const a=vs(o),c=vs(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ke(a[l],c[l]);if(0!==u)return u}return Ke(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(_n(o.latitude),_n(s.latitude));return 0!==a?a:Ke(_n(o.longitude),_n(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=la(a[l],c[l]);if(u)return u}return Ke(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===aa.mapValue&&s===aa.mapValue)return 0;if(o===aa.mapValue)return 1;if(s===aa.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=Ke(c[d],u[d]);if(0!==f)return f;const h=la(a[c[d]],l[u[d]]);if(0!==h)return h}return Ke(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function nN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ke(t,e);const n=sa(t),r=sa(e),i=Ke(n.seconds,r.seconds);return 0!==i?i:Ke(n.nanos,r.nanos)}function du(t){return pC(t)}function pC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vs(t.bytesValue).toBase64():"referenceValue"in t?xe.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pC(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${pC(n.fields[s])}`;return i+"}"}(t.mapValue):Pe()}function pc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gC(t){return!!t&&"integerValue"in t}function Mh(t){return!!t&&"arrayValue"in t}function rN(t){return!!t&&"nullValue"in t}function iN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gm(t){return!!t&&"mapValue"in t}function Rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oN(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Rh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new hr(Rh(this.value))}}function cN(t){const e=[];return oa(t.fields,(n,r)=>{const i=new on([n]);if(gm(r)){const o=cN(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ii(e)}class Xt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,Le.min(),Le.min(),Le.min(),hr.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Le.min(),Le.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Le.min(),Le.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ua{constructor(e,n){this.position=e,this.inclusive=n}}function lN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?xe.comparator(xe.fromName(s.referenceValue),n.key):la(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function uN(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ro(t.position[n],e.position[n]))return!1;return!0}class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class dN{}class ut extends dN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Zce(e,n,r):"array-contains"===n?new nle(e,r):"in"===n?new _N(e,r):"not-in"===n?new rle(e,r):"array-contains-any"===n?new ile(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ele(e,r):new tle(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(la(n,this.value)):null!==n&&ca(this.value)===ca(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ot extends dN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ot(e,n)}matches(e){return fu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function fu(t){return"and"===t.op}function _C(t){return function fN(t){for(const e of t.filters)if(e instanceof Ot)return!1;return!0}(t)&&fu(t)}function vC(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+du(t.value);if(_C(t))return t.filters.map(e=>vC(e)).join(",");{const e=t.filters.map(n=>vC(n)).join(",");return`${t.op}(${e})`}}function hN(t,e){return t instanceof ut?(r=t,(i=e)instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Ro(r.value,i.value)):t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&hN(s,i.filters[a]),!0)}(t,e):void Pe();var r,i}function gN(t){return t instanceof ut?`${(n=t).field.canonicalString()} ${n.op} ${du(n.value)}`:t instanceof Ot?function(n){return n.op.toString()+" {"+n.getFilters().map(gN).join(" ,")+"}"}(t):"Filter";var n}class Zce extends ut{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ele extends ut{constructor(e,n){super(e,"in",n),this.keys=mN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tle extends ut{constructor(e,n){super(e,"not-in",n),this.keys=mN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class nle extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mh(n)&&Ph(n.arrayValue,this.value)}}class _N extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ph(this.value.arrayValue,n)}}class rle extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ph(this.value.arrayValue,n)}}class ile extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ph(this.value.arrayValue,r))}}class ole{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function yC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ole(t,e,n,r,i,o,s)}function gc(t){const e=ye(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.ce=n}return e.ce}function Nh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uN(t.startAt,e.startAt)&&uN(t.endAt,e.endAt)}function mm(t){return xe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ys{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function hu(t){return new ys(t)}function CN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function EC(t){return null!==t.collectionGroup}function pu(t){const e=ye(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(on.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new kh(o,r))}),n.has(on.keyField().canonicalString())||e.le.push(new kh(on.keyField(),r))}return e.le}function zr(t){const e=ye(t);return e.he||(e.he=function xN(t,e){if("F"===t.limitType)return yC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new kh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ua(t.startAt.position,t.startAt.inclusive):null;return yC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,pu(t))),e.he}function CC(t,e){const n=t.filters.concat([e]);return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oh(t,e){return Nh(zr(t),zr(e))&&t.limitType===e.limitType}function IN(t){return`${gc(zr(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gN(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>du(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of pu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=lN(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,pu(r),i)||r.endAt&&!function(s,a,c){const l=lN(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,pu(r),i)));var r,i}function wN(t){return(e,n)=>{let r=!1;for(const i of pu(t)){const o=sle(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function sle(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?la(c,l):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}const ale=new Kt(xe.comparator);function oi(){return ale}const AN=new Kt(xe.comparator);function Lh(...t){let e=AN;for(const n of t)e=e.insert(n.key,n);return e}function TN(t){let e=AN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return Vh()}function SN(){return Vh()}function Vh(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const cle=new Kt(xe.comparator),lle=new Vt(xe.comparator);function rt(...t){let e=lle;for(const n of t)e=e.add(n);return e}const ule=new Vt(Ke);function DN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function PN(t){return{integerValue:""+t}}function MN(t,e){return function Gk(t){return"number"==typeof t&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?PN(e):DN(t,e)}class ym{constructor(){this._=void 0}}function dle(t,e,n){return t instanceof mu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dm(o)&&(o=fm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof mc?kN(t,e):t instanceof _c?NN(t,e):function(i,o){const s=RN(i,o),a=ON(s)+ON(i.Ie);return gC(s)&&gC(i.Ie)?PN(a):DN(i.serializer,a)}(t,e)}function fle(t,e,n){return t instanceof mc?kN(t,e):t instanceof _c?NN(t,e):n}function RN(t,e){return t instanceof _u?gC(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class mu extends ym{}class mc extends ym{constructor(e){super(),this.elements=e}}function kN(t,e){const n=FN(e);for(const r of t.elements)n.some(i=>Ro(i,r))||n.push(r);return{arrayValue:{values:n}}}class _c extends ym{constructor(e){super(),this.elements=e}}function NN(t,e){let n=FN(e);for(const r of t.elements)n=n.filter(i=>!Ro(i,r));return{arrayValue:{values:n}}}class _u extends ym{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ON(t){return _n(t.integerValue||t.doubleValue)}function FN(t){return Mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ple{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cm{}function LN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yu(t.key,sn.none()):new vu(t.key,t.data,sn.none());{const n=t.data,r=hr.empty();let i=new Vt(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Cs(t.key,r,new ii(i.toArray()),sn.none())}}function gle(t,e,n){t instanceof vu?function(i,o,s){const a=i.value.clone(),c=HN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cs?function(i,o,s){if(!Em(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=HN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(BN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Hh(t,e,n,r){return t instanceof vu?function(o,s,a,c){if(!Em(o.precondition,s))return a;const l=o.value.clone(),u=zN(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cs?function(o,s,a,c){if(!Em(o.precondition,s))return a;const l=zN(o.fieldTransforms,c,s),u=s.data;return u.setAll(BN(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Em(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function mle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RN(r.transform,i||null);null!=o&&(null===n&&(n=hr.empty()),n.set(r.field,o))}return n||null}function VN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&au(r,i,(o,s)=>function hle(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof mc&&i instanceof mc||r instanceof _c&&i instanceof _c?au(r.elements,i.elements,Ro):r instanceof _u&&i instanceof _u?Ro(r.Ie,i.Ie):r instanceof mu&&i instanceof mu);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class vu extends Cm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends Cm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HN(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fle(s,a,n[i]))}return r}function zN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,dle(o,s,e))}return r}class yu extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gle(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=LN(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,r)=>VN(n,r))&&au(this.baseMutations,e.baseMutations,(n,r)=>VN(n,r))}}class wC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=cle;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wC(e,n,r,i)}}class AC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vle{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rn,yt;function jN(t){if(void 0===t)return In("GRPC error has no .code"),j.UNKNOWN;switch(t){case Rn.OK:return j.OK;case Rn.CANCELLED:return j.CANCELLED;case Rn.UNKNOWN:return j.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return j.INTERNAL;case Rn.UNAVAILABLE:return j.UNAVAILABLE;case Rn.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Rn.NOT_FOUND:return j.NOT_FOUND;case Rn.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Rn.ABORTED:return j.ABORTED;case Rn.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Rn.DATA_LOSS:return j.DATA_LOSS;default:return Pe()}}(yt=Rn||(Rn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";const yle=new iu([4294967295,4294967295],0);function GN(t){const e=function $N(){return new TextEncoder}().encode(t),n=new pce;return n.update(e),new Uint8Array(n.digest())}function qN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new iu([n,r],0),new iu([i,o],0)]}class TC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zh(`Invalid padding: ${n}`);if(r<0)throw new zh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new zh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new zh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=iu.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(iu.fromNumber(r)));return 1===i.compare(yle)&&(i=new iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=GN(e),[r,i]=qN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new TC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=GN(e),[r,i]=qN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class zh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uh(Le.min(),i,new Kt(Ke),oi(),rt())}}class jh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jh(r,n,rt(),rt(),rt())}}class Im{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class WN{constructor(e,n){this.targetId=e,this.fe=n}}class KN{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YN{constructor(){this.ge=0,this.pe=XN(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),n=rt(),r=rt();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new jh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=XN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Ele{constructor(e){this.Le=e,this.ke=new Map,this.qe=oi(),this.Qe=QN(),this.Ke=new Kt(Ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(mm(o))if(0===r){const s=new xe(o.path);this.We(n,s,Xt.newNoDocument(s,Le.min()))}else Oe(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=vs(r).toUint8Array()}catch(c){if(c instanceof tN)return yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new TC(s,i,o)}catch(c){return yi(c instanceof zh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&mm(a.target)){const c=new xe(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Xt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=rt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Uh(e,n,this.Ke,this.qe,r);return this.qe=oi(),this.Qe=QN(),this.Ke=new Kt(Ke),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new YN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vt(Ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new YN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function QN(){return new Kt(xe.comparator)}function XN(){return new Kt(xe.comparator)}const Cle={asc:"ASCENDING",desc:"DESCENDING"},xle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ile={and:"AND",or:"OR"};class ble{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SC(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function Eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wle(t,e){return Eu(t,e.toTimestamp())}function bn(t){return Oe(!!t),Le.fromTimestamp(function(n){const r=sa(n);return new dn(r.seconds,r.nanos)}(t))}function DC(t,e){return(r=t,new vt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function ZN(t){const e=vt.fromString(t);return Oe(cO(e)),e}function $h(t,e){return DC(t.databaseId,e.path)}function No(t,e){const n=ZN(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(tO(n))}function PC(t,e){return DC(t.databaseId,e)}function Gh(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tO(t){return Oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function nO(t,e,n){return{name:$h(t,e),fields:n.value.mapValue.fields}}function iO(t,e){return{documents:[PC(t,e.path)]}}function RC(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=PC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=PC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return aO(Ot.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:da((d=l).field),direction:Ple(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=SC(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function oO(t){let e=function eO(t){const e=ZN(t);return 4===e.length?vt.emptyPath():tO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const f=sO(d);return f instanceof Ot&&_C(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new kh(Cu((p=f).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,Th(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new ua((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new ua(d.values||[],!d.before)}(n.endAt)),function EN(t,e,n,r,i,o,s,a){return new ys(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function sO(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cu(n.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cu(n.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):void 0!==t.fieldFilter?ut.create(Cu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ot.create(n.compositeFilter.filters.map(r=>sO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe();var n}function Ple(t){return Cle[t]}function Mle(t){return xle[t]}function Rle(t){return Ile[t]}function da(t){return{fieldPath:t.canonicalString()}}function Cu(t){return on.fromServerFormat(t.fieldPath)}function aO(t){return t instanceof ut?function(n){if("=="===n.op){if(iN(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(rN(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(iN(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(rN(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:Mle(n.op),value:n.value}}}(t):t instanceof Ot?function(n){const r=n.getFilters().map(i=>aO(i));return 1===r.length?r[0]:{compositeFilter:{op:Rle(n.op),filters:r}}}(t):Pe()}function kle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class xs{constructor(e,n,r,i,o=Le.min(),s=Le.min(),a=Hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lO{constructor(e){this.ut=e}}function kC(t){const e=oO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vm(e,e.limit,"L"):e}class Cc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_n(e.integerValue));else if("doubleValue"in e){const r=_n(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Sh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(vs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?oN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Pe()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),xe.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Cc.St=new Cc;class zle{constructor(){this.on=new BC}addToCollectionParentIndex(e,n){return this.on.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ei.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class BC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(vt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(vt.comparator)).toArray()}}new Uint8Array(0);class wr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(41943040,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);class Ic{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ic(0)}static Nn(){return new Ic(-1)}}class Wle{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Hh(r.mutation,i,ii.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Lh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=oi();const s=Vh(),a=Vh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Cs)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Hh(u.mutation,l,u.mutation.getFieldMask(),dn.now())):s.set(l.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Qle(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vh();let i=new Kt((s,a)=>s-a),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||ii.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||rt()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=SN();u.forEach(f=>{if(!o.has(f)){const h=LN(n.get(f),r.get(f));null!==h&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return xe.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(ko());let a=-1,c=o;return s.next(l=>N.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?N.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,rt())).next(u=>({batchId:a,changes:TN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Lh();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{const l=(d=n,f=c.child(o),new ys(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,Xt.newInvalidDocument(u)))});let a=Lh();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&Hh(u.mutation,l,ii.empty(),dn.now()),Fh(n,l)&&(a=a.insert(c,l))}),a})}}class Xle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return N.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:bn(i.createTime)}),N.resolve();var i}getNamedQuery(e,n){return N.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:kC(i.bundledQuery),readTime:bn(i.readTime)}),N.resolve();var i}}class Jle{constructor(){this.overlays=new Kt(xe.comparator),this.lr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=ko(),o=n.length+1,s=new xe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Kt((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=ko(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ko(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return N.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AC(n,r));let o=this.lr.get(n);void 0===o&&(o=rt(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class HC{constructor(){this.hr=new Vt(Qn.Pr),this.Ir=new Vt(Qn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Qn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Qn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new xe(new vt([])),r=new Qn(n,e),i=new Qn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new xe(new vt([])),r=new Qn(n,e),i=new Qn(n,e+1);let o=rt();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Qn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Qn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return xe.comparator(e.key,n.key)||Ke(e.gr,n.gr)}static Tr(e,n){return Ke(e.gr,n.gr)||xe.comparator(e.key,n.key)}}class Zle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Vt(Qn.Pr)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new bC(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Qn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qn(n,0),i=new Qn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ke);return n.forEach(i=>{const o=new Qn(i,0),s=new Qn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),N.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const s=new Qn(new xe(o),0);let a=new Vt(Ke);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),N.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Oe(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return N.forEach(n.mutations,i=>{const o=new Qn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Qn(n,0),i=this.yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return N.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eue{constructor(e){this.Cr=e,this.docs=new Kt(xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oi();const s=n.path,a=new xe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||uC(Uk(u),r)<=0||(i.has(u.key)||Fh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Pe()}vr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tue(this)}getSize(e){return N.resolve(this.size)}}class tue extends Wle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class nue{constructor(e){this.persistence=e,this.Fr=new Es(n=>gc(n),Nh),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new HC,this.targetCount=0,this.Nr=Ic.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),N.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.kn(n),N.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Or.containsKey(n))}}class zC{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ci(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new nue(this),this.indexManager=new zle,this.remoteDocumentCache=new eue(r=>this.referenceDelegate.Qr(r)),this.serializer=new lO(n),this.Kr=new Xle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Zle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new rue(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class rue extends wce{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.Gr=new HC,this.zr=null}static jr(e){return new Mm(e)}get Hr(){if(this.zr)return this.zr;throw Pe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,r=>{const i=xe.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return N.or([()=>N.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class GC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=rt(),i=rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new GC(e,n.fromCache,r,i)}}class oue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new oue;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(su()<=pt.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(su()<=pt.DEBUG&&se("QueryEngine","Query:",gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(su()<=pt.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):N.resolve())}zi(e,n){if(CN(n))return N.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=vm(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=rt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,vm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return CN(n)||i.isEqual(Le.min())?N.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?N.resolve(null):(su()<=pt.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(n)),this.Xi(e,s,n,function zk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(1e9===r?new dn(n+1,0):new dn(n,r));return new Ei(i,xe.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Vt(wN(e));return n.forEach((i,o)=>{Fh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return su()<=pt.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",gu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ei.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class sue{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Kt(Ke),this.ns=new Es(o=>gc(o),Nh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function HO(t,e){return qC.apply(this,arguments)}function qC(){return qC=_(function*(t,e){const n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=rt();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),qC.apply(this,arguments)}function zO(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function lue(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tu(t,e,n){return WC.apply(this,arguments)}function WC(){return WC=_(function*(t,e,n){const r=ye(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ia(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),WC.apply(this,arguments)}function Nm(t,e,n){const r=ye(t);let i=Le.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const d=ye(c),f=d.ns.get(u);return void 0!==f?N.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,s,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Le.min(),n?o:rt())).next(a=>(function GO(t,e,n){let r=t.rs.get(e)||Le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function bN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class JC{constructor(){this.activeTargetIds=function xC(){return ule}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KO{constructor(){this.eo=new JC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new JC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fue{ro(e){}shutdown(){}}class YO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lm=null;function e8(){return null===Lm?Lm=268435456+Math.round(2147483648*Math.random()):Lm++,"0x"+Lm.toString(16)}const hue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pue{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ar="WebChannelConnection";class gue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=e8(),c=this.So(n,r);se("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(u=>(se("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw yi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+ou,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${hue[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=e8();return new Promise((s,a)=>{const c=new hce;c.setWithCredentials(!0),c.listenOnce(uce.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case aC.NO_ERROR:const u=c.getResponseJson();se(Ar,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case aC.TIMEOUT:se(Ar,`RPC '${e}' ${o} timed out`),a(new ae(j.DEADLINE_EXCEEDED,"Request time out"));break;case aC.HTTP_ERROR:const d=c.getStatus();if(se(Ar,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(m){const D=m.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(D)>=0?D:j.UNKNOWN}(h.status);a(new ae(p,h.message))}else a(new ae(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ae(j.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{se(Ar,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);se(Ar,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=e8(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cce(),a=lce(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new fce({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=o.join("");se(Ar,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let f=!1,h=!1;const p=new pue({co:m=>{h?se(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(se(Ar,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),se(Ar,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,D,b)=>{m.listen(D,W=>{try{b(W)}catch(X){setTimeout(()=>{throw X},0)}})};return g(d,am.EventType.OPEN,()=>{h||se(Ar,`RPC '${e}' stream ${i} transport opened.`)}),g(d,am.EventType.CLOSE,()=>{h||(h=!0,se(Ar,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,am.EventType.ERROR,m=>{h||(h=!0,yi(Ar,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new ae(j.UNAVAILABLE,"The operation could not be completed")))}),g(d,am.EventType.MESSAGE,m=>{var D;if(!h){const b=m.data[0];Oe(!!b);const X=b.error||(null===(D=b[0])||void 0===D?void 0:D.error);if(X){se(Ar,`RPC '${e}' stream ${i} received error:`,X);const ge=X.status;let Ne=function(Un){const Ma=Rn[Un];if(void 0!==Ma)return jN(Ma)}(ge),fe=X.message;void 0===Ne&&(Ne=j.INTERNAL,fe="Unknown error status: "+ge+" with message "+X.message),h=!0,p.Ro(new ae(Ne,fe)),d.close()}else se(Ar,`RPC '${e}' stream ${i} received:`,b),p.Vo(b)}}),g(a,dce.STAT_EVENT,m=>{m.stat===Ok.PROXY?se(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Ok.NOPROXY&&se(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Vm(){return typeof document<"u"?document:null}function ep(t){return new ble(t,!0)}class t8{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class XO{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new t8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return _(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return _(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return _(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===j.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ae(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(_(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mue extends XO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Tle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Pe(),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Oe(void 0===u||"string"==typeof u),Hn.fromBase64String(u||"")):(Oe(void 0===u||u instanceof Uint8Array),Hn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=void 0===l.code?j.UNKNOWN:jN(l.code);return new ae(u,l.message||"")}(s);n=new KN(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=No(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):Le.min(),a=new hr({mapValue:{fields:r.document.fields}}),c=Xt.newFoundDocument(i,o,s,a);n=new Im(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=No(t,r.document),o=r.readTime?bn(r.readTime):Le.min(),s=Xt.newNoDocument(i,o);n=new Im([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=No(t,r.document);n=new Im([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Pe();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new vle(i,o);n=new WN(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Le.min():s.readTime?bn(s.readTime):Le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Gh(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=mm(c)?{documents:iO(o,c)}:{query:RC(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JN(o,s.resumeToken);const l=SC(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Le.min())>0){a.readTime=Eu(o,s.snapshotVersion.toTimestamp());const l=SC(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Dle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.e_(n)}}class _ue extends XO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Sle(t,e){return t&&t.length>0?(Oe(void 0!==e),t.map(n=>function(i,o){let s=bn(i.updateTime?i.updateTime:o);return s.isEqual(Le.min())&&(s=bn(o)),new ple(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.I_(r,n)}return Oe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Gh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function qh(t,e){let n;if(e instanceof vu)n={update:nO(t,e.key,e.value)};else if(e instanceof yu)n={delete:$h(t,e.key)};else if(e instanceof Cs)n={update:nO(t,e.key,e.data),updateMask:kle(e.fieldMask)};else{if(!(e instanceof IC))return Pe();n={verify:$h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof mu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _c)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _u)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:wle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Pe()),n;var o}(this.serializer,r))};this.e_(n)}}class vue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(j.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(j.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Eue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(In(n),this.f_=!1):se("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Cue{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(_(function*(){var c;ga(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(u){const d=ye(u);d.C_.add(4),yield Su(d),d.M_.set("Unknown"),d.C_.delete(4),yield tp(d)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.M_=new Eue(r,i)}}function tp(t){return r8.apply(this,arguments)}function r8(){return r8=_(function*(t){if(ga(t))for(const e of t.v_)yield e(!0)}),r8.apply(this,arguments)}function Su(t){return i8.apply(this,arguments)}function i8(){return i8=_(function*(t){for(const e of t.v_)yield e(!1)}),i8.apply(this,arguments)}function Bm(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),a8(n)?s8(n):Pu(n).Ho()&&o8(n,e))}function np(t,e){const n=ye(t),r=Pu(n);n.D_.delete(e),r.Ho()&&JO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ga(n)&&n.M_.set("Unknown"))}function o8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pu(t).u_(e)}function JO(t,e){t.x_.Oe(e),Pu(t).c_(e)}function s8(t){t.x_=new Ele({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Pu(t).start(),t.M_.g_()}function a8(t){return ga(t)&&!Pu(t).jo()&&t.D_.size>0}function ga(t){return 0===ye(t).C_.size}function ZO(t){t.x_=void 0}function xue(t){return c8.apply(this,arguments)}function c8(){return c8=_(function*(t){t.D_.forEach((e,n)=>{o8(t,e)})}),c8.apply(this,arguments)}function Iue(t,e){return l8.apply(this,arguments)}function l8(){return l8=_(function*(t,e){ZO(t),a8(t)?(t.M_.w_(e),s8(t)):t.M_.set("Unknown")}),l8.apply(this,arguments)}function bue(t,e,n){return u8.apply(this,arguments)}function u8(){return u8=_(function*(t,e,n){if(t.M_.set("Online"),e instanceof KN&&2===e.state&&e.cause)try{yield(r=_(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hm(t,r)}else if(e instanceof Im?t.x_.$e(e):e instanceof WN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Le.min()))try{const r=yield zO(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(Hn.EMPTY_BYTE_STRING,u.snapshotVersion)),JO(o,c);const d=new xs(u.target,c,l,u.sequenceNumber);o8(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield Hm(t,r)}var r}),u8.apply(this,arguments)}function Hm(t,e,n){return d8.apply(this,arguments)}function d8(){return d8=_(function*(t,e,n){if(!ia(e))throw e;t.C_.add(1),yield Su(t),t.M_.set("Offline"),n||(n=()=>zO(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){se("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield tp(t)}))}),d8.apply(this,arguments)}function eF(t,e){return e().catch(n=>Hm(t,n,e))}function Du(t){return f8.apply(this,arguments)}function f8(){return f8=_(function*(t){const e=ye(t),n=ma(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;wue(e);)try{const i=yield lue(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Aue(e,i)}catch(i){yield Hm(e,i)}tF(e)&&nF(e)}),f8.apply(this,arguments)}function wue(t){return ga(t)&&t.b_.length<10}function Aue(t,e){t.b_.push(e);const n=ma(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function tF(t){return ga(t)&&!ma(t).jo()&&t.b_.length>0}function nF(t){ma(t).start()}function Tue(t){return h8.apply(this,arguments)}function h8(){return h8=_(function*(t){ma(t).E_()}),h8.apply(this,arguments)}function Sue(t){return p8.apply(this,arguments)}function p8(){return p8=_(function*(t){const e=ma(t);for(const n of t.b_)e.P_(n.mutations)}),p8.apply(this,arguments)}function Due(t,e,n){return g8.apply(this,arguments)}function g8(){return g8=_(function*(t,e,n){const r=t.b_.shift(),i=wC.from(r,e,n);yield eF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Du(t)}),g8.apply(this,arguments)}function Pue(t,e){return m8.apply(this,arguments)}function m8(){return m8=_(function*(t,e){var n;e&&ma(t).h_&&(yield(n=_(function*(i,o){if(function UN(t){switch(t){default:return Pe();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}(a=o.code)&&a!==j.ABORTED){const s=i.b_.shift();ma(i).Yo(),yield eF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Du(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),tF(t)&&nF(t)}),m8.apply(this,arguments)}function rF(t,e){return _8.apply(this,arguments)}function _8(){return _8=_(function*(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=ga(n);n.C_.add(3),yield Su(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield tp(n)}),_8.apply(this,arguments)}function y8(){return y8=_(function*(t,e){const n=ye(t);e?(n.C_.delete(2),yield tp(n)):e||(n.C_.add(2),yield Su(n),n.M_.set("Unknown"))}),y8.apply(this,arguments)}function Pu(t){return t.O_||(t.O_=function(n,r,i){const o=ye(n);return o.A_(),new mue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:xue.bind(null,t),Io:Iue.bind(null,t),a_:bue.bind(null,t)}),t.v_.push(function(){var e=_(function*(n){n?(t.O_.Yo(),a8(t)?s8(t):t.M_.set("Unknown")):(yield t.O_.stop(),ZO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ma(t){return t.N_||(t.N_=function(n,r,i){const o=ye(n);return o.A_(),new _ue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Tue.bind(null,t),Io:Pue.bind(null,t),T_:Sue.bind(null,t),I_:Due.bind(null,t)}),t.v_.push(function(){var e=_(function*(n){n?(t.N_.Yo(),yield Du(t)):(yield t.N_.stop(),t.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class E8{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new E8(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ae(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(t,e){if(In("AsyncQueue",`${e}: ${t}`),ia(t))return new ae(j.UNAVAILABLE,`${e}: ${t}`);throw t}class Ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Lh(),this.sortedSet=new Kt(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iF{constructor(){this.B_=new Kt(xe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Pe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ku{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ku(e,n,Ru.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Mue{constructor(){this.k_=void 0,this.listeners=[]}}class Rue{constructor(){this.queries=new Es(e=>IN(e),Oh),this.onlineState="Unknown",this.q_=new Set}}function x8(){return x8=_(function*(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Mue),i)try{o.k_=yield n.onListen(r)}catch(s){const a=Mu(s,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&w8(n)}),x8.apply(this,arguments)}function b8(){return b8=_(function*(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),b8.apply(this,arguments)}function kue(t,e){const n=ye(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&w8(n)}function Nue(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function w8(t){t.q_.forEach(e=>{e.next()})}class A8{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class aF{constructor(e){this.key=e}}class cF{constructor(e){this.key=e}}class lF{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=wN(e),this.aa=new Ru(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new iF,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Fh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),m=!0):this.ha(f,h)||(r.track({type:2,doc:h}),m=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),m=!0):f&&!h&&(r.track({type:1,doc:f}),m=!0,(c||l)&&(a=!0)),m&&(h?(s=s.add(h),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new ku(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new iF,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new cF(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new aF(r))}),n}da(e){this.ia=e.ls,this.oa=rt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ku.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Lue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vue{constructor(e){this.key=e,this.Ra=!1}}class Bue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Es(a=>IN(a),Oh),this.fa=new Map,this.ga=new Set,this.pa=new Kt(xe.comparator),this.ya=new Map,this.wa=new HC,this.Sa={},this.ba=new Map,this.Da=Ic.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Hue(t,e){return T8.apply(this,arguments)}function T8(){return T8=_(function*(t,e){const n=function Q8(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jue.bind(null,e),e.Va.a_=kue.bind(null,e.eventManager),e.Va.Fa=Nue.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function Au(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new xs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,zr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function S8(t,e,n,r,i){return D8.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Bm(n.remoteStore,s)}return i}),T8.apply(this,arguments)}function D8(){return D8=_(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=_(function*(m,D,b,W){let X=D.view.ca(b);X.Zi&&(X=yield Nm(m.localStore,D.query,!1).then(({documents:fe})=>D.view.ca(fe,X)));const ge=W&&W.targetChanges.get(D.targetId),Ne=D.view.applyChanges(X,m.isPrimaryClient,ge);return B8(m,D.targetId,Ne.Ta),Ne.snapshot}),function g(m,D,b,W){return p.apply(this,arguments)})(t,d,f,h);var p};const o=yield Nm(t.localStore,e,!0),s=new lF(e,o.ls),a=s.ca(o.documents),c=jh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);B8(t,n,l.Ta);const u=new Lue(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),D8.apply(this,arguments)}function zue(t,e){return P8.apply(this,arguments)}function P8(){return P8=_(function*(t,e){const n=ye(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Oh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),np(n.remoteStore,r.targetId),Nu(n,r.targetId)}).catch(ra))):(Nu(n,r.targetId),yield Tu(n.localStore,r.targetId,!0))}),P8.apply(this,arguments)}function M8(){return M8=_(function*(t,e,n){const r=function X8(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$ue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gue.bind(null,e),e}(t);try{const i=yield function(s,a){const c=ye(s),l=dn.now(),u=a.reduce((h,p)=>h.add(p.key),rt());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=oi(),g=rt();return c.ss.getEntries(h,u).next(m=>{p=m,p.forEach((D,b)=>{b.isValidDocument()||(g=g.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(m=>{d=m;const D=[];for(const b of a){const W=mle(b,d.get(b.key).overlayedDocument);null!=W&&D.push(new Cs(b.key,W,cN(W.value.mapValue),sn.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,D,a)}).next(m=>{f=m;const D=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,m.batchId,D)})}).then(()=>({batchId:f.batchId,changes:TN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Kt(Ke)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Is(r,i.changes),yield Du(r.remoteStore)}catch(i){const o=Mu(i,"Failed to persist write");n.reject(o)}}),M8.apply(this,arguments)}function uF(t,e){return R8.apply(this,arguments)}function R8(){return R8=_(function*(t,e){const n=ye(t);try{const r=yield function cue(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);var g,m,D;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Hn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),m=h,D=u,(0===(g=f).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,h))});let c=oi(),l=rt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function UO(t,e,n){let r=rt(),i=rt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=oi();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Le.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Oe(s.Ra):i.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield Is(n,r,e)}catch(r){yield ra(r)}}),R8.apply(this,arguments)}function dF(t,e,n){const r=ye(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ye(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&w8(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jue(t,e,n){return k8.apply(this,arguments)}function k8(){return k8=_(function*(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Kt(xe.comparator);s=s.insert(o,Xt.newNoDocument(o,Le.min()));const a=rt().add(o),c=new Uh(Le.min(),new Map,new Kt(Ke),s,a);yield uF(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),H8(r)}else yield Tu(r.localStore,e,!1).then(()=>Nu(r,e,n)).catch(ra)}),k8.apply(this,arguments)}function $ue(t,e){return N8.apply(this,arguments)}function N8(){return N8=_(function*(t,e){const n=ye(t),r=e.batch.batchId;try{const i=yield function aue(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=N.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const m=l.docVersions.get(p);Oe(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=rt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);V8(n,r,null),L8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Is(n,i)}catch(i){yield ra(i)}}),N8.apply(this,arguments)}function Gue(t,e,n){return O8.apply(this,arguments)}function O8(){return O8=_(function*(t,e,n){const r=ye(t);try{const i=yield function(s,a){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Oe(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);V8(r,e,n),L8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Is(r,i)}catch(i){yield ra(i)}}),O8.apply(this,arguments)}function L8(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function V8(t,e,n){const r=ye(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||fF(t,r)})}function fF(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(np(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),H8(t))}function B8(t,e,n){for(const r of n)r instanceof aF?(t.wa.addReference(r.key,e),Wue(t,r)):r instanceof cF?(se("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||fF(t,r.key)):Pe()}function Wue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ga.add(r),H8(t))}function H8(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new xe(vt.fromString(e)),r=t.Da.next();t.ya.set(r,new Vue(n)),t.pa=t.pa.insert(n,r),Bm(t.remoteStore,new xs(zr(hu(n.path)),r,"TargetPurposeLimboResolution",Ci._e))}}function Is(t,e,n){return z8.apply(this,arguments)}function z8(){return z8=_(function*(t,e,n){const r=ye(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=GC.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=_(function*(l,u){const d=ye(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(u,h=>N.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>N.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!ia(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,m)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,o))}),z8.apply(this,arguments)}function Kue(t,e){return U8.apply(this,arguments)}function U8(){return U8=_(function*(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=yield HO(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ae(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Is(n,r._s)}var o}),U8.apply(this,arguments)}function Yue(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return rt().add(r.key);{let i=rt();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class zm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=ep(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function BO(t,e,n,r){return new sue(t,e,n,r)}(this.persistence,new VO,e.initialUser,this.serializer)}createPersistence(e){return new zC(Mm.jr,this.serializer)}createSharedClientState(e){return new KO}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ou{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Kue.bind(null,r.syncEngine),yield function v8(t,e){return y8.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rue}createDatastore(e){const n=ep(e.databaseInfo.databaseId),r=new gue(e.databaseInfo);return new vue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>dF(this.syncEngine,n,0),a=YO.D()?new YO:new fue,new Cue(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){const d=new Bue(i,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(r){const i=ye(r);se("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Su(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cde{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=Bk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=_(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Mu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jm(t,e){return J8.apply(this,arguments)}function J8(){return J8=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(o){r.isEqual(o)||(yield HO(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),J8.apply(this,arguments)}function Z8(t,e){return ex.apply(this,arguments)}function ex(){return ex=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function tx(t){return nx.apply(this,arguments)}(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>rF(e.remoteStore,o)),t._onlineComponents=e}),ex.apply(this,arguments)}function nx(){return nx=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function vF(t){return"FirebaseError"===t.name?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;yi("Error using user provided cache. Falling back to memory cache: "+n),yield jm(t,new zm)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield jm(t,new zm);return t._offlineComponents}),nx.apply(this,arguments)}function $m(t){return rx.apply(this,arguments)}function rx(){return rx=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield Z8(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield Z8(t,new Ou))),t._onlineComponents}),rx.apply(this,arguments)}function Lu(t){return ox.apply(this,arguments)}function ox(){return ox=_(function*(t){const e=yield $m(t),n=e.eventManager;return n.onListen=Hue.bind(null,e.syncEngine),n.onUnlisten=zue.bind(null,e.syncEngine),n}),ox.apply(this,arguments)}function bF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const wF=new Map;function sx(t,e,n){if(!n)throw new ae(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AF(t){if(!xe.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TF(t){if(xe.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Pe()}function dt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new ae(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class DF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ae(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ae(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yde(t,e,n,r){if(!0===e&&!0===r)throw new ae(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ae(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new gce;switch(r.type){case"firstParty":return new yce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wF.get(n);r&&(se("ComponentProvider","Removing Datastore"),wF.delete(n),r.terminate())}(this),Promise.resolve()}}class pr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Oo extends pr{constructor(e,n,r){super(e,n,hu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new xe(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function Cde(t,e,...n){if(t=pn(t),sx("collection","path",e),t instanceof rp){const r=vt.fromString(e,...n);return TF(r),new Oo(t,null,r)}{if(!(t instanceof wn||t instanceof Oo))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return TF(r),new Oo(t.firestore,null,r)}}function PF(t,e,...n){if(t=pn(t),1===arguments.length&&(e=Bk.newId()),sx("doc","path",e),t instanceof rp){const r=vt.fromString(e,...n);return AF(r),new wn(t,null,new xe(r))}{if(!(t instanceof wn||t instanceof Oo))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return AF(r),new wn(t.firestore,t instanceof Oo?t.converter:null,new xe(r))}}class xde{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new t8(this,"async_queue_retry"),this.iu=()=>{const n=Vm();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Vm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Bn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return _(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!ia(n))throw n;se("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,In("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=E8.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Pe()}verifyOperationInProgress(){}uu(){var e=this;return _(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ax(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Yt extends rp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RF(this),this._firestoreClient.terminate()}}function bde(t,e){const r="string"==typeof t?t:e||"(default)",i=Ao("object"==typeof t?t:ql(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=VM("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function Ede(t,e,n,r={}){var i;const o=(t=dt(t,rp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Kn.MOCK_USER;else{a=function _ne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c1(JSON.stringify({alg:"none",type:"JWT"})),c1(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ae(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kn(l)}t._authCredentials=new mce(new Lk(a,c))}}(i,...o)}return i}function An(t){return t._firestoreClient||RF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RF(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Yce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new cde(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Hn.fromBase64String(e))}catch(n){throw new ae(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wc(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ae(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cx{constructor(e){this._methodName=e}}class lx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const Ade=/^__.*__$/;class Tde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class OF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class qm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Km(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(FF(this.Iu)&&Ade.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Sde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ep(e)}pu(e,n,r,i=!1){return new qm({Iu:e,methodName:n,gu:r,path:on.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bu(t){const e=t._freezeSettings(),n=ep(t._databaseId);return new Sde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ux(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);fx("Data must be an object, but it was:",s,r);const a=zF(r,s);let c,l;if(o.merge)c=new ii(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=sp(e,d,n);if(!s.contains(f))throw new ae(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jF(u,f)||u.push(f)}c=new ii(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Tde(new hr(a),c,l)}class op extends cx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof op}}function Ac(t,e){if(UF(t=pn(t)))return fx("Unsupported field value:",e,t),zF(t,e);if(t instanceof cx)return function(r,i){if(!FF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Ac(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=pn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return MN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=dn.fromDate(r);return{timestampValue:Eu(i.serializer,o)}}if(r instanceof dn){const o=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eu(i.serializer,o)}}if(r instanceof lx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wc)return{bytesValue:JN(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Gm(r)}`)}(t,e)}function zF(t,e){const n={};return Zk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,(r,i)=>{const o=Ac(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function UF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof lx||t instanceof wc||t instanceof wn||t instanceof cx)}function fx(t,e,n){if(!UF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Gm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function sp(t,e,n){if((e=pn(e))instanceof Vu)return e._internalPath;if("string"==typeof e)return Wm(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rde=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,n){if(e.search(Rde)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vu(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Km(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ae(j.INVALID_ARGUMENT,a+t+c)}function jF(t,e){return t.some(n=>n.isEqual(e))}class hx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class kde extends hx{data(){return super.data()}}function Ym(t,e){return"string"==typeof e?Wm(t,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}class px{}class GF extends px{}function Nde(t,e,...n){let r=[];e instanceof px&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Hu).length,a=o.filter(c=>c instanceof ap).length;if(s>1||s>0&&a>0)throw new ae(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ap extends GF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ap(e,n,r)}_apply(e){const n=this._parse(e);return YF(e._query,n),new pr(e.firestore,e.converter,CC(e._query,n))}_parse(e){const n=Bu(e.firestore);return function(o,s,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ae(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){KF(d,u);const h=[];for(const p of d)h.push(WF(c,o,p));f={arrayValue:{values:h}}}else f=WF(c,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||KF(d,u),f=function HF(t,e,n,r=!1){return Ac(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return ut.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ode(t,e,n){const r=e,i=Ym("where",t);return ap._create(i,r,n)}class Hu extends px{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)YF(s,c),s=CC(s,c)}(e._query,n),new pr(e.firestore,e.converter,CC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qm extends GF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qm(e,n,r)}_apply(e){return new pr(e.firestore,e.converter,vm(e._query,this._limit,this._limitType))}}function Fde(t){return function SF(t,e){if(e<=0)throw new ae(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Qm._create("limit",t,"F")}function WF(t,e,n){if("string"==typeof(n=pn(n))){if(""===n)throw new ae(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&-1!==n.indexOf("/"))throw new ae(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!xe.isDocumentKey(r))throw new ae(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pc(t,new xe(r))}if(n instanceof wn)return pc(t,n._key);throw new ae(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gm(n)}.`)}function KF(t,e){if(!Array.isArray(t)||0===t.length)throw new ae(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ae(j.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lde{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new lx(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=sa(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Oe(cO(r));const i=new hc(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return i.isEqual(n)||In(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zu extends hx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zm extends zu{data(e={}){return super.data(e)}}class Uu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zm(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Zm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new Zm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Bde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class _a extends Lde{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Hde(t,e,n){t=dt(t,wn);const r=dt(t.firestore,Yt),i=function mx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return cp(r,[ux(Bu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,sn.none())])}function zde(t,e,n,...r){t=dt(t,wn);const i=dt(t.firestore,Yt),o=Bu(i);let s;return s="string"==typeof(e=pn(e))||e instanceof Vu?function BF(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[sp(e,r,n)],c=[i];if(o.length%2!=0)throw new ae(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(sp(e,o[f])),c.push(o[f+1]);const l=[],u=hr.empty();for(let f=a.length-1;f>=0;--f)if(!jF(l,a[f])){const h=a[f];let p=c[f];p=pn(p);const g=s.Ru(h);if(p instanceof op)l.push(h);else{const m=Ac(p,g);null!=m&&(l.push(h),u.set(h,m))}}const d=new ii(l);return new OF(u,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function VF(t,e,n,r){const i=t.pu(1,e,n);fx("Data must be an object, but it was:",i,r);const o=[],s=hr.empty();oa(r,(c,l)=>{const u=Wm(e,c,n);l=pn(l);const d=i.Ru(u);if(l instanceof op)o.push(u);else{const f=Ac(l,d);null!=f&&(o.push(u),s.set(u,f))}});const a=new ii(o);return new OF(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),cp(i,[s.toMutation(t._key,sn.exists(!0))])}function cp(t,e){return function(r,i){const o=new Bn;return r.asyncQueue.enqueueAndForget(_(function*(){return function Uue(t,e,n){return M8.apply(this,arguments)}(yield function ix(t){return $m(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(An(t),e)}!function(e,n=!0){ou=Gl,Oi(new mi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Yt(new _ce(r.getProvider("auth-internal")),new Ece(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ae(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gn(Fk,"4.3.2",e),gn(Fk,"4.3.2","esm2017")}();var n2=function(){return n2=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},n2.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var tfe={includeMetadataChanges:!1};function Ex(t,e){return void 0===e&&(e=tfe),new me(function(n){var r=function Ude(t,...e){var n,r,i;t=pn(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||ax(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ax(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof wn)l=dt(t.firestore,Yt),u=hu(t._key.path),c={next:d=>{e[s]&&e[s](function _x(t,e,n){const r=n.docs.get(e._key),i=new _a(t);return new zu(t,i,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=dt(t,pr);l=dt(d.firestore,Yt),u=d._query;const f=new _a(l);c={next:h=>{e[s]&&e[s](new Uu(l,f,d,h))},error:e[s+1],complete:e[s+2]},function $F(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ae(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const m=new Um(g),D=new A8(h,m,p);return f.asyncQueue.enqueueAndForget(_(function*(){return function C8(t,e){return x8.apply(this,arguments)}(yield Lu(f),D)})),()=>{m.Na(),f.asyncQueue.enqueueAndForget(_(function*(){return function I8(t,e){return b8.apply(this,arguments)}(yield Lu(f),D)}))}}(An(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function rfe(t,e){return void 0===e&&(e={}),function nfe(t){return Ex(t,{includeMetadataChanges:!0})}(t).pipe(nt(function(n){return eL(n,e)}))}function eL(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?n2(n2({},r),((n={})[e.idField]=t.id,n)):r}function lfe(t,e){return void 0===e&&(e={}),function cfe(t){return Ex(t,{includeMetadataChanges:!0}).pipe(nt(function(e){return e.docs}))}(t).pipe(nt(function(n){return n.map(function(r){return eL(r,e)})}))}class oo{constructor(e){return e}}const iL="firestore",Ix=new we("angularfire2.firestore-instances");function hfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oo(r)}}const pfe={provide:class dfe{constructor(){return m1(iL)}},deps:[[new Lt,Ix]]},gfe={provide:oo,useFactory:function ffe(t,e){const n=g1(iL,t,e);return n&&new oo(n)},deps:[[new Lt,Ix],nc]};let mfe=(()=>{var t;class e{constructor(){gn("angularfire",Ys.full,"fst")}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)}),wt(e,"\u0275mod",Pt({type:t})),wt(e,"\u0275inj",Tt({providers:[gfe,pfe]})),e})();function Sc(t,...e){return{ngModule:mfe,providers:[{provide:Ix,useFactory:hfe(t),multi:!0,deps:[Et,Ln,Uf,jf,[new Lt,v9],[new Lt,u6],...e]}]}}const ju=Dn(lfe,!0),va=Dn(rfe,!0),Tn=Dn(Cde,!0),Jt=Dn(PF,!0),Dc=Dn(bde,!0),oL=Dn(Fde,!0),lp=Dn(Nde,!0),Vi=Dn(Hde,!0),up=Dn(zde,!0),bx=Dn(Ode,!0);class r2{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var $u,wx=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(wx||{}),Ve=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.ALLIANCES_STATS="alliances-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.JS_VERSION="js-version",t.PLAYERS_RANKINGS_SORT="players-rankings-sort",t.ALLIANCES_RANKINGS_SORT="alliances-rankings-sort",t}(Ve||{});class sL{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Xn{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new sL(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(sL,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(Ve.REMOTE_METADATA)}localMetadata(){return this.get(Ve.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}($u=Xn).\u0275fac=function(e){return new(e||$u)},$u.\u0275prov=Ce({token:$u,factory:$u.\u0275fac,providedIn:"platform"}),Ht([jn(2,Lt())],Xn.prototype,"cache",null),Ht([jn(1,Lt())],Xn.prototype,"get",null);var Gu,Ax=B(874);class Bi{constructor(){this.localStorageService=z(Xn),this._authState=new Mt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Ve.USER))return!1;let n=this.localStorageService.get(Ve.USER).session.timeToken,r=this.localStorageService.get(Ve.USER).session.refreshToken,i=Date.parse(Ax.AES.decrypt(n,r).toString(Ax.enc.Utf8)),o=Date.now()-i<=6048e5;return o&&e&&this._authState.emit(new r2(o,this.localStorageService.get(Ve.USER).session.role)),o}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Ve.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=y9(e).subscribe(r=>{if(null!=r){let i=ju(lp(Tn(n,"valid-users"),bx("email","==",r.email),oL(1))).subscribe(o=>{if(o.length>0){let s=Object.assign({email:"",enabled:!1,role:wx.USER},o[0]);s.enabled?(this.localStorageService.cache(Ve.USER,{session:{timeToken:Ax.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:s.role}}),this._authState.emit(new r2(!0,s.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(Ve.USER),this._authState.emit(new r2(!1,null))})}}signInWithEmailAndPassword(e,n,r){sae(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){aae(e,new roe).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Ve.USER),this._refreshInProgress=!0,this._authState.emit(new r2(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().finally(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Fo(t,e){return Ue((n,r)=>{let i=0;n.subscribe(ct(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Tx(...t){return function vfe(){return _0(1)}()(tr(t,wd(t)))}function aL(...t){const e=wd(t);return Ue((n,r)=>{(e?Tx(t,n,e):Tx(t,n)).subscribe(r)})}(Gu=Bi).\u0275fac=function(e){return new(e||Gu)},Gu.\u0275prov=Ce({token:Gu,factory:Gu.\u0275fac,providedIn:"platform"}),Ht([jn(0,Lt())],Bi.prototype,"checkLoginValidity",null);const Efe=(t,e)=>e.some(n=>t instanceof n);let cL,lL;const uL=new WeakMap,Sx=new WeakMap,dL=new WeakMap,Dx=new WeakMap,Px=new WeakMap;let Mx={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Sx.get(t);if("objectStoreNames"===e)return t.objectStoreNames||dL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tfe(t){return"function"==typeof t?function Afe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xfe(){return lL||(lL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Rx(this),e),ya(uL.get(this))}:function(...e){return ya(t.apply(Rx(this),e))}:function(e,...n){const r=t.call(Rx(this),e,...n);return dL.set(r,e.sort?e.sort():[e]),ya(r)}}(t):(t instanceof IDBTransaction&&function bfe(t){if(Sx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sx.set(t,e)}(t),Efe(t,function Cfe(){return cL||(cL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Mx):t)}function ya(t){if(t instanceof IDBRequest)return function Ife(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ya(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uL.set(n,t)}).catch(()=>{}),Px.set(e,t),e}(t);if(Dx.has(t))return Dx.get(t);const e=Tfe(t);return e!==t&&(Dx.set(t,e),Px.set(e,t)),e}const Rx=t=>Px.get(t),Dfe=["get","getKey","getAll","getAllKeys","count"],Pfe=["put","add","delete","clear"],kx=new Map;function fL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(kx.get(e))return kx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dfe.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return kx.set(e,o),o}!function wfe(t){Mx=t(Mx)}(t=>({...t,get:(e,n,r)=>fL(e,n)||t.get(e,n,r),has:(e,n)=>!!fL(e,n)||t.has(e,n)}));const hL="@firebase/installations",Nx="0.6.4",pL=1e4,gL=`w:${Nx}`,mL="FIS_v2",Mfe="https://firebaseinstallations.googleapis.com/v1",Rfe=36e5,bs=new Ws("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _L(t){return t instanceof to&&t.code.includes("request-failed")}function Ox({projectId:t}){return`${Mfe}/projects/${t}/installations`}function vL(t){return{token:t.token,requestStatus:2,expiresIn:Ffe(t.expiresIn),creationTime:Date.now()}}function Fx(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=_(function*(t,e){const r=(yield e.json()).error;return bs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Lx.apply(this,arguments)}function yL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vx(t){return Bx.apply(this,arguments)}function Bx(){return Bx=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Bx.apply(this,arguments)}function Ffe(t){return Number(t.replace("s","000"))}function Hx(){return Hx=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ox(t),i=yL(t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:mL,appId:t.appId,sdkVersion:gL})},c=yield Vx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:vL(l.authToken)}}throw yield Fx("Create Installation",c)}),Hx.apply(this,arguments)}function CL(t){return new Promise(e=>{setTimeout(e,t)})}const Hfe=/^[cdef][\w-]{21}$/,zx="";function zfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ufe(t){return function Bfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Hfe.test(n)?n:zx}catch{return zx}}function qu(t){return`${t.appName}!${t.appId}`}const Wu=new Map;function xL(t,e){const n=qu(t);IL(n,e),function Gfe(t,e){const n=function bL(){return!Pc&&"BroadcastChannel"in self&&(Pc=new BroadcastChannel("[Firebase] FID Change"),Pc.onmessage=t=>{IL(t.data.key,t.data.fid)}),Pc}();n&&n.postMessage({key:t,fid:e}),function wL(){0===Wu.size&&Pc&&(Pc.close(),Pc=null)}()}(n,e)}function IL(t,e){const n=Wu.get(t);if(n)for(const r of n)r(e)}let Pc=null;const qfe="firebase-installations-database",Wfe=1,Mc="firebase-installations-store";let Ux=null;function jx(){return Ux||(Ux=function Sfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ya(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ya(s.result),c.oldVersion,c.newVersion,ya(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(qfe,Wfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Mc)}})),Ux}function o2(t,e){return $x.apply(this,arguments)}function $x(){return $x=_(function*(t,e){const n=qu(t),i=(yield jx()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&xL(t,e.fid),e}),$x.apply(this,arguments)}function Gx(t){return qx.apply(this,arguments)}function qx(){return qx=_(function*(t){const e=qu(t),r=(yield jx()).transaction(Mc,"readwrite");yield r.objectStore(Mc).delete(e),yield r.done}),qx.apply(this,arguments)}function dp(t,e){return Wx.apply(this,arguments)}function Wx(){return Wx=_(function*(t,e){const n=qu(t),i=(yield jx()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&xL(t,a.fid),a}),Wx.apply(this,arguments)}function Kx(t){return Yx.apply(this,arguments)}function Yx(){return Yx=_(function*(t){let e;const n=yield dp(t.appConfig,r=>{const i=function Kfe(t){return TL(t||{fid:zfe(),registrationStatus:0})}(r),o=function Yfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Qfe(t,e){return Qx.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Xfe(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===zx?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Yx.apply(this,arguments)}function Qx(){return Qx=_(function*(t,e){try{const n=yield function Vfe(t,e){return Hx.apply(this,arguments)}(t,e);return o2(t.appConfig,n)}catch(n){throw _L(n)&&409===n.customData.serverCode?yield Gx(t.appConfig):yield o2(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Qx.apply(this,arguments)}function Xfe(t){return Xx.apply(this,arguments)}function Xx(){return Xx=_(function*(t){let e=yield AL(t.appConfig);for(;1===e.registrationStatus;)yield CL(100),e=yield AL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Kx(t);return r||n}return e}),Xx.apply(this,arguments)}function AL(t){return dp(t,e=>{if(!e)throw bs.create("installation-not-found");return TL(e)})}function TL(t){return function Jfe(t){return 1===t.registrationStatus&&t.registrationTime+pL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Jx(){return Jx=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function ehe(t,{fid:e}){return`${Ox(t)}/${e}/authTokens:generate`}(t,n),i=function EL(t,{refreshToken:e}){const n=yL(t);return n.append("Authorization",function Lfe(t){return`${mL} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:gL,appId:t.appId}})},c=yield Vx(()=>fetch(r,a));if(c.ok)return vL(yield c.json());throw yield Fx("Generate Auth Token",c)}),Jx.apply(this,arguments)}function Zx(t){return eI.apply(this,arguments)}function eI(){return eI=_(function*(t,e=!1){let n;const r=yield dp(t.appConfig,o=>{if(!DL(o))throw bs.create("not-registered");const s=o.authToken;if(!e&&function rhe(t){return 2===t.requestStatus&&!function ihe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rfe}(t)}(s))return o;if(1===s.requestStatus)return n=function the(t,e){return tI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw bs.create("app-offline");const a=function ohe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function nhe(t,e){return nI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),eI.apply(this,arguments)}function tI(){return tI=_(function*(t,e){let n=yield SL(t.appConfig);for(;1===n.authToken.requestStatus;)yield CL(100),n=yield SL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Zx(t,e):r}),tI.apply(this,arguments)}function SL(t){return dp(t,e=>{if(!DL(e))throw bs.create("not-registered");return function she(t){return 1===t.requestStatus&&t.requestTime+pL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function nI(){return nI=_(function*(t,e){try{const n=yield function Zfe(t,e){return Jx.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield o2(t.appConfig,r),n}catch(n){if(!_L(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield o2(t.appConfig,r)}else yield Gx(t.appConfig);throw n}}),nI.apply(this,arguments)}function DL(t){return void 0!==t&&2===t.registrationStatus}function rI(){return rI=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Kx(e);return r?r.catch(console.error):Zx(e).catch(console.error),n.fid}),rI.apply(this,arguments)}function iI(){return iI=_(function*(t,e=!1){const n=t;return yield function lhe(t){return oI.apply(this,arguments)}(n),(yield Zx(n,e)).token}),iI.apply(this,arguments)}function oI(){return oI=_(function*(t){const{registrationPromise:e}=yield Kx(t);e&&(yield e)}),oI.apply(this,arguments)}function cI(t){return bs.create("missing-app-config-values",{valueName:t})}const PL="installations",phe=t=>{const e=t.getProvider("app").getImmediate(),n=function fhe(t){if(!t||!t.options)throw cI("App Configuration");if(!t.name)throw cI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ao(e,"heartbeat"),_delete:()=>Promise.resolve()}},ghe=t=>{const n=Ao(t.getProvider("app").getImmediate(),PL).getImmediate();return{getId:()=>function ahe(t){return rI.apply(this,arguments)}(n),getToken:i=>function che(t){return iI.apply(this,arguments)}(n,i)}};(function mhe(){Oi(new mi(PL,phe,"PUBLIC")),Oi(new mi("installations-internal",ghe,"PRIVATE"))})(),gn(hL,Nx),gn(hL,Nx,"esm2017");const s2="analytics",_he="firebase_id",vhe="origin",yhe=6e4,Ehe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lI="https://www.googletagmanager.com/gtag/js",Jn=new Bf("@firebase/analytics"),Ur=new Ws("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xhe(t){if(!t.startsWith(lI)){const e=Ur.create("invalid-gtag-resource",{gtagURL:t});return Jn.warn(e.message),""}return t}function ML(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uI(){return uI=_(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield ML(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Jn.error(a)}t("config",i,o)}),uI.apply(this,arguments)}function dI(){return dI=_(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield ML(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Jn.error(o)}}),dI.apply(this,arguments)}const Mhe=30,RL=new class khe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function fI(){return fI=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Nhe(r)},o=Ehe.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Ur.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}),fI.apply(this,arguments)}function hI(){return hI=_(function*(t,e=RL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Ur.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ur.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Bhe;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:yhe),kL({appId:r,apiKey:i,measurementId:o},s,a,e)}),hI.apply(this,arguments)}function kL(t,e,n){return pI.apply(this,arguments)}function pI(){return pI=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=RL){var o;const{appId:s,measurementId:a}=t;try{yield function Lhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Ohe(t){return fI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Vhe(t){if(!(t instanceof to&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?X4(n,i.intervalMillis,Mhe):X4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),Jn.debug(`Calling attemptFetch again in ${u} millis`),kL(t,d,r,i)}}),pI.apply(this,arguments)}class Bhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let gI,xI;function mI(){return mI=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}),mI.apply(this,arguments)}function vI(){return vI=_(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),vI.apply(this,arguments)}function II(){return II=_(function*(){if(!Nf())return Jn.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield K4()}catch(t){return Jn.warn(Ur.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),II.apply(this,arguments)}function bI(){return bI=_(function*(t,e,n,r,i,o,s){var a;const c=function Fhe(t){return hI.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Jn.error(h)),e.push(c);const l=function qhe(){return II.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function Phe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lI)&&n.src.includes(t))return n;return null})(o)||function bhe(t,e){const n=function Ihe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xhe}),r=document.createElement("script"),i=`${lI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),xI&&(i("consent","default",xI),function NL(t){xI=t}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[vhe]="firebase",f.update=!0,null!=d&&(f[_he]=d),i("config",u.measurementId,f),gI&&(i("set",gI),function OL(t){gI=t}(void 0)),u.measurementId}),bI.apply(this,arguments)}class Khe{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},FL=[];const LL={};let BL,Vo,a2="dataLayer",wI=!1;function Qhe(t,e,n){!function Yhe(){const t=[];if(W4()&&t.push("This is a browser extension environment."),zM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ur.create("invalid-analytics-context",{errorInfo:e});Jn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ur.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ur.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lo[r])throw Ur.create("already-exists",{id:r});if(!wI){!function whe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(a2);const{wrappedGtag:o,gtagCore:s}=function Dhe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function She(t,e,n,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function The(t,e,n,r,i){return dI.apply(this,arguments)}(t,e,n,c,l)}else if("config"===s){const[c,l]=a;yield function Ahe(t,e,n,r,i,o){return uI.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,l,u]=a;t("get",c,l,u)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Jn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Lo,FL,LL,a2,"gtag");Vo=o,BL=s,wI=!0}return Lo[r]=function Whe(t,e,n,r,i,o,s){return bI.apply(this,arguments)}(t,FL,LL,e,BL,a2,n),new Khe(t)}function Xhe(t=ql()){const e=Ao(t=pn(t),s2);return e.isInitialized()?e.getImmediate():function Jhe(t,e={}){const n=Ao(t,s2);if(n.isInitialized()){const i=n.getImmediate();if(Of(e,n.getOptions()))return i;throw Ur.create("already-initialized")}return n.initialize({options:e})}(t)}function Zhe(){return AI.apply(this,arguments)}function AI(){return(AI=_(function*(){if(W4()||!zM()||!Nf())return!1;try{return yield K4()}catch{return!1}})).apply(this,arguments)}function epe(t,e,n){t=pn(t),function Uhe(t,e,n,r){return vI.apply(this,arguments)}(Vo,Lo[t.app.options.appId],e,n).catch(r=>Jn.error(r))}function HL(t,e,n,r){t=pn(t),function Hhe(t,e,n,r,i){return mI.apply(this,arguments)}(Vo,Lo[t.app.options.appId],e,n,r).catch(i=>Jn.error(i))}const zL="@firebase/analytics";!function tpe(){Oi(new mi(s2,(e,{options:n})=>Qhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Oi(new mi("analytics-internal",function t(e){try{const n=e.getProvider(s2).getImmediate();return{logEvent:(r,i,o)=>HL(n,r,i,o)}}catch(n){throw Ur.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),gn(zL,"0.10.0"),gn(zL,"0.10.0","esm2017")}();const fp=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:rpe}=Array,{getPrototypeOf:ipe,prototype:ope,keys:spe}=Object;function jL(t){if(1===t.length){const e=t[0];if(rpe(e))return{args:e,keys:null};if(function ape(t){return t&&"object"==typeof t&&ipe(t)===ope}(e)){const n=spe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:cpe}=Array;function $L(t){return nt(e=>function lpe(t,e){return cpe(e)?t(...e):t(e)}(t,e))}function GL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function qL(...t){const e=wd(t),n=jw(t),{args:r,keys:i}=jL(t);if(0===r.length)return tr([],e);const o=new me(function upe(t,e,n=Ie){return r=>{WL(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)WL(e,()=>{const l=tr(t[c],e);let u=!1;l.subscribe(ct(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>GL(i,s):Ie));return n?o.pipe($L(n)):o}function WL(t,e,n){t?Wo(n,t,e):e()}function KL(t){return new me(e=>{vr(t()).subscribe(e)})}function hp(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function SI(){return Ue((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class YL extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Z;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Z.EMPTY)}return e}refCount(){return SI()(this)}}function Ku(t){return t<=0?()=>fo:Ue((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function c2(t){return Ue((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function QL(t=dpe){return Ue((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function dpe(){return new fp}function Rc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fo((i,o)=>t(i,o,r)):Ie,Ku(1),n?c2(e):QL(()=>new fp))}function pp(t,e){return R(e)?er(t,e,1):er(t,1)}function kc(t){return Ue((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,s=>{o=vr(t(s,kc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function DI(t){return t<=0?()=>fo:Ue((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gp(t){return Ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const it="primary",mp=Symbol("RouteTitle");class _pe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yu(t){return new _pe(t)}function vpe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Bo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!XL(t[i],e[i]))return!1;return!0}function XL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function JL(t){return t.length>0?t[t.length-1]:null}function Ea(t){return function npe(t){return!!t&&(t instanceof me||R(t.lift)&&R(t.subscribe))}(t)?t:hf(t)?tr(Promise.resolve(t)):je(t)}const Epe={exact:function tV(t,e,n){if(!Nc(t.segments,e.segments)||!l2(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!tV(t.children[r],e.children[r],n))return!1;return!0},subset:nV},ZL={exact:function Cpe(t,e){return Bo(t,e)},subset:function xpe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XL(t[n],e[n]))},ignored:()=>!0};function eV(t,e,n){return Epe[n.paths](t.root,e.root,n.matrixParams)&&ZL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function nV(t,e,n){return rV(t,e,e.segments,n)}function rV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Nc(i,n)||e.hasChildren()||!l2(i,n,r))}if(t.segments.length===n.length){if(!Nc(t.segments,n)||!l2(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!nV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Nc(t.segments,i)&&l2(t.segments,i,r)&&t.children[it])&&rV(t.children[it],e,o,r)}}function l2(t,e,n){return e.every((r,i)=>ZL[n](t[i].parameters,r.parameters))}class Qu{constructor(e=new Ft([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yu(this.queryParams)),this._queryParamMap}toString(){return wpe.serialize(this)}}class Ft{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u2(this)}}class _p{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yu(this.parameters)),this._parameterMap}toString(){return sV(this)}}function Nc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let vp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new PI},providedIn:"root"}),e})();class PI{parse(e){const n=new Fpe(e);return new Qu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${yp(e.root,!0)}`,r=function Spe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${d2(n)}=${d2(i)}`).join("&"):`${d2(n)}=${d2(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Ape(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const wpe=new PI;function u2(t){return t.segments.map(e=>sV(e)).join("/")}function yp(t,e){if(!t.hasChildren())return u2(t);if(e){const n=t.children[it]?yp(t.children[it],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${yp(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bpe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===it&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==it&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===it?[yp(t.children[it],!1)]:[`${i}:${yp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[it]?`${u2(t)}/${n[0]}`:`${u2(t)}/(${n.join("//")})`}}function iV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d2(t){return iV(t).replace(/%3B/gi,";")}function MI(t){return iV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function f2(t){return decodeURIComponent(t)}function oV(t){return f2(t.replace(/\+/g,"%20"))}function sV(t){return`${MI(t.path)}${function Tpe(t){return Object.keys(t).map(e=>`;${MI(e)}=${MI(t[e])}`).join("")}(t.parameters)}`}const Dpe=/^[^\/()?;#]+/;function RI(t){const e=t.match(Dpe);return e?e[0]:""}const Ppe=/^[^\/()?;=#]+/,Rpe=/^[^=?&#]+/,Npe=/^[^&#]+/;class Fpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[it]=new Ft(e,n)),r}parseSegment(){const e=RI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new _p(f2(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Mpe(t){const e=t.match(Ppe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=RI(this.remaining);i&&(r=i,this.capture(r))}e[f2(n)]=f2(r)}parseQueryParam(e){const n=function kpe(t){const e=t.match(Rpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Ope(t){const e=t.match(Npe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=oV(n),o=oV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=RI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new Ft([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}}function aV(t){return t.segments.length>0?new Ft([],{[it]:t}):t}function cV(t){const e={};for(const r of Object.keys(t.children)){const o=cV(t.children[r]);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Lpe(t){if(1===t.numberOfChildren&&t.children[it]){const e=t.children[it];return new Ft(t.segments.concat(e.segments),e.children)}return t}(new Ft(t.segments,e))}function Oc(t){return t instanceof Qu}function lV(t){let e;const i=aV(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new Ft(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function uV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return kI(i,i,i,n,r);const o=function Bpe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new fV(n,e,r)}(e);if(o.toRoot())return kI(i,i,new Ft([],{}),n,r);const s=function Hpe(t,e,n){if(t.isAbsolute)return new p2(e,!0,0);if(!n)return new p2(e,!1,NaN);if(null===n.parent)return new p2(n,!0,0);const r=h2(t.commands[0])?0:1;return function zpe(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new p2(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Cp(s.segmentGroup,s.index,o.commands):hV(s.segmentGroup,s.index,o.commands);return kI(i,s.segmentGroup,a,n,r)}function h2(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ep(t){return"object"==typeof t&&null!=t&&t.outlets}function kI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=t===e?n:dV(t,e,n);const a=aV(cV(s));return new Qu(a,o,i)}function dV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:dV(o,e,n)}),new Ft(t.segments,r)}class fV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&h2(r[0]))throw new ie(4003,!1);const i=r.find(Ep);if(i&&i!==JL(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p2{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function hV(t,e,n){if(t||(t=new Ft([],{})),0===t.segments.length&&t.hasChildren())return Cp(t,e,n);const r=function jpe(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ep(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!gV(c,l,s))return o;r+=2}else{if(!gV(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ft(t.segments.slice(0,r.pathIndex),{});return o.children[it]=new Ft(t.segments.slice(r.pathIndex),t.children),Cp(o,0,i)}return r.match&&0===i.length?new Ft(t.segments,{}):r.match&&!t.hasChildren()?NI(t,e,n):r.match?Cp(t,0,i):NI(t,e,n)}function Cp(t,e,n){if(0===n.length)return new Ft(t.segments,{});{const r=function Upe(t){return Ep(t[0])?t[0].outlets:{[it]:t}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&t.children[it]&&1===t.numberOfChildren&&0===t.children[it].segments.length){const o=Cp(t.children[it],e,n);return new Ft(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=hV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ft(t.segments,i)}}function NI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ep(o)){const c=$pe(o.outlets);return new Ft(r,c)}if(0===i&&h2(n[0])){r.push(new _p(t.segments[e].path,pV(n[0]))),i++;continue}const s=Ep(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&h2(a)?(r.push(new _p(s,pV(a))),i+=2):(r.push(new _p(s,{})),i++)}return new Ft(r,{})}function $pe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=NI(new Ft([],{}),0,r))}),e}function pV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gV(t,e,n){return t==n.path&&Bo(e,n.parameters)}const xp="imperative";class Ho{constructor(e,n){this.id=e,this.url=n}}class OI extends Ho{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xu extends Ho{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ip extends Ho{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bp extends Ho{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class g2 extends Ho{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mV extends Ho{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gpe extends Ho{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qpe extends Ho{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wpe extends Ho{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kpe extends Ho{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ype{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _V{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FI{}class LI{constructor(e){this.url=e}}class e0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wp,this.attachRef=null}}let wp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new e0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=VI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=VI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=BI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return BI(e,this._root).map(n=>n.value)}}function VI(t,e){if(t===e.value)return e;for(const n of e.children){const r=VI(t,n);if(r)return r}return null}function BI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=BI(t,n);if(r.length)return r.unshift(e),r}return[]}class ws{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ju(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class yV extends vV{constructor(e,n){super(e),this.snapshot=n,HI(this,e)}toString(){return this.snapshot.toString()}}function EV(t,e){const n=function t0e(t,e){const s=new m2([],{},{},"",{},it,e,null,{});return new xV("",new ws(s,[]))}(0,e),r=new bi([new _p("",{})]),i=new bi({}),o=new bi({}),s=new bi({}),a=new bi(""),c=new Zu(r,i,s,a,o,it,e,n.root);return c.snapshot=n.root,new yV(new ws(c,[]),n)}class Zu{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(nt(l=>l[mp]))??je(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nt(e=>Yu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nt(e=>Yu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function n0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class m2{get title(){return this.data?.[mp]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xV extends vV{constructor(e,n){super(n),this.url=e,HI(this,n)}toString(){return IV(this._root)}}function HI(t,e){e.value._routerState=t,e.children.forEach(n=>HI(t,n))}function IV(t){const e=t.children.length>0?` { ${t.children.map(IV).join(", ")} } `:"";return`${t.value}${e}`}function zI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bo(e.params,n.params)||t.paramsSubject.next(n.params),function ype(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Bo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function UI(t,e){const n=Bo(t.params,e.params)&&function Ipe(t,e){return Nc(t,e)&&t.every((n,r)=>Bo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||UI(t.parent,e.parent))}let bV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=z(wp),this.location=z(Qi),this.changeDetector=z(Xi),this.environmentInjector=z(Pi),this.inputBinder=z(_2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new r0e(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=He({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mr]}),e})();class r0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zu?this.route:e===wp?this.childContexts:this.parent.get(e,n)}}const _2=new we("");function Ap(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function o0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ap(t,r,i);return Ap(t,r)})}(t,e,n);return new ws(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ap(t,a)),s}}const r=function s0e(t){return new Zu(new bi(t.url),new bi(t.params),new bi(t.queryParams),new bi(t.fragment),new bi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ap(t,o));return new ws(r,i)}}const jI="ngNavigationCancelingError";function AV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Oc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function TV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[jI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function SV(t){return t&&t[jI]}let $I=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["ng-component"]],standalone:!0,features:[g7],decls:1,vars:0,template:function(r,i){1&r&&Re(0,"router-outlet")},dependencies:[bV],encapsulation:2}),e})();function GI(t){const e=t.children&&t.children.map(GI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=$I),n}function so(t){return t.outlet||it}function Tp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class p0e{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ju(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ju(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ju(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ju(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _V(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jpe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(zI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Tp(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class DV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class v2{constructor(e,n){this.component=e,this.route=n}}function g0e(t,e,n){const r=t._root;return Sp(r,e?e._root:null,n,[r.value])}function ed(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Wj(t){return null!==x0(t)}(t)?e.get(t):t:r}function Sp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ju(e);return t.children.forEach(s=>{(function _0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function v0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nc(t.url,e.url)||!Bo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UI(t,e)||!Bo(t.queryParams,e.queryParams);default:return!UI(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new DV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Sp(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new v2(a.outlet.component,s))}else s&&Dp(e,a,i),i.canActivateChecks.push(new DV(r)),Sp(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dp(a,n.getContext(s),i)),i}function Dp(t,e,n){const r=Ju(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Dp(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new v2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pp(t){return"function"==typeof t}function PV(t){return t instanceof fp||"EmptyError"===t?.name}const y2=Symbol("INITIAL_VALUE");function td(){return wi(t=>qL(t.map(e=>e.pipe(Ku(1),aL(y2)))).pipe(nt(e=>{for(const n of e)if(!0!==n){if(n===y2)return y2;if(!1===n||n instanceof Qu)return n}return!0}),Fo(e=>e!==y2),Ku(1)))}function MV(t){return function ue(...t){return Be(t)}(lr(e=>{if(Oc(e))throw AV(0,e)}),nt(e=>!0===e))}class E2{constructor(e){this.segmentGroup=e||null}}class RV{constructor(e){this.urlTree=e}}function nd(t){return hp(new E2(t))}function kV(t){return hp(new RV(t))}class V0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ie(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return je(r);if(i.numberOfChildren>1||!i.children[it])return hp(new ie(4e3,!1));i=i.children[it]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Qu(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ft(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const qI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B0e(t,e,n,r,i){const o=WI(t,e,n);return o.matched?(r=function c0e(t,e){return t.providers&&!t._injector&&(t._injector=p7(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function O0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?je(i.map(s=>{const a=ed(s,t);return Ea(function b0e(t){return t&&Pp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(td(),MV()):je(!0)}(r,e,n).pipe(nt(s=>!0===s?o:{...qI}))):je(o)}function WI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...qI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vpe)(n,t,e);if(!i)return{...qI};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function NV(t,e,n,r){return n.length>0&&function U0e(t,e,n){return n.some(r=>C2(t,e,r)&&so(r)!==it)}(t,n,r)?{segmentGroup:new Ft(e,z0e(r,new Ft(n,t.children))),slicedSegments:[]}:0===n.length&&function j0e(t,e,n){return n.some(r=>C2(t,e,r))}(t,n,r)?{segmentGroup:new Ft(t.segments,H0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ft(t.segments,t.children),slicedSegments:n}}function H0e(t,e,n,r,i){const o={};for(const s of r)if(C2(t,n,s)&&!i[so(s)]){const a=new Ft([],{});o[so(s)]=a}return{...i,...o}}function z0e(t,e){const n={};n[it]=e;for(const r of t)if(""===r.path&&so(r)!==it){const i=new Ft([],{});n[so(r)]=i}return n}function C2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class W0e{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new V0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new ie(4002,!1)}recognize(){const e=NV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(kc(n=>{if(n instanceof RV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof E2?this.noMatchError(n):n}),nt(n=>{const r=new m2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new ws(r,n),o=new xV("",i),s=function Vpe(t,e,n=null,r=null){return uV(lV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(kc(r=>{throw r instanceof E2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=CV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return tr(i).pipe(pp(o=>{const s=r.children[o],a=function f0e(t,e){const n=t.filter(r=>so(r)===e);return n.push(...t.filter(r=>so(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function hpe(t,e){return Ue(function fpe(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ct(s,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),c2(null),function ppe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fo((i,o)=>t(i,o,r)):Ie,DI(1),n?c2(e):QL(()=>new fp))}(),er(o=>{if(null===o)return nd(r);const s=OV(o);return function K0e(t){t.sort((e,n)=>e.value.outlet===it?-1:n.value.outlet===it?1:e.value.outlet.localeCompare(n.value.outlet))}(s),je(s)}))}processSegment(e,n,r,i,o,s){return tr(n).pipe(pp(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(kc(c=>{if(c instanceof E2)return je(null);throw c}))),Rc(a=>!!a),kc(a=>{if(PV(a))return function G0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?je([]):nd(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function $0e(t,e,n,r){return!!(so(t)===r||r!==it&&C2(e,n,t))&&("**"===t.path||WI(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):nd(i):nd(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kV(o):this.applyRedirects.lineralizeSegments(r,o).pipe(er(s=>{const a=new Ft(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=WI(n,i,o);if(!a)return nd(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?kV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(er(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?JL(i).parameters:{};a=je({snapshot:new m2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FV(r),so(r),r.component??r._loadedComponent??null,r,LV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=B0e(n,r,i,e).pipe(nt(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new m2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FV(r),so(r),r.component??r._loadedComponent??null,r,LV(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(wi(c=>null===c?nd(n):this.getChildConfig(e=r._injector??e,r,i).pipe(wi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=NV(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(nt(D=>null===D?null:[new ws(d,D)]));if(0===l.length&&0===g.length)return je([new ws(d,[])]);const m=so(r)===o;return this.processSegment(u,l,p,g,m?it:o,!0).pipe(nt(D=>[new ws(d,D)]))}))))}getChildConfig(e,n,r){return n.children?je({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?je({routes:n._loadedRoutes,injector:n._loadedInjector}):function N0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?je(!0):je(i.map(s=>{const a=ed(s,t);return Ea(function E0e(t){return t&&Pp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(td(),MV())}(e,n,r).pipe(er(i=>i?this.configLoader.loadChildren(e,n).pipe(lr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function L0e(t){return hp(TV(!1,3))}())):je({routes:[],injector:e})}}function Y0e(t){const e=t.value.routeConfig;return e&&""===e.path}function OV(t){const e=[],n=new Set;for(const r of t){if(!Y0e(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=OV(r.children);e.push(new ws(r.value,i))}return e.filter(r=>!n.has(r))}function FV(t){return t.data||{}}function LV(t){return t.resolve||{}}function VV(t){return"string"==typeof t.title||null===t.title}function KI(t){return wi(e=>{const n=t(e);return n?tr(n).pipe(nt(()=>e)):je(e)})}const x2=new we("ROUTES");let BV=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(PJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return je(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ea(r.loadComponent()).pipe(nt(HV),lr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gp(()=>{this.componentLoaders.delete(r)})),o=new YL(i,()=>new re).pipe(SI());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function nge(t,e,n,r){return Ea(t.loadChildren()).pipe(nt(HV),er(i=>i instanceof f7||Array.isArray(i)?je(i):tr(e.compileModuleAsync(i))),nt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(x2,[],{optional:!0,self:!0}).flat()),{routes:s.map(GI),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(gp(()=>{this.childrenLoaders.delete(i)})),a=new YL(s,()=>new re).pipe(SI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function HV(t){return function rge(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let I2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=z(BV),this.environmentInjector=z(Pi),this.urlSerializer=z(vp),this.rootContexts=z(wp),this.inputBindingEnabled=null!==z(_2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Qpe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Ype(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new bi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fo(s=>0!==s.id),nt(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),wi(s=>{this.currentTransition=s;let a=!1,c=!1;return je(s).pipe(lr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new bp(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),fo}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return je(l).pipe(wi(h=>{const p=this.transitions?.getValue();return this.events.next(new OI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?fo:Promise.resolve(h)}),function Q0e(t,e,n,r,i,o){return er(s=>function q0e(t,e,n,r,i,o,s="emptyOnly"){return new W0e(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(nt(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),lr(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new mV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:m,extras:D}=l,b=new OI(h,this.urlSerializer.serialize(p),g,m);this.events.next(b);const W=EV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:W,urlAfterRedirects:p,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},je(s)}{const h="";return this.events.next(new bp(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),fo}}),lr(l=>{const u=new Gpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),nt(l=>(this.currentTransition=s={...l,guards:g0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function A0e(t,e){return er(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?je({...n,guardsResult:!0}):function T0e(t,e,n,r){return tr(t).pipe(er(i=>function k0e(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?je(o.map(a=>{const c=Tp(e)??i,l=ed(a,c);return Ea(function I0e(t){return t&&Pp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Rc())})).pipe(td()):je(!0)}(i.component,i.route,n,e,r)),Rc(i=>!0!==i,!0))}(s,r,i,t).pipe(er(a=>a&&function y0e(t){return"boolean"==typeof t}(a)?function S0e(t,e,n,r){return tr(e).pipe(pp(i=>Tx(function P0e(t,e){return null!==t&&e&&e(new Xpe(t)),je(!0)}(i.route.parent,r),function D0e(t,e){return null!==t&&e&&e(new Zpe(t)),je(!0)}(i.route,r),function R0e(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function m0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>KL(()=>je(s.guards.map(c=>{const l=Tp(s.node)??n,u=ed(c,l);return Ea(function x0e(t){return t&&Pp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Rc())})).pipe(td())));return je(o).pipe(td())}(t,i.path,n),function M0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return je(!0);const i=r.map(o=>KL(()=>{const s=Tp(e)??n,a=ed(o,s);return Ea(function C0e(t){return t&&Pp(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Rc())}));return je(i).pipe(td())}(t,i.route,n))),Rc(i=>!0!==i,!0))}(r,o,t,e):je(a)),nt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),lr(l=>{if(s.guardsResult=l.guardsResult,Oc(l.guardsResult))throw AV(0,l.guardsResult);const u=new qpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Fo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),KI(l=>{if(l.guards.canActivateChecks.length)return je(l).pipe(lr(u=>{const d=new Wpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wi(u=>{let d=!1;return je(u).pipe(function X0e(t,e){return er(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return je(n);let o=0;return tr(i).pipe(pp(s=>function J0e(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!VV(i)&&(o[mp]=i.title),function Z0e(t,e,n,r){const i=function ege(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return je({});const o={};return tr(i).pipe(er(s=>function tge(t,e,n,r){const i=Tp(e)??r,o=ed(t,i);return Ea(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Rc(),lr(a=>{o[s]=a}))),DI(1),function gpe(t){return nt(()=>t)}(o),kc(s=>PV(s)?fo:hp(s)))}(o,t,e,r).pipe(nt(s=>(t._resolvedData=s,t.data=CV(t,n).resolve,i&&VV(i)&&(t.data[mp]=i.title),null)))}(s.route,r,t,e)),lr(()=>o++),DI(1),er(s=>o===i.length?je(n):fo))})}(r.paramsInheritanceStrategy,this.environmentInjector),lr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),lr(u=>{const d=new Kpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),KI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(lr(h=>{d.component=h}),nt(()=>{})));for(const h of d.children)f.push(...u(h));return f};return qL(u(l.targetSnapshot.root)).pipe(c2(),Ku(1))}),KI(()=>this.afterPreactivation()),nt(l=>{const u=function i0e(t,e,n){const r=Ap(t,e._root,n?n._root:void 0);return new yV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),lr(()=>{this.events.next(new FI)}),((t,e,n,r)=>nt(i=>(new p0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ku(1),lr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function mpe(t){return Ue((e,n)=>{vr(t).subscribe(ct(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(lr(l=>{throw l}))),gp(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),kc(l=>{if(c=!0,SV(l))this.events.next(new Ip(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function a0e(t){return SV(t)&&Oc(t.url)}(l)?this.events.next(new LI(l.url)):s.resolve(!1);else{this.events.next(new g2(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){s.reject(u)}}return fo}))}))}cancelNavigationTransition(r,i,o){const s=new Ip(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zV(t){return t!==xp}let UV=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(r){return r.data[mp]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return z(ige)},providedIn:"root"}),e})(),ige=(()=>{var t;class e extends UV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(z4))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return z(age)},providedIn:"root"}),e})();class sge{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let age=(()=>{var t;class e extends sge{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=ar(t)))(i||t)}}(),t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const YI=new we("",{providedIn:"root",factory:()=>({})});let cge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return z(lge)},providedIn:"root"}),e})(),lge=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Mp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Mp||{});function uge(t){throw t}function dge(t,e,n){return e.parse("/")}const fge={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hge={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ao=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z(sP),this.isNgZoneEnabled=!1,this._events=new re,this.options=z(YI,{optional:!0})||{},this.pendingTasks=z(Vg),this.errorHandler=this.options.errorHandler||uge,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dge,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(cge),this.routeReuseStrategy=z(oge),this.titleStrategy=z(UV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(x2,{optional:!0})?.flat()??[],this.navigationTransitions=z(I2),this.urlSerializer=z(vp),this.location=z(m4),this.componentInputBindingEnabled=!!z(_2,{optional:!0}),this.eventsSubscription=new Z,this.isNgZoneEnabled=z(Et)instanceof Et&&Et.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void($V(i)&&this._events.next(i));if(i instanceof OI)zV(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof bp)this.rawUrlTree=o.rawUrl;else if(i instanceof mV){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof FI)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Ip)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof LI){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zV(o.source)};this.scheduleNavigation(s,xp,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof g2&&this.restoreHistory(o,!0),i instanceof Xu&&(this.navigated=!0),$V(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xp,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(GI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=lV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return uV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Oc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,xp,null,i)}navigate(r,i={skipLocationChange:!1}){return function pge(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ie(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...fge}:!1===i?{...hge}:i,Oc(r))return eV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return eV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function jV(t,e){t.events.pipe(Fo(n=>n instanceof Xu||n instanceof Ip||n instanceof g2||n instanceof bp),nt(n=>n instanceof Xu||n instanceof bp?Mp.COMPLETE:n instanceof Ip&&(0===n.code||1===n.code)?Mp.REDIRECTING:Mp.FAILED),Fo(n=>n!==Mp.REDIRECTING),Ku(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $V(t){return!(t instanceof FI||t instanceof LI)}class rd{constructor(e){return e}}const XV="analytics",ZI="__angularfire_symbol__analyticsIsSupportedValue",JV="__angularfire_symbol__analyticsIsSupported";globalThis[JV]||=Zhe().then(t=>globalThis[ZI]=t).catch(()=>globalThis[ZI]=!1);const b2={async:()=>globalThis[JV],sync:()=>{const t=globalThis[ZI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},ZV=b2.async,Ige=Dn(Xhe,!0),Rp=Dn(HL,!0),bge=Dn(epe,!0);let eB=(()=>{var t;class e{constructor(r,i,o){let s;wt(this,"initialized",void 0),wt(this,"disposables",[]),gn("angularfire",Ys.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),ZV().then(()=>{const a=o.get(rd);a?this.disposables=[y9(r).subscribe(c=>{bge(a,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)(ke(nh),ke(Et),ke(Ln))}),wt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const tB="firebase_screen_id",eb="outlet",kp="screen_class",nB="screen_name";let Fge=Math.floor(Math.random()*(2**32-1))-2**31;const tb={},Lge=t=>{const e=[t[kp],t[eb]].join("#");if(tb.hasOwnProperty(e))return tb[e];{const n=Fge++;return tb[e]=n,n}},Vge=(t,e,n)=>t.events.pipe(Fo(i=>i instanceof _V)).pipe(wi(i=>{const s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return je(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[nB]:l,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:l,[eb]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===$I){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return je({...u,[kp]:d});if(d){const f=n.resolveComponentFactory(d);return je({...u,[kp]:f.selector})}return je(null)}),Fo(i=>!!i),nt(i=>({firebase_screen_class:i[kp],[tB]:Lge(i),...i})),function _fe(t,e,n,r){return Ue((i,o)=>{let s;e&&"function"!=typeof e?({duration:n,element:s,connector:r}=e):s=e;const a=new Map,c=p=>{a.forEach(p),p(o)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new ot(o,p=>{try{const g=t(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new re);const D=function h(p,g){const m=new me(D=>{u++;const b=g.subscribe(D);return()=>{b.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return m.key=p,m}(g,m);if(o.next(D),n){const b=ct(m,()=>{m.complete(),b?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(vr(n(D)).subscribe(b))}}m.next(s?s(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[eb]),er(i=>i.pipe(qw((o,s)=>JSON.stringify(o)===JSON.stringify(s)),aL(void 0),function yfe(){return Ue((t,e)=>{let n,r=!1;t.subscribe(ct(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}(),nt(([o,s])=>o?{firebase_previous_class:o[kp],firebase_previous_screen:o[nB],firebase_previous_id:o[tB],...s}:s))));let Bge=(()=>{var t;class e{constructor(r,i,o,s,a,c){wt(this,"disposable",void 0),gn("angularfire",Ys.full,"screen-tracking"),ZV().then(()=>{const l=c.get(rd);!r||!l||s.runOutsideAngular(()=>{this.disposable=Vge(r,i,o).pipe(wi(function(){var u=_(function*(d){return a&&(yield a.initialized),Rp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)(ke(ao,8),ke(z4,8),ke(tf),ke(Et),ke(eB,8),ke(Ln))}),wt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const nb=new we("angularfire2.analytics-instances");function zge(t){return(e,n)=>{if(!b2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new rd(r)}}const Uge={provide:class xge{constructor(){return m1(XV)}},deps:[[new Lt,nb]]},jge={provide:rd,useFactory:function Hge(t,e){if(!b2.sync())return null;const n=g1(XV,t,e);return n&&new rd(n)},deps:[[new Lt,nb],nc]};let $ge=(()=>{var t;class e{constructor(r,i){gn("angularfire",Ys.full,"analytics")}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)(ke(Bge,8),ke(eB,8))}),wt(e,"\u0275mod",Pt({type:t})),wt(e,"\u0275inj",Tt({providers:[jge,Uge,{provide:oP,useValue:b2.async,multi:!0}]})),e})();function Gge(t,...e){return{ngModule:$ge,providers:[{provide:nb,useFactory:zge(t),multi:!0,deps:[Et,Ln,Uf,jf,...e]}]}}let rB=(()=>{var t;class e{constructor(){this.localStorageService=z(Xn),this.delay=function(){var r=_(function*(i){return new Promise(o=>setTimeout(o,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let o=this.localStorageService.remoteMetadata().dgtVersion,s=this.localStorageService.localMetadata().dgtVersion;i.next(null!==o&&o!==s&&o.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(2e3).finally(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const o=this.localStorageService.get(Ve.USER);this.localStorageService.clearAll(),this.localStorageService.cache(Ve.USER,o),this.localStorageService.cache(Ve.LOCAL_METADATA,i),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),qge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=He({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&pf("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const Wge=["updateNotification"];function Kge(t,e){1&t&&Re(0,"span",25,26)}let Yge=(()=>{var t;class e{constructor(){this.dgAPI=z(gi),this.changeDetector=z(Xi),this.authService=z(Bi),this.changelogService=z(rB),this.analytics=z(rd),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");Rp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),Rp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new me(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&hi(Wge,5),2&r){let o;Jr(o=Zr())&&(i.updateNotification=o.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(M(0,"div",0)(1,"ul",1)(2,"li",2),ze(3,Kge,2,0,"span",3),kt(4,"async"),M(5,"a",4),Re(6,"img",5),M(7,"span",6),$(8,"home"),P()()(),M(9,"li",7)(10,"a",8),Re(11,"img",9),M(12,"span",6),$(13,"planets"),P()()(),M(14,"li",10)(15,"a",11),Re(16,"img",12),M(17,"span",6),$(18,"radar"),P()()(),M(19,"li",13)(20,"a",14),Re(21,"img",15),M(22,"span",6),$(23,"fleets"),P()()(),M(24,"li",16)(25,"a",17),Re(26,"img",18),M(27,"span",6),$(28,"navigation"),P()()(),M(29,"li",19)(30,"a",20),Re(31,"img",21),M(32,"span",6),$(33,"research"),P()()(),M(34,"li",22)(35,"a",23),Re(36,"img",24),M(37,"span",6),$(38,"alliances"),P()()()()()),2&r&&(U(2),oe("tabName","home"),U(1),oe("ngIf",Ri(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),U(6),oe("tabName","planets"),U(5),oe("tabName","radar"),U(5),oe("tabName","fleets"),U(5),oe("tabName","navigation"),U(5),oe("tabName","research"),U(5),oe("tabName","alliances"))},dependencies:[Zi,qge,Pf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const Zn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},rb=new Map,iB={activated:!1,tokenObservers:[]},Qge={initialized:!1,enabled:!1};function vn(t){return rb.get(t)||Object.assign({},iB)}function w2(){return Qge}const ib="https://content-firebaseappcheck.googleapis.com/v1",e1e="exchangeDebugToken",oB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class n1e{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new $l,yield function r1e(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $l,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const gr=new Ws("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function A2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function ob(t){if(!vn(t).activated)throw gr.create("use-before-activation",{appName:t.name})}function sb(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),o=e-3600*n*24-3600*r-60*i;let s="";return n&&(s+=T2(n)+"d:"),r&&(s+=T2(r)+"h:"),s+=T2(i)+"m:"+T2(o)+"s",s}function T2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function S2(t,e){return ab.apply(this,arguments)}function ab(){return ab=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw gr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw gr.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw gr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),ab.apply(this,arguments)}function sB(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ib}/projects/${n}/apps/${r}:${e1e}?key=${i}`,body:{debug_token:e}}}const a1e="firebase-app-check-database",c1e=1,Np="firebase-app-check-store",aB="debug-token";let D2=null;function cB(){return D2||(D2=new Promise((t,e)=>{try{const n=indexedDB.open(a1e,c1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(gr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Np,{keyPath:"compositeKey"})}}catch(n){e(gr.create("storage-open",{originalErrorMessage:n?.message}))}}),D2)}function lB(t,e){return cb.apply(this,arguments)}function cb(){return cb=_(function*(t,e){const r=(yield cB()).transaction(Np,"readwrite"),o=r.objectStore(Np).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(gr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),cb.apply(this,arguments)}function uB(t){return lb.apply(this,arguments)}function lb(){return lb=_(function*(t){const n=(yield cB()).transaction(Np,"readonly"),i=n.objectStore(Np).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{const c=a.target.result;o(c?c.value:void 0)},n.onerror=a=>{var c;s(gr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),lb.apply(this,arguments)}function dB(t){return`${t.options.appId}-${t.name}`}const Op=new Bf("@firebase/app-check");function ub(){return ub=_(function*(t){if(Nf()){let e;try{e=yield function l1e(t){return uB(dB(t))}(t)}catch(n){Op.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),ub.apply(this,arguments)}function db(t,e){return Nf()?function u1e(t,e){return lB(dB(t),e)}(t,e).catch(n=>{Op.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fb(){return fb=_(function*(){let t;try{t=yield function f1e(){return uB(aB)}()}catch{}if(t)return t;{const e=Dne();return function d1e(t){return lB(aB,t)}(e).catch(n=>Op.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),fb.apply(this,arguments)}function hb(){return w2().enabled}function pb(){return gb.apply(this,arguments)}function gb(){return gb=_(function*(){const t=w2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gb.apply(this,arguments)}const m1e={error:"UNKNOWN_ERROR"};function _1e(t){return q4.encodeString(JSON.stringify(t),!1)}function P2(t){return mb.apply(this,arguments)}function mb(){return mb=_(function*(t,e=!1){const n=t.app;ob(n);const r=vn(n);let o,i=r.token;if(i&&!id(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(id(c)?i=c:yield db(n,void 0))}if(!e&&i&&id(i))return{token:i.token};let a,s=!1;if(hb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=S2(sB(n,yield pb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield db(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield vn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Op.warn(c.message):Op.error(c),o=c}return i?o?a=id(i)?{token:i.token,internalError:o}:gB(o):(a={token:i.token},r.token=i,yield db(n,i)):a=gB(o),s&&pB(n,a),a}),mb.apply(this,arguments)}function _b(){return _b=_(function*(t){const e=t.app;ob(e);const{provider:n}=vn(e);if(hb()){const r=yield pb(),{token:i}=yield S2(sB(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),_b.apply(this,arguments)}function vb(t,e,n,r){const{app:i}=t,o=vn(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&id(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),hB(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hB(t))}function yb(t,e){const n=vn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function hB(t){const{app:e}=t,n=vn(e);let r=n.tokenRefresher;r||(r=function v1e(t){const{app:e}=t;return new n1e(_(function*(){let r;if(r=vn(e).token?yield P2(t,!0):yield P2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=vn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},oB.RETRIAL_MIN_WAIT,oB.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function pB(t,e){const n=vn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function id(t){return t.expireTimeMillis-Date.now()>0}function gB(t){return{token:_1e(m1e),error:t}}class y1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=vn(this.app);for(const n of e)yb(this.app,n.next);return Promise.resolve()}}function A1e(t,e){const n=new $l;vn(t).reCAPTCHAState={initialized:n};const i=function mB(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),o=A2(!1);return o?M2(t,e,o,i,n):function D1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const s=A2(!1);if(!s)throw new Error("no recaptcha");M2(t,e,s,i,n)}),n.promise}function M2(t,e,n,r,i){n.ready(()=>{(function S1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{vn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{vn(t).reCAPTCHAState.succeeded=!1}}),o=vn(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function Eb(){return Eb=_(function*(t){ob(t);const n=yield vn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=vn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}),Eb.apply(this,arguments)}class co{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return _(function*(){var n,r,i;!function CB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw gr.create("throttled",{time:sb(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const o=yield function _B(t){return Eb.apply(this,arguments)}(e._app).catch(a=>{throw gr.create("recaptcha-error")});if(null===(n=vn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw gr.create("recaptcha-error");let s;try{s=yield S2(function o1e(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ib}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,o),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function EB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=X4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),gr.create("throttled",{time:sb(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,s})()}initialize(e){this._app=e,this._heartbeatServiceProvider=Ao(e,"heartbeat"),A1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof co&&this._siteKey===e._siteKey}}function M1e(t=ql(),e){const n=Ao(t=pn(t),"app-check");if(w2().initialized||function g1e(){const t=LM(),e=w2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new $l;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function p1e(){return fb.apply(this,arguments)}())}(),hb()&&pb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw gr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function R1e(t,e,n){const r=function Xge(t,e){return rb.set(t,e),rb.get(t)}(t,Object.assign({},iB));r.activated=!0,r.provider=e,r.cachedTokenPromise=function h1e(t){return ub.apply(this,arguments)}(t).then(i=>(i&&id(i)&&(r.token=i,pB(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),vn(t).isTokenAutoRefreshEnabled&&vb(r,"INTERNAL",()=>{}),r}const xB="app-check-internal";!function N1e(){Oi(new mi("app-check",t=>function E1e(t,e){return new y1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xB).initialize()})),Oi(new mi(xB,t=>function C1e(t){return{getToken:e=>P2(t,e),getLimitedUseToken:()=>function fB(t){return _b.apply(this,arguments)}(t),addTokenListener:e=>vb(t,"INTERNAL",e),removeTokenListener:e=>yb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),gn("@firebase/app-check","0.8.0")}();class xb{constructor(e){return e}}const Ib=new we("angularfire2.app-check-instances"),F1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function L1e(t){return(e,n,r)=>{!M4(r)&&F1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new xb(i)}}const V1e={provide:u6,deps:[[new Lt,Ib]]},B1e={provide:xb,useFactory:function O1e(t,e){const n=g1(aR,t,e);return n&&new xb(n)},deps:[[new Lt,Ib],nc,Eo]};let H1e=(()=>{var t;class e{constructor(){gn("angularfire",Ys.full,"app-check")}}return t=e,wt(e,"\u0275fac",function(r){return new(r||t)}),wt(e,"\u0275mod",Pt({type:t})),wt(e,"\u0275inj",Tt({providers:[B1e,V1e]})),e})();function Ts(t,...e){return{ngModule:H1e,providers:[{provide:Ib,useFactory:L1e(t),multi:!0,deps:[Et,Ln,Eo,Uf,jf,...e]}]}}const Ss=Dn(M1e,!0);let z1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[Yge]}),t.\u0275inj=Tt({imports:[Br,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Gge(()=>Ige())]}),e})();class U1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class j1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class IB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class bB{constructor(){this._resources=new j1e,this._workers=new IB,this._soldiers=new IB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var kn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(kn||{});let wB=(()=>{var t;class e{constructor(){this.dgAPI=z(gi)}extractStats(){let r=new U1e;return r.stats.set(kn.ALL,new bB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new bB),r.stats.get(kn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(kn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(kn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(kn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(kn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(kn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(o=>{switch(o.name){case kn.METAL:r.stats.get(kn.ALL).resources.metalStored+=o.stored,r.stats.get(kn.ALL).resources.metalProduction+=o.production,r.stats.get(i.location[0]).resources.metalStored+=o.stored,r.stats.get(i.location[0]).resources.metalProduction+=o.production;break;case kn.MINERAL:r.stats.get(kn.ALL).resources.mineralStored+=o.stored,r.stats.get(kn.ALL).resources.mineralProduction+=o.production,r.stats.get(i.location[0]).resources.mineralStored+=o.stored,r.stats.get(i.location[0]).resources.mineralProduction+=o.production;break;case kn.FOOD:r.stats.get(kn.ALL).resources.foodStored+=o.stored,r.stats.get(kn.ALL).resources.foodProduction+=o.production,r.stats.get(i.location[0]).resources.foodStored+=o.stored,r.stats.get(i.location[0]).resources.foodProduction+=o.production;break;case kn.ENERGY:r.stats.get(kn.ALL).resources.energyStored+=o.stored,r.stats.get(kn.ALL).resources.energyProduction+=o.production,r.stats.get(i.location[0]).resources.energyStored+=o.stored,r.stats.get(i.location[0]).resources.energyProduction+=o.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=nr({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),bb=(()=>{var t;class e{constructor(){this.decimalPipe=z(ni)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=nr({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const G1e=function(t){return{"dgt-stats-totals-last-row":t}},Hi=function(t){return{"dgt-padding-bottom-xs":t}};function q1e(t,e){if(1&t&&(M(0,"tr",4)(1,"th",5)(2,"span",6),$(3),kt(4,"galaxyNameFormatter"),P(),M(5,"span",7),$(6),P()(),M(7,"td",8)(8,"div",9),Re(9,"img",10),M(10,"span",11),$(11),kt(12,"number"),P()()(),M(13,"td",12)(14,"div",9)(15,"span",11),$(16),kt(17,"resourceProductionFormatter"),P()()(),M(18,"td",13)(19,"div",14),Re(20,"img",15),M(21,"span",11),$(22),kt(23,"number"),P()()(),M(24,"td",12)(25,"div",14)(26,"span",11),$(27),kt(28,"resourceProductionFormatter"),P()()(),M(29,"td",13)(30,"div",16),Re(31,"img",17),M(32,"span",11),$(33),kt(34,"number"),P()()(),M(35,"td",12)(36,"div",16)(37,"span",11),$(38),kt(39,"resourceProductionFormatter"),P()()(),M(40,"td",13)(41,"div",18),Re(42,"img",19),M(43,"span",11),$(44),kt(45,"number"),P()()(),M(46,"td",20)(47,"div",18)(48,"span",11),$(49),kt(50,"resourceProductionFormatter"),P()()(),M(51,"td",21)(52,"div",22),Re(53,"img",23),M(54,"span",11),$(55),kt(56,"number"),P()()(),M(57,"td",24)(58,"div",25),Re(59,"img",26),M(60,"span",11),$(61),kt(62,"number"),P()()(),M(63,"td",27)(64,"div",28),Re(65,"img",29),M(66,"span",11),$(67),kt(68,"number"),P()()()()),2&t){const n=e.$implicit,r=e.index,i=st();oe("ngClass",Ze(64,G1e,r==i.panel.stats.size-1)),U(1),oe("ngClass",Ze(66,Hi,r==i.panel.stats.size-2)),U(2),qe(Ri(4,26,n.key)),U(3),qa("[",n.value.count,"]"),U(1),oe("ngClass",Ze(68,Hi,r==i.panel.stats.size-2)),U(4),qe($n(12,28,n.value.resources.metalStored,"1.0","en-US")),U(2),oe("ngClass",Ze(70,Hi,r==i.panel.stats.size-2)),U(3),qe(Ri(17,32,n.value.resources.metalProduction)),U(2),oe("ngClass",Ze(72,Hi,r==i.panel.stats.size-2)),U(4),qe($n(23,34,n.value.resources.mineralStored,"1.0","en-US")),U(2),oe("ngClass",Ze(74,Hi,r==i.panel.stats.size-2)),U(3),qe(Ri(28,38,n.value.resources.mineralProduction)),U(2),oe("ngClass",Ze(76,Hi,r==i.panel.stats.size-2)),U(4),qe($n(34,40,n.value.resources.foodStored,"1.0","en-US")),U(2),oe("ngClass",Ze(78,Hi,r==i.panel.stats.size-2)),U(3),qe(Ri(39,44,n.value.resources.foodProduction)),U(2),oe("ngClass",Ze(80,Hi,r==i.panel.stats.size-2)),U(4),qe($n(45,46,n.value.resources.energyStored,"1.0","en-US")),U(2),oe("ngClass",Ze(82,Hi,r==i.panel.stats.size-2)),U(3),qe(Ri(50,50,n.value.resources.energyProduction)),U(2),oe("ngClass",Ze(84,Hi,r==i.panel.stats.size-2)),U(4),qe($n(56,52,n.value.resources.ground,"1.0","en-US")),U(2),oe("ngClass",Ze(86,Hi,r==i.panel.stats.size-2)),U(4),qe($n(62,56,n.value.resources.orbit,"1.0","en-US")),U(2),oe("ngClass",Ze(88,Hi,r==i.panel.stats.size-2)),U(4),qe($n(68,60,n.value.soldiers.total,"1.0","en-US"))}}let W1e=(()=>{var t;class e{constructor(){this.statsPanelService=z(wB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"table",2),ze(3,q1e,69,90,"tr",3),kt(4,"keyvalue"),P()()()),2&r&&(U(3),oe("ngForOf",Ri(4,1,i.panel.stats)))},dependencies:[r1,Df,ni,oM,$1e,bb],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t){return(R2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function TB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wb(t,e){return function J1e(t){if(Array.isArray(t))return t}(t)||function eme(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,a,r=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(o)throw a}}return r}}(t,e)||SB(t,e)||function nme(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(t){return function X1e(t){if(Array.isArray(t))return Ab(t)}(t)||function Z1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||SB(t)||function tme(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SB(t,e){if(t){if("string"==typeof t)return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function Ab(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DB=function(){},Tb={},PB={},MB=null,RB={mark:DB,measure:DB};try{typeof window<"u"&&(Tb=window),typeof document<"u"&&(PB=document),typeof MutationObserver<"u"&&(MB=MutationObserver),typeof performance<"u"&&(RB=performance)}catch{}var O2,F2,L2,V2,B2,kB=(Tb.navigator||{}).userAgent,NB=void 0===kB?"":kB,Ca=Tb,Zt=PB,OB=MB,N2=RB,Ds=!!Zt.documentElement&&!!Zt.head&&"function"==typeof Zt.addEventListener&&"function"==typeof Zt.createElement,FB=~NB.indexOf("MSIE")||~NB.indexOf("Trident/"),Ps="___FONT_AWESOME___",LB="fa",VB="svg-inline--fa",Fc="data-fa-i2svg",Db="data-fa-pseudo-element",ime="data-fa-pseudo-element-pending",Pb="data-prefix",Mb="data-icon",BB="fontawesome-i2svg",ome="async",sme=["HTML","HEAD","STYLE","SCRIPT"],HB=function(){try{return!0}catch{return!1}}(),en="classic",yn="sharp",Rb=[en,yn];function Vp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[en]}})}var Bp=Vp((zn(O2={},en,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),zn(O2,yn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),O2)),Hp=Vp((zn(F2={},en,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),zn(F2,yn,{solid:"fass",regular:"fasr",light:"fasl"}),F2)),zp=Vp((zn(L2={},en,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),zn(L2,yn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),L2)),ame=Vp((zn(V2={},en,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),zn(V2,yn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),V2)),cme=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,zB="fa-layers-text",lme=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ume=Vp((zn(B2={},en,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),zn(B2,yn,{900:"fass",400:"fasr",300:"fasl"}),B2)),UB=[1,2,3,4,5,6,7,8,9,10],dme=UB.concat([11,12,13,14,15,16,17,18,19,20]),fme=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Lc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Up=new Set;Object.keys(Hp[en]).map(Up.add.bind(Up)),Object.keys(Hp[yn]).map(Up.add.bind(Up));var hme=[].concat(Rb,Lp(Up),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Lc.GROUP,Lc.SWAP_OPACITY,Lc.PRIMARY,Lc.SECONDARY]).concat(UB.map(function(t){return"".concat(t,"x")})).concat(dme.map(function(t){return"w-".concat(t)})),jp=Ca.FontAwesomeConfig||{};Zt&&"function"==typeof Zt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=wb(t,2),r=e[1],i=function gme(t){return""===t||"false"!==t&&("true"===t||t)}(function pme(t){var e=Zt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(jp[r]=i)});var jB={styleDefault:"solid",familyDefault:"classic",cssPrefix:LB,replacementClass:VB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jp.familyPrefix&&(jp.cssPrefix=jp.familyPrefix);var od=Me(Me({},jB),jp);od.autoReplaceSvg||(od.observeMutations=!1);var Fe={};Object.keys(jB).forEach(function(t){Object.defineProperty(Fe,t,{enumerable:!0,set:function(n){od[t]=n,$p.forEach(function(r){return r(Fe)})},get:function(){return od[t]}})}),Object.defineProperty(Fe,"familyPrefix",{enumerable:!0,set:function(e){od.cssPrefix=e,$p.forEach(function(n){return n(Fe)})},get:function(){return od.cssPrefix}}),Ca.FontAwesomeConfig=Fe;var $p=[],zo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},yme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Gp(){for(var t=12,e="";t-- >0;)e+=yme[62*Math.random()|0];return e}function sd(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function kb(t){return t.classList?sd(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function $B(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function H2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Nb(t){return t.size!==zo.size||t.x!==zo.x||t.y!==zo.y||t.rotate!==zo.rotate||t.flipX||t.flipY}var Ime=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function GB(){var t=LB,e=VB,n=Fe.cssPrefix,r=Fe.replacementClass,i=Ime;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var qB=!1;function Ob(){Fe.autoAddCss&&!qB&&(function vme(t){if(t&&Ds){var e=Zt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Zt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Zt.head.insertBefore(e,r)}}(GB()),qB=!0)}var bme={mixout:function(){return{dom:{css:GB,insertCss:Ob}}},hooks:function(){return{beforeDOMElementCreation:function(){Ob()},beforeI2svg:function(){Ob()}}}},Ms=Ca||{};Ms[Ps]||(Ms[Ps]={}),Ms[Ps].styles||(Ms[Ps].styles={}),Ms[Ps].hooks||(Ms[Ps].hooks={}),Ms[Ps].shims||(Ms[Ps].shims=[]);var lo=Ms[Ps],WB=[],z2=!1;function qp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?$B(t):"<".concat(e," ").concat(function Eme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat($B(t[n]),'" ')},"").trim()}(r),">").concat(o.map(qp).join(""),"</").concat(e,">")}function KB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Ds&&((z2=(Zt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Zt.readyState))||Zt.addEventListener("DOMContentLoaded",function t(){Zt.removeEventListener("DOMContentLoaded",t),z2=1,WB.map(function(e){return e()})}));var Fb=function(e,n,r,i){var c,l,u,o=Object.keys(e),s=o.length,a=void 0!==i?function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}}(n,i):n;for(void 0===r?(c=1,u=e[o[0]]):(c=0,u=r);c<s;c++)u=a(u,e[l=o[c]],l,e);return u};function Lb(t){var e=function Sme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function YB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Vb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=YB(e);"function"!=typeof lo.hooks.addPack||i?lo.styles[t]=Me(Me({},lo.styles[t]||{}),o):lo.hooks.addPack(t,YB(e)),"fas"===t&&Vb("fa",e)}var U2,j2,$2,ad=lo.styles,Pme=lo.shims,Mme=(zn(U2={},en,Object.values(zp[en])),zn(U2,yn,Object.values(zp[yn])),U2),Bb=null,QB={},XB={},JB={},ZB={},eH={},Rme=(zn(j2={},en,Object.keys(Bp[en])),zn(j2,yn,Object.keys(Bp[yn])),j2);var tH=function(){var e=function(o){return Fb(ad,function(s,a,c){return s[c]=Fb(a,o,{}),s},{})};QB=e(function(i,o,s){return o[3]&&(i[o[3]]=s),o[2]&&o[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=s}),i}),XB=e(function(i,o,s){return i[s]=s,o[2]&&o[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=s}),i}),eH=e(function(i,o,s){var a=o[2];return i[s]=s,a.forEach(function(c){i[c]=s}),i});var n="far"in ad||Fe.autoFetchSvg,r=Fb(Pme,function(i,o){var s=o[0],a=o[1],c=o[2];return"far"===a&&!n&&(a="fas"),"string"==typeof s&&(i.names[s]={prefix:a,iconName:c}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});JB=r.names,ZB=r.unicodes,Bb=G2(Fe.styleDefault,{family:Fe.familyDefault})};function Hb(t,e){return(QB[t]||{})[e]}function Vc(t,e){return(eH[t]||{})[e]}function nH(t){return JB[t]||{prefix:null,iconName:null}}function Ia(){return Bb}(function _me(t){$p.push(t)})(function(t){Bb=G2(t.styleDefault,{family:Fe.familyDefault})}),tH();var zb=function(){return{prefix:null,iconName:null,rest:[]}};function G2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?en:n;return Hp[r][t]||Hp[r][Bp[r][t]]||(t in lo.styles?t:null)||null}var rH=(zn($2={},en,Object.keys(zp[en])),zn($2,yn,Object.keys(zp[yn])),$2);function q2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,o=(zn(e={},en,"".concat(Fe.cssPrefix,"-").concat(en)),zn(e,yn,"".concat(Fe.cssPrefix,"-").concat(yn)),e),s=null,a=en;(t.includes(o[en])||t.some(function(l){return rH[en].includes(l)}))&&(a=en),(t.includes(o[yn])||t.some(function(l){return rH[yn].includes(l)}))&&(a=yn);var c=t.reduce(function(l,u){var d=function Nme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function kme(t){return~hme.indexOf(t)}(i)?null:i}(Fe.cssPrefix,u);if(ad[u]?(u=Mme[a].includes(u)?ame[a][u]:u,s=u,l.prefix=u):Rme[a].indexOf(u)>-1?(s=u,l.prefix=G2(u,{family:a})):d?l.iconName=d:u!==Fe.replacementClass&&u!==o[en]&&u!==o[yn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===s?nH(l.iconName):{},h=Vc(l.prefix,l.iconName);f.prefix&&(s=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!ad.far&&ad.fas&&!Fe.autoFetchSvg&&(l.prefix="fas")}return l},zb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===yn&&(ad.fass||Fe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Vc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===s)&&(c.prefix=Ia()||"fas"),c}var Lme=function(){function t(){(function K1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Y1e(t,e,n){e&&TB(t.prototype,e),n&&TB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(a){n.definitions[a]=Me(Me({},n.definitions[a]||{}),s[a]),Vb(a,s[a]);var c=zp[en][a];c&&Vb(c,s[a]),tH()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],a=s.prefix,c=s.iconName,l=s.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),iH=[],cd={},ld={},Vme=Object.keys(ld);function Ub(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(cd[t]||[]).forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function Bc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(cd[t]||[]).forEach(function(o){o.apply(null,n)})}function Rs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ld[t]?ld[t].apply(null,e):void 0}function jb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Ia();if(e)return e=Vc(n,e)||e,KB(oH.definitions,n,e)||KB(lo.styles,n,e)}var oH=new Lme,zme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ds?(Bc("beforeI2svg",e),Rs("pseudoElements2svg",e),Rs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Fe.autoReplaceSvg&&(Fe.autoReplaceSvg=!0),Fe.observeMutations=!0,function Ame(t){Ds&&(z2?setTimeout(t,0):WB.push(t))}(function(){jme({autoReplaceSvgRoot:n}),Bc("watch",e)})}},xi={noAuto:function(){Fe.autoReplaceSvg=!1,Fe.observeMutations=!1,Bc("noAuto")},config:Fe,dom:zme,parse:{icon:function(e){if(null===e)return null;if("object"===R2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Vc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=G2(e[0]);return{prefix:r,iconName:Vc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Fe.cssPrefix,"-"))>-1||e.match(cme))){var i=q2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ia(),iconName:Vc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var o=Ia();return{prefix:o,iconName:Vc(o,e)||e}}}},library:oH,findIconDefinition:jb,toHtml:qp},jme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Zt:n;(Object.keys(lo.styles).length>0||Fe.autoFetchSvg)&&Ds&&Fe.autoReplaceSvg&&xi.dom.i2svg({node:r})};function W2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return qp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Ds){var r=Zt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function $b(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,m=p.height,D="fak"===i,b=[Fe.replacementClass,o?"".concat(Fe.cssPrefix,"-").concat(o):""].filter(function(Un){return-1===d.classes.indexOf(Un)}).filter(function(Un){return""!==Un||!!Un}).concat(d.classes).join(" "),W={children:[],attributes:Me(Me({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},X=D&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};h&&(W.attributes[Fc]=""),c&&(W.children.push({tag:"title",attributes:{id:W.attributes["aria-labelledby"]||"title-".concat(u||Gp())},children:[c]}),delete W.attributes.title);var ge=Me(Me({},W),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:Me(Me({},X),d.styles)}),Ne=r.found&&n.found?Rs("generateAbstractMask",ge)||{children:[],attributes:{}}:Rs("generateAbstractIcon",ge)||{children:[],attributes:{}},St=Ne.attributes;return ge.children=Ne.children,ge.attributes=St,a?function Gme(t){var n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=!0===o?"".concat(t.prefix,"-").concat(Fe.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Me(Me({},i),{},{id:s}),children:r}]}]}(ge):function $me(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Nb(s)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=H2(Me(Me({},o),{},{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(ge)}function sH(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,c=void 0!==a&&a,l=Me(Me(Me({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(l[Fc]="");var u=Me({},s.styles);Nb(i)&&(u.transform=function xme(t){var e=t.transform,n=t.width,i=t.height,o=void 0===i?16:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&FB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=H2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var Gb=lo.styles;function qb(t){var e=t[0],n=t[1],o=wb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Fe.cssPrefix,"-").concat(Lc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Fe.cssPrefix,"-").concat(Lc.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Fe.cssPrefix,"-").concat(Lc.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var Wme={found:!1,width:512,height:512};function Wb(t,e){var n=e;return"fa"===e&&null!==Fe.styleDefault&&(e=Ia()),new Promise(function(r,i){if(Rs("missingIconAbstract"),"fa"===n){var s=nH(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Gb[e]&&Gb[e][t])return r(qb(Gb[e][t]));(function Kme(t,e){!HB&&!Fe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Me(Me({},Wme),{},{icon:Fe.showMissingIcons&&t&&Rs("missingIconAbstract")||{}}))})}var aH=function(){},Kb=Fe.measurePerformance&&N2&&N2.mark&&N2.measure?N2:{mark:aH,measure:aH},Wp='FA "6.4.2"',cH=function(e){Kb.mark("".concat(Wp," ").concat(e," ends")),Kb.measure("".concat(Wp," ").concat(e),"".concat(Wp," ").concat(e," begins"),"".concat(Wp," ").concat(e," ends"))},Yb={begin:function(e){return Kb.mark("".concat(Wp," ").concat(e," begins")),function(){return cH(e)}},end:cH},K2=function(){};function lH(t){return"string"==typeof(t.getAttribute?t.getAttribute(Fc):null)}function Zme(t){return Zt.createElementNS("http://www.w3.org/2000/svg",t)}function e2e(t){return Zt.createElement(t)}function uH(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Zme:e2e:n;if("string"==typeof t)return Zt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){i.appendChild(uH(s,{ceFn:r}))}),i}var Y2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(uH(i),n)}),null===n.getAttribute(Fc)&&Fe.keepOriginalSource){var r=Zt.createComment(function t2e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~kb(n).indexOf(Fe.replacementClass))return Y2.replace(e);var i=new RegExp("".concat(Fe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Fe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(a){return qp(a)}).join("\n");n.setAttribute(Fc,""),n.innerHTML=s}};function dH(t){t()}function fH(t,e){var n="function"==typeof e?e:K2;if(0===t.length)n();else{var r=dH;Fe.mutateApproach===ome&&(r=Ca.requestAnimationFrame||dH),r(function(){var i=function Jme(){return!0===Fe.autoReplaceSvg?Y2.replace:Y2[Fe.autoReplaceSvg]||Y2.replace}(),o=Yb.begin("mutate");t.map(i),o(),n()})}}var Qb=!1;function hH(){Qb=!0}function Xb(){Qb=!1}var Q2=null;function pH(t){if(OB&&Fe.observeMutations){var e=t.treeCallback,n=void 0===e?K2:e,r=t.nodeCallback,i=void 0===r?K2:r,o=t.pseudoElementsCallback,s=void 0===o?K2:o,a=t.observeMutationsRoot,c=void 0===a?Zt:a;Q2=new OB(function(l){if(!Qb){var u=Ia();sd(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!lH(d.addedNodes[0])&&(Fe.searchPseudoElements&&s(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Fe.searchPseudoElements&&s(d.target.parentNode),"attributes"===d.type&&lH(d.target)&&~fme.indexOf(d.attributeName))if("class"===d.attributeName&&function Qme(t){var e=t.getAttribute?t.getAttribute(Pb):null,n=t.getAttribute?t.getAttribute(Mb):null;return e&&n}(d.target)){var f=q2(kb(d.target)),p=f.iconName;d.target.setAttribute(Pb,f.prefix||u),p&&d.target.setAttribute(Mb,p)}else(function Xme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Fe.replacementClass)})(d.target)&&i(d.target)})}}),Ds&&Q2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function gH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function i2e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=q2(kb(t));return i.prefix||(i.prefix=Ia()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Ome(t,e){return(XB[t]||{})[e]}(i.prefix,t.innerText)||Hb(i.prefix,Lb(t.innerText))),!i.iconName&&Fe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,o=n.rest,s=function o2e(t){var e=sd(t.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Fe.autoA11y&&(n?e["aria-labelledby"]="".concat(Fe.replacementClass,"-title-").concat(r||Gp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Ub("parseNodeAttributes",{},t),c=e.styleParser?function r2e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],a=o.slice(1);return s&&a.length>0&&(r[s]=a.join(":").trim()),r},{})),n}(t):[];return Me({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:zo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},a)}var a2e=lo.styles;function mH(t){var e="nest"===Fe.autoReplaceSvg?gH(t,{styleParser:!1}):gH(t);return~e.extra.classes.indexOf(zB)?Rs("generateLayersText",t,e):Rs("generateSvgReplacementMutation",t,e)}var ba=new Set;function _H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ds)return Promise.resolve();var n=Zt.documentElement.classList,r=function(d){return n.add("".concat(BB,"-").concat(d))},i=function(d){return n.remove("".concat(BB,"-").concat(d))},o=Fe.autoFetchSvg?ba:Rb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(a2e));o.includes("fa")||o.push("fa");var s=[".".concat(zB,":not([").concat(Fc,"])")].concat(o.map(function(u){return".".concat(u,":not([").concat(Fc,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=sd(t.querySelectorAll(s))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Yb.begin("onTree"),l=a.reduce(function(u,d){try{var f=mH(d);f&&u.push(f)}catch(h){HB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){fH(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function c2e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;mH(t).then(function(n){n&&fH([n],e)})}function l2e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:jb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:jb(i||{})),t(r,Me(Me({},n),{},{mask:i}))}}Rb.map(function(t){ba.add("fa-".concat(t))}),Object.keys(Bp[en]).map(ba.add.bind(ba)),Object.keys(Bp[yn]).map(ba.add.bind(ba)),ba=Lp(ba);var u2e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?zo:r,o=n.symbol,s=void 0!==o&&o,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,m=void 0===g?[]:g,D=n.attributes,b=void 0===D?{}:D,W=n.styles,X=void 0===W?{}:W;if(e){var ge=e.prefix,Ne=e.iconName,fe=e.icon;return W2(Me({type:"icon"},e),function(){return Bc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Fe.autoA11y&&(f?b["aria-labelledby"]="".concat(Fe.replacementClass,"-title-").concat(p||Gp()):(b["aria-hidden"]="true",b.focusable="false")),$b({icons:{main:qb(fe),mask:c?qb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ge,iconName:Ne,transform:Me(Me({},zo),i),symbol:s,title:f,maskId:u,titleId:p,extra:{attributes:b,styles:X,classes:m}})})}},d2e={mixout:function(){return{icon:l2e(u2e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=_H,n.nodeCallback=c2e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,o=n.callback;return _H(void 0===r?Zt:r,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Wb(i,a),u.iconName?Wb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=wb(g,2);h([n,$b({icons:{main:m[0],mask:m[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:o,titleId:s,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,o=n.main,s=n.transform,c=H2(n.styles);return c.length>0&&(i.style=c),Nb(s)&&(l=Rs("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(l||o.icon),{children:r,attributes:i}}}},f2e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return W2({type:"layer"},function(){Bc("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(a){Array.isArray(a)?a.map(function(c){s=s.concat(c.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Fe.cssPrefix,"-layers")].concat(Lp(o)).join(" ")},children:s}]})}}}},h2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,s=r.classes,a=void 0===s?[]:s,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return W2({type:"counter",content:n},function(){return Bc("beforeDOMElementCreation",{content:n,params:r}),function qme(t){var e=t.content,n=t.title,r=t.extra,i=Me(Me(Me({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=H2(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:n.toString(),title:o,extra:{attributes:l,styles:d,classes:["".concat(Fe.cssPrefix,"-layers-counter")].concat(Lp(a))}})})}}}},p2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?zo:i,s=r.title,a=void 0===s?null:s,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return W2({type:"text",content:n},function(){return Bc("beforeDOMElementCreation",{content:n,params:r}),sH({content:n,transform:Me(Me({},zo),o),title:a,extra:{attributes:d,styles:h,classes:["".concat(Fe.cssPrefix,"-layers-text")].concat(Lp(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,a=null,c=null;if(FB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Fe.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,sH({content:n.innerHTML,width:a,height:c,transform:o,title:i,extra:s,watchable:!0})])}}},g2e=new RegExp('"',"ug"),vH=[1105920,1112319];function yH(t,e){var n="".concat(ime).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var s=sd(t.children).filter(function(fe){return fe.getAttribute(Db)===e})[0],a=Ca.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(lme),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(s&&!c)return t.removeChild(s),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?yn:en,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Hp[f][c[2].toLowerCase()]:ume[f][l],p=function m2e(t){var e=t.replace(g2e,""),n=function Dme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=vH[0]&&n<=vH[1],i=2===e.length&&e[0]===e[1];return{value:Lb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,m=p.isSecondary,D=c[0].startsWith("FontAwesome"),b=Hb(h,g),W=b;if(D){var X=function Fme(t){var e=ZB[t],n=Hb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);X.iconName&&X.prefix&&(b=X.iconName,h=X.prefix)}if(!b||m||s&&s.getAttribute(Pb)===h&&s.getAttribute(Mb)===W)r();else{t.setAttribute(n,W),s&&t.removeChild(s);var ge=function s2e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:zo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ne=ge.extra;Ne.attributes[Db]=e,Wb(b,h).then(function(fe){var St=$b(Me(Me({},ge),{},{icons:{main:fe,mask:zb()},prefix:h,iconName:W,extra:Ne,watchable:!0})),Un=Zt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Un,t.firstChild):t.appendChild(Un),Un.outerHTML=St.map(function(Ma){return qp(Ma)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function _2e(t){return Promise.all([yH(t,"::before"),yH(t,"::after")])}function v2e(t){return!(t.parentNode===document.head||~sme.indexOf(t.tagName.toUpperCase())||t.getAttribute(Db)||t.parentNode&&"svg"===t.parentNode.tagName)}function EH(t){if(Ds)return new Promise(function(e,n){var r=sd(t.querySelectorAll("*")).filter(v2e).map(_2e),i=Yb.begin("searchPseudoElements");hH(),Promise.all(r).then(function(){i(),Xb(),e()}).catch(function(){i(),Xb(),n()})})}var CH=!1,xH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],a=o.slice(1).join("-");if(s&&"h"===a)return r.flipX=!0,r;if(s&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(s){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Jb={x:0,y:0,width:"100%",height:"100%"};function IH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function x2e(t){return"g"===t.tag?t.children:[t]}var I2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?q2(i.split(" ").map(function(s){return s.trim()})):zb();return o.prefix||(o.prefix=Ia()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,a=n.maskId,u=o.icon,f=s.icon,h=function Cme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:s.width,iconWidth:o.width}),p={tag:"rect",attributes:Me(Me({},Jb),{},{fill:"white"})},g=u.children?{children:u.children.map(IH)}:{},m={tag:"g",attributes:Me({},h.inner),children:[IH(Me({tag:u.tag,attributes:Me(Me({},u.attributes),h.path)},g))]},D={tag:"g",attributes:Me({},h.outer),children:[m]},b="mask-".concat(a||Gp()),W="clip-".concat(a||Gp()),X={tag:"mask",attributes:Me(Me({},Jb),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,D]},ge={tag:"defs",children:[{tag:"clipPath",attributes:{id:W},children:x2e(f)},X]};return r.push(ge,{tag:"rect",attributes:Me({fill:"currentColor","clip-path":"url(#".concat(W,")"),mask:"url(#".concat(b,")")},Jb)}),{children:r,attributes:i}}}};!function Bme(t,e){var n=e.mixoutsTo;iH=t,cd={},Object.keys(ld).forEach(function(r){-1===Vme.indexOf(r)&&delete ld[r]}),iH.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(n[s]=i[s]),"object"===R2(i[s])&&Object.keys(i[s]).forEach(function(a){n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){cd[s]||(cd[s]=[]),cd[s].push(o[s])})}r.provides&&r.provides(ld)})}([bme,d2e,f2e,h2e,p2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=EH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Fe.searchPseudoElements&&EH(void 0===r?Zt:r)}}},{mixout:function(){return{dom:{unwatch:function(){hH(),CH=!0}}}},hooks:function(){return{bootstrap:function(){pH(Ub("mutationObserverCallbacks",{}))},noAuto:function(){!function n2e(){Q2&&Q2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;CH?Xb():pH(Ub("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return xH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=xH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:Me({},h.outer),children:[{tag:"g",attributes:Me({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Me(Me({},r.icon.attributes),h.path)}]}]}}}},I2e,{provides:function(e){var n=!1;Ca.matchMedia&&(n=Ca.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Me(Me({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Me(Me({},o),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Me(Me({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Me(Me({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Me(Me({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Me(Me({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Me(Me({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Me(Me({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Me(Me({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:xi});var T2e=xi.parse,S2e=xi.icon;const D2e=["*"],R2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let O2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const o of i.icon[2])"string"==typeof o&&(this.definitions[i.prefix][o]=i)}}addIconPacks(...r){for(const i of r){const o=Object.keys(i).map(s=>i[s]);this.addIcons(...o)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),F2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=He({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Mr]}),e})(),L2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Co),ne(Or))},t.\u0275cmp=On({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Mr],ngContentSelectors:D2e,decls:1,vars:0,template:function(r,i){1&r&&(function YS(t){const e=te()[Cn][yr];if(!e.projection){const r=e.projection=$d(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?wY(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function QS(t,e=0,n){const r=te(),i=_t(),o=Al(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),J_(),(!r[Qo]||rl())&&32!=(32&o.flags)&&function Iq(t,e,n){X5(e[Qe],0,e,n,Av(t,n,e),G5(n.parent||e[yr],n,e))}(i,r,o)}(0))},encapsulation:2}),e})(),V2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,o,s,a){this.sanitizer=r,this.config=i,this.iconLibrary=o,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const s=this.buildParams();this.renderIcon(o,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?T2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...R2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const o=S2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(SM),ne(O2e),ne(bH),ne(F2e,8),ne(L2e,8))},t.\u0275cmp=On({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(ky("innerHTML",i.renderedIconHTML,uT),Wi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Mr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Zb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})(),B2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[W1e]}),t.\u0275inj=Tt({providers:[ni,wB],imports:[Br,Zb]}),e})(),wH=(()=>{var t;class e{constructor(){this.firestore=z(oo),this.dgAPI=z(gi),this.decimalPipe=z(ni)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(r.type!=cr.SURFACE&&r.type!=cr.RESOURCE)return;const i=Tn(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);let o=ju(lp(i,bx("location","==",r.planetScan.location),oL(1))).subscribe(s=>{let a=Object.assign(new a1,s[0]);if(a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==cr.RESOURCE||r.type==cr.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==cr.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,l)=>{c.abundance=r.planetScan.resources[l].abundance,c.name=r.planetScan.resources[l].name}):a.resources=r.planetScan.resources),r.type==cr.SURFACE){a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures;let c=a.workers.currentNumber/15+1.5*a.soldiers+1;document.querySelector(".dgt-required-for-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(c),"1.0","en_US")}0==s.length?Vi(Jt(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):up(Jt(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}),o.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function H2e(t,e){1&t&&(M(0,"p",3),$(1,"Scan & Next works as normal Scan, but prefills the coordinates for the next planet. Automatically jumps to new system/sector/galaxy."),P())}let z2e=(()=>{var t;class e{constructor(){this.scanService=z(wH),this.authService=z(Bi),this.active=!1,this.initialized=!1}ngAfterViewInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(M(0,"div",0),Re(1,"span",1),P(),ze(2,H2e,2,0,"p",2)),2&r&&(U(2),oe("ngIf",i.active))},dependencies:[Zi],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),U2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[z2e]}),t.\u0275inj=Tt({providers:[wH,ni],imports:[Br,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),AH=(()=>{var t;class e{constructor(){this.firestore=z(oo),this.dgAPI=z(gi),this.resourceProductionFormatterPipe=z(bb),this.decimalPipe=z(ni)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(o=>o.location.join("."));this.scansSubscription=ju(lp(Tn(this.firestore,"scans-g"+i[0].split(/\./)[0]),bx("location","in",i))).subscribe(o=>{let a=Object.assign([],o).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Wt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Wt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Wt.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Wt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Wt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Wt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Wt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Wt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Wt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Wt.MEDICAL_CENTRE)&&(f+=.3),d.includes(Wt.LEISURE_CENTRE)&&(f+=.4),d.includes(Wt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function j2e(t,e){1&t&&(M(0,"p",4),$(1,"Do not share any screen shot from this page on Discord!"),P())}function $2e(t,e){1&t&&(M(0,"p",5),$(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),P())}let G2e=(()=>{var t;class e{constructor(){this.scanService=z(AH),this.authService=z(Bi),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:4,vars:2,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-warning",4,"ngIf"],["class","component-message",4,"ngIf"],[1,"component-warning"],[1,"component-message"]],template:function(r,i){1&r&&(M(0,"div",0),Re(1,"span",1),P(),ze(2,j2e,2,0,"p",2),ze(3,$2e,2,0,"p",3)),2&r&&(U(2),oe("ngIf",i.active),U(1),oe("ngIf",i.active))},dependencies:[Zi],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.component-warning[_ngcontent-%COMP%]{color:#ffffffad;background:#FF3B303B;margin:0;padding:5px;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),q2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[G2e]}),t.\u0275inj=Tt({providers:[ni,bb,AH],imports:[Br,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function W2e(t,e){if(1&t){const n=$a();M(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),$(6,"DGT Login"),P()()(),M(7,"tr",3)(8,"td"),Re(9,"input",4,5),P(),M(11,"td"),Re(12,"input",6,7),P()(),M(14,"tr",8)(15,"td",2)(16,"button",9),ht("click",function(){an(n);const i=wy(10),o=wy(13);return cn(st().signInWithEmailAndPassword(i.value,o.value))}),$(17,"Login"),P(),M(18,"button",10),ht("click",function(){return an(n),cn(st().signInWithGoogle())}),Re(19,"img",11),P()()()()()()}}let K2e=(()=>{var t;class e{constructor(){this.authService=z(Bi),this.auth=z(nh),this.firestore=z(oo),this.localStorageService=z(Xn),this.changeDetection=z(Xi),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new me(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Ve.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(ze(0,W2e,20,0,"div",0),kt(1,"async")),2&r&&oe("ngIf",Ri(1,1,i.displayLogin))},dependencies:[Zi,Pf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),Y2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[K2e]}),t.\u0275inj=Tt({imports:[Br,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var J2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let o4e=(()=>{var t;class e{constructor(){this.localStorageService=z(Xn)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let o=i+1;o<r.length;o++)if(r[i].stats&&r[o].stats&&r[i].stats.score<r[o].stats.score){const s=r[i];r[i]=r[o],r[o]=s}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(Ve.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Jz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Co),ne(Or))},t.\u0275dir=He({type:t}),e})(),Hc=(()=>{var t;class e extends Jz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=ar(t)))(i||t)}}(),t.\u0275dir=He({type:t,features:[Rt]}),e})();const Uo=new we("NgValueAccessor"),c4e={provide:Uo,useExisting:Ut(()=>Z2),multi:!0},u4e=new we("CompositionEventMode");let Z2=(()=>{var t;class e extends Jz{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l4e(){const t=$s()?$s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Co),ne(Or),ne(u4e,8))},t.\u0275dir=He({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ht("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nn([c4e]),Rt]}),e})();const Tr=new we("NgValidators"),Aa=new we("NgAsyncValidators");function lU(t){return null!=t}function uU(t){return hf(t)?tr(t):t}function dU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function fU(t,e){return e.map(n=>n(t))}function hU(t){return t.map(e=>function f4e(t){return!t.validate}(e)?e:n=>e.validate(n))}function ow(t){return null!=t?function pU(t){if(!t)return null;const e=t.filter(lU);return 0==e.length?null:function(n){return dU(fU(n,e))}}(hU(t)):null}function sw(t){return null!=t?function gU(t){if(!t)return null;const e=t.filter(lU);return 0==e.length?null:function(n){return function s4e(...t){const e=jw(t),{args:n,keys:r}=jL(t),i=new me(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;vr(n[u]).subscribe(ct(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?GL(r,a):a),o.complete())}))}});return e?i.pipe($L(e)):i}(fU(n,e).map(uU)).pipe(nt(dU))}}(hU(t)):null}function mU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aw(t){return t?Array.isArray(t)?t:[t]:[]}function t_(t,e){return Array.isArray(t)?t.includes(e):t===e}function yU(t,e){const n=aw(e);return aw(t).forEach(i=>{t_(n,i)||n.push(i)}),n}function EU(t,e){return aw(e).filter(n=>!t_(t,n))}class CU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ow(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class jr extends CU{get formDirective(){return null}get path(){return null}}class Ta extends CU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let IU=(()=>{var t;class e extends xU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Ta,2))},t.\u0275dir=He({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&pf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Rt]}),e})(),cw=(()=>{var t;class e extends xU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(jr,10))},t.\u0275dir=He({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&pf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Rt]}),e})();const Kp="VALID",r_="INVALID",ud="PENDING",Yp="DISABLED";function dw(t){return(i_(t)?t.validators:t)||null}function fw(t,e){return(i_(e)?e.asyncValidators:t)||null}function i_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class TU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kp}get invalid(){return this.status===r_}get pending(){return this.status==ud}get disabled(){return this.status===Yp}get enabled(){return this.status!==Yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(EU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(EU(e,this._rawAsyncValidators))}hasValidator(e){return t_(this._rawValidators,e)}hasAsyncValidator(e){return t_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ud,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Yp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Kp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kp||this.status===ud)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yp:Kp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ud,this._hasOwnPendingAsyncValidator=!0;const n=uU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Yp:this.errors?r_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ud)?ud:this._anyControlsHaveStatus(r_)?r_:Kp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){i_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function m4e(t){return Array.isArray(t)?ow(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _4e(t){return Array.isArray(t)?sw(t):t||null}(this._rawAsyncValidators)}}class hw extends TU{constructor(e,n,r){super(dw(n),fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function AU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ie(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function wU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[n])throw new ie(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const dd=new we("CallSetDisabledState",{providedIn:"root",factory:()=>o_}),o_="always";function Qp(t,e,n=o_){pw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function E4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&SU(t,e)})}(t,e),function x4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function C4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&SU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function y4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function c_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pw(t,e){const n=function _U(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(mU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function vU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(mU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();c_(e._rawValidators,i),c_(e._rawAsyncValidators,i)}function SU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const T4e={provide:jr,useExisting:Ut(()=>Jp)},Xp=(()=>Promise.resolve())();let Jp=(()=>{var t;class e extends jr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mt,this.form=new hw({},ow(r),sw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Xp.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Qp(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Xp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Xp.then(()=>{const i=this._findContainer(r.path),o=new hw({});(function DU(t,e){pw(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Xp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Xp.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function PU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Tr,10),ne(Aa,10),ne(dd,8))},t.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ht("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nn([T4e]),Rt]}),e})();function MU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function RU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const kU=class extends TU{constructor(e=null,n,r){super(dw(n),fw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),i_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=RU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},P4e={provide:Ta,useExisting:Ut(()=>vw)},FU=(()=>Promise.resolve())();let vw=(()=>{var t;class e extends Ta{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new kU,this._registered=!1,this.name="",this.update=new Mt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function _w(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Z2?n=o:function w4e(t){return Object.getPrototypeOf(t.constructor)===Hc}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function mw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){FU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&function zl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);FU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function s_(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(jr,9),ne(Tr,10),ne(Aa,10),ne(Uo,10),ne(Xi,8),ne(dd,8))},t.\u0275dir=He({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nn([P4e]),Rt,Mr]}),e})(),yw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),VU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})(),e6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({imports:[VU]}),e})(),Aw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:dd,useValue:r.callSetDisabledState??o_}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({imports:[e6e]}),e})(),n6e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=nr({name:"kickMemberFormatter",type:t,pure:!0}),e})();const r6e=["dgtSpinner"],i6e=["dgtMainContainer"];function o6e(t,e){if(1&t&&(M(0,"span",19),$(1),P()),2&t){const n=st().$implicit;U(1),qa("[",n.kickEta,"]")}}function s6e(t,e){if(1&t&&(M(0,"span",20),$(1,"DGT: "),M(2,"span",12),$(3),P()()),2&t){const n=st().$implicit;U(3),qe(n.dgtVersion)}}const a6e=function(){return["far","circle-xmark"]};function c6e(t,e){if(1&t){const n=$a();M(0,"div",21)(1,"form",22,23),ht("ngSubmit",function(i){return an(n),cn(st(4).onSubmitKickMember(i))}),Re(3,"input",24),kt(4,"kickMemberFormatter"),M(5,"button",25),Re(6,"fa-icon",26),P()()()}if(2&t){const n=st().$implicit;U(3),Ty("name",Ri(4,2,n.dgId)),U(3),oe("icon",function x7(t,e,n){const r=Rr()+t,i=te();return i[r]===Je?Io(i,r,n?e.call(n):e()):lf(i,r)}(4,a6e))}}function l6e(t,e){if(1&t&&(M(0,"div",8)(1,"div",9)(2,"span",10),$(3),P(),M(4,"span",11),$(5,"Rank: "),M(6,"span",12),$(7),kt(8,"number"),P()(),ze(9,o6e,2,1,"span",13),M(10,"span",14),$(11,"Score: "),M(12,"span",12),$(13),kt(14,"number"),P()(),M(15,"span",15),$(16,"Combat: "),M(17,"span",12),$(18),kt(19,"number"),P()(),M(20,"span",16),$(21,"Planets: "),M(22,"span",12),$(23),P()(),ze(24,s6e,4,1,"span",17),ze(25,c6e,7,5,"div",18),P()()),2&t){const n=e.$implicit,r=st(2).ngIf,i=st();U(3),qe(n.name),U(4),qe($n(8,8,n.stats.rank,"1.0","en-US")),U(2),oe("ngIf",null!=n.kickEta),U(4),qe($n(14,12,n.stats.score,"1.0","en-US")),U(5),qe($n(19,16,n.stats.combatScore,"1.0","en-US")),U(5),qe(n.stats.planets),U(1),oe("ngIf",n.dgtVersion&&(r===i.UserRole.TEAM_LEADER||r===i.UserRole.ADMIN)),U(1),oe("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function u6e(t,e){if(1&t&&(M(0,"div",5,6),ze(2,l6e,26,20,"div",7),P()),2&t){const n=st(2);U(2),oe("ngForOf",n.allianceMembers)}}function d6e(t,e){if(1&t&&(Hs(0),ze(1,u6e,3,1,"div",4),zs()),2&t){const n=st();U(1),oe("ngIf",n.active)}}let f6e=(()=>{var t;class e{constructor(r){this.authService=z(Bi),this.localStorageService=z(Xn),this.membersPanelService=z(o4e),this.active=!1,this.initialized=!1,this.UserRole=wx,r.addIcons(J2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new me(o=>{o.next(i.role),o.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Ve.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(bH))},t.\u0275cmp=On({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(hi(r6e,5),hi(i6e,5)),2&r){let o;Jr(o=Zr())&&(i.loadSpinner=o.first),Jr(o=Zr())&&(i.mainContainer=o.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-version stats",4,"ngIf"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-version","stats"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(M(0,"div",0,1),Re(2,"span",2),P(),ze(3,d6e,2,1,"ng-container",3),kt(4,"async")),2&r&&(U(3),oe("ngIf",Ri(4,1,i.role)))},dependencies:[Df,Zi,yw,cw,Jp,V2e,Pf,ni,n6e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .dgt-version[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),h6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[f6e]}),t.\u0275inj=Tt({imports:[Br,Aw,Zb,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),p6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),g6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[p6e]}),t.\u0275inj=Tt({imports:[Br]}),e})(),m6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),_6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[m6e]}),t.\u0275inj=Tt({imports:[Br]}),e})();const v6e=["dgtSpinner"],y6e=["dgtUpdatingModel"];function E6e(t,e){if(1&t){const n=$a();M(0,"div",12)(1,"span"),$(2,"There is a new update: "),M(3,"i")(4,"b"),$(5),P(),$(6," - "),P(),M(7,"a",13),ht("click",function(){return an(n),cn(st().installUpdate())}),$(8,"click here"),P(),$(9," to update your data"),P()()}if(2&t){const n=st();U(5),qe(n.newVersion)}}let C6e=(()=>{var t;class e{constructor(){this.changeLogService=z(rB),this.changeDetector=z(Xi),this.localStorageService=z(Xn),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new me(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(hi(v6e,5),hi(y6e,5)),2&r){let o;Jr(o=Zr())&&(i.loadSpinner=o.first),Jr(o=Zr())&&(i.dgtUpdatingModel=o.first)}},decls:81,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],[2,"display","none"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),$(2,"DarkGalaxy Tools "),M(3,"span"),$(4),P()(),M(5,"div",1,2),Re(7,"span",3),P(),ze(8,E6e,10,1,"div",4),kt(9,"async"),M(10,"div",5)(11,"div")(12,"span"),$(13,"Changelog:"),P()(),M(14,"ul")(15,"li"),$(16,"new - "),M(17,"b"),$(18,"Surface Scan"),P(),$(19," - number of soldiers required for invasion is displayed at each scan"),P(),M(20,"li"),$(21,"new - "),M(22,"b"),$(23,"Fleet Scan"),P(),$(24," - fleet score for any fleet that contain at least 1 war ship. Only Fighters, Bombers, Frigates, Destroyers, Cruisers and Battleships are considered war ships"),P(),M(25,"li"),$(26,"new - "),M(27,"b"),$(28,"Fleet Scan"),P(),$(29," - any ETA that has at least 1 war ship will display an additional line that contains Total allied fleets score VS Total hostile fleets score"),P()(),M(30,"div",6)(31,"span"),$(32,"Upcoming:"),P()(),M(33,"ul",6)(34,"li")(35,"b"),$(36,"Alliance Rankings"),P(),$(37," screen - added planets stats"),P(),M(38,"li"),$(39,"Notification for "),M(40,"b"),$(41,"Radar"),P(),$(42," when at least one allied planet (including yours) is attacked"),P(),M(43,"li")(44,"b"),$(45,"Research"),P(),$(46," queue cancel confirmation popup"),P(),M(47,"li")(48,"b"),$(49,"Navigation"),P(),$(50," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),P(),M(51,"li"),$(52,"Integration with Google Sheets"),P(),M(53,"li"),$(54,"Copy to clipboard various stats"),P(),M(55,"li"),$(56,"Fleet Scan statistics, including a fight simulation"),P()()(),M(57,"div",7)(58,"div")(59,"span"),$(60,"Important:"),P()(),M(61,"ul")(62,"li"),$(63,"please report any bug on "),M(64,"b"),$(65,"Whatsapp#Toolbox"),P(),$(66," channel"),P(),M(67,"li")(68,"b"),$(69,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),P(),$(70," - some of them are interfering with Firebase communication"),P()()()(),M(71,"div",8,9)(73,"div",10)(74,"span"),$(75,"Installing "),M(76,"i")(77,"b"),$(78),P()(),$(79,"..."),P(),Re(80,"img",11),P()()),2&r&&(U(4),qe(i.version),U(4),oe("ngIf",Ri(9,3,i.updateAvailable)),U(70),qe(i.newVersion))},dependencies:[Zi,Pf],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Sa(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new pe({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new fp)}});t.subscribe(o)})}class u_{}class d_{}class jo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof jo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new jo;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof jo?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class x6e{encodeKey(e){return nj(e)}encodeValue(e){return nj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const b6e=/%(\d[a-f0-9])/gi,w6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nj(t){return encodeURIComponent(t).replace(b6e,(e,n)=>w6e[n]??e)}function f_(t){return`${t}`}class Da{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new x6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function I6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(f_):[f_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Da({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(f_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(f_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class A6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rj(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ij(t){return typeof Blob<"u"&&t instanceof Blob}function oj(t){return typeof FormData<"u"&&t instanceof FormData}class Zp{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function T6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new jo),this.context||(this.context=new A6e),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Da,this.urlWithParams=n}serializeBody(){return null===this.body?null:rj(this.body)||ij(this.body)||oj(this.body)||function S6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Da?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oj(this.body)?null:ij(this.body)?this.body.type||null:rj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Da?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Zp(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var fd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fd||{});class Tw{constructor(e,n=200,r="OK"){this.headers=e.headers||new jo,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Sw extends Tw{constructor(e={}){super(e),this.type=fd.ResponseHeader}clone(e={}){return new Sw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hd extends Tw{constructor(e={}){super(e),this.type=fd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sj extends Tw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Dw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let e0=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Zp)s=r;else{let l,u;l=o.headers instanceof jo?o.headers:new jo(o.headers),o.params&&(u=o.params instanceof Da?o.params:new Da({fromObject:o.params})),s=new Zp(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=je(s).pipe(pp(l=>this.handler.handle(l)));if(r instanceof Zp||"events"===o.observe)return a;const c=a.pipe(Fo(l=>l instanceof hd));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(nt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(nt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(nt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(nt(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Da).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Dw(o,i))}post(r,i,o={}){return this.request("POST",r,Dw(o,i))}put(r,i,o={}){return this.request("PUT",r,Dw(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(u_))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function lj(t,e){return e(t)}function P6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const R6e=new we(""),t0=new we(""),uj=new we("");function k6e(){let t=null;return(e,n)=>{null===t&&(t=(z(R6e,{optional:!0})??[]).reduceRight(P6e,lj));const r=z(Vg),i=r.add();return t(e,n).pipe(gp(()=>r.remove(i)))}}let dj=(()=>{var t;class e extends u_{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=z(Vg)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(t0),...this.injector.get(uj,[])]));this.chain=o.reduceRight((s,a)=>function M6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),lj)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(gp(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(d_),ke(Pi))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const L6e=/^\)\]\}',?\n/;let hj=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ie(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?tr(i.\u0275loadImpl()):je(null)).pipe(wi(()=>new me(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,D)=>a.setRequestHeader(m,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const m=a.statusText||"OK",D=new jo(a.getAllResponseHeaders()),b=function V6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new Sw({headers:D,status:a.status,statusText:m,url:b}),l},d=()=>{let{headers:m,status:D,statusText:b,url:W}=u(),X=null;204!==D&&(X=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=X?200:0);let ge=D>=200&&D<300;if("json"===r.responseType&&"string"==typeof X){const Ne=X;X=X.replace(L6e,"");try{X=""!==X?JSON.parse(X):null}catch(fe){X=Ne,ge&&(ge=!1,X={error:fe,text:X})}}ge?(s.next(new hd({body:X,headers:m,status:D,statusText:b,url:W||void 0})),s.complete()):s.error(new sj({error:X,headers:m,status:D,statusText:b,url:W||void 0}))},f=m=>{const{url:D}=u(),b=new sj({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(b)};let h=!1;const p=m=>{h||(s.next(u()),h=!0);let D={type:fd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),"text"===r.responseType&&a.responseText&&(D.partialText=a.responseText),s.next(D)},g=m=>{let D={type:fd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),s.next({type:fd.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(cM))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const Pw=new we("XSRF_ENABLED"),pj=new we("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gj=new we("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mj{}let z6e=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZP(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(ke(ti),ke(Eo),ke(pj))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function U6e(t,e){const n=t.url.toLowerCase();if(!z(Pw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=z(mj).getToken(),i=z(gj);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Pa=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Pa||{});function Uc(t,e){return{\u0275kind:t,\u0275providers:e}}function j6e(...t){const e=[e0,hj,dj,{provide:u_,useExisting:dj},{provide:d_,useExisting:hj},{provide:t0,useValue:U6e,multi:!0},{provide:Pw,useValue:!0},{provide:mj,useClass:z6e}];for(const n of t)e.push(...n.\u0275providers);return function Lv(t){return{\u0275providers:t}}(e)}const _j=new we("LEGACY_INTERCEPTOR_FN");let vj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[j6e(Uc(Pa.LegacyInterceptors,[{provide:_j,useFactory:k6e},{provide:t0,useExisting:_j,multi:!0}]))]}),e})();class Mw{constructor(){this._score=0,this._combatScore=0,this._combinedScore=0,this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class Q6e{constructor(){this._stats=new Mw}get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats,dgtVersion:this.dgtVersion}}}class X6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,planetsTurn:this.planetsTurn}}}class Rw{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._totalMetalProduction=0,this._totalMineralProduction=0,this._totalFoodProduction=0,this._totalRequiredSoldiers=0}get totalMetalProduction(){return this._totalMetalProduction}set totalMetalProduction(e){this._totalMetalProduction=e}get totalMineralProduction(){return this._totalMineralProduction}set totalMineralProduction(e){this._totalMineralProduction=e}get totalFoodProduction(){return this._totalFoodProduction}set totalFoodProduction(e){this._totalFoodProduction=e}get totalRequiredSoldiers(){return this._totalRequiredSoldiers}set totalRequiredSoldiers(e){this._totalRequiredSoldiers=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total,totalMetalProduction:this.totalMetalProduction,totalMineralProduction:this.totalMineralProduction,totalFoodProduction:this.totalFoodProduction}}}class jc{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class p_{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let n0=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};n0=Ht([jn(2,Lt())],n0);var kw=function(t){return t.WP="wp",t}(kw||{});let yj=(()=>{var t;class e{constructor(){this.httpClient=z(e0),this.firestore=z(oo),this.localStorageService=z(Xn),this.dgAPI=z(gi),this.PLAYER_RANKINGS_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=_(function*(i){return new Promise(o=>setTimeout(o,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return _(function*(){const o=250+Math.floor(250*Math.random()),s=Tn(i.firestore,"players-planets");let a=new p_(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,o,u,l),yield i.scanCombatRankingsPage(c,r,a,o,u,l);yield i.cacheRankings(c,s,r,new p_(0))})()}getNumberOfPages(){var r=this;return _(function*(){let i=yield Sa(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),o=(new DOMParser).parseFromString(i,"text/html");return null==o.querySelector(".right.lightBorder.opacDarkBackground.padding")?1:parseInt(o.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[o.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,o,s,a,c){var l=this;return _(function*(){let u=yield Sa(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Mw);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),Object.values(kw).includes(p.alliance)&&(p.relation="hostile")}),o.number+=(yield l.atomicIncrement()),i.emit(new jc(o.number,2*c,"load")),yield l.delay(s)})()}scanCombatRankingsPage(r,i,o,s,a,c){var l=this;return _(function*(){let u=yield Sa(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Mw);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),o.number+=(yield l.atomicIncrement()),i.emit(new jc(o.number,2*c,"load")),yield l.delay(s)})()}cacheRankings(r,i,o,s){var a=this;return _(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=va(Jt(i,d.toString())).subscribe(h=>{if(h){const p=Object.assign(new Rw,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),o.emit(new jc(++s.number,r.size,"save")),f.unsubscribe()})},10*++l)}),yield a.delay(15*++l).finally(()=>{a.localStorageService.cache(Ve.PLAYERS_STATS,c);let u=a.localStorageService.localMetadata();u.playersRankingsTurn=new n0(a.dgAPI.gameTurn(),0),u.allianceMembersTurn.turn=0,a.localStorageService.remove(Ve.ALLIANCE_MEMBERS),a.localStorageService.cache(Ve.LOCAL_METADATA,u)})})()}atomicIncrement(){return _(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Ej{get name(){return this._name}set name(e){this._name=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{name:this.name,turn:this.turn,version:this.version}}}class Cj{constructor(){this._score=0,this._avgScore=0,this._combatScore=0,this._combinedScore=0,this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral",this._membersCount=0}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get membersCount(){return this._membersCount}set membersCount(e){this._membersCount=e}get avgScore(){return this._avgScore}set avgScore(e){this._avgScore=e}get tag(){return this._tag}set tag(e){this._tag=e}get rank(){return this._rank}set rank(e){this._rank=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get name(){return this._name}set name(e){this._name=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}get relation(){return this._relation}set relation(e){this._relation=e}toJSON(){return{score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,tag:this.tag,rank:this.rank,name:this.name,avgScore:this.avgScore,planets:this.planets,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total,relation:this.relation,membersCount:this.membersCount,avatar:this.avatar}}}class Nw{constructor(){this._planets=[],this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._totalMetalProduction=0,this._totalMineralProduction=0,this._totalFoodProduction=0,this._totalRequiredSoldiers=0}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}get totalRequiredSoldiers(){return this._totalRequiredSoldiers}set totalRequiredSoldiers(e){this._totalRequiredSoldiers=e}get totalMetalProduction(){return this._totalMetalProduction}set totalMetalProduction(e){this._totalMetalProduction=e}get totalMineralProduction(){return this._totalMineralProduction}set totalMineralProduction(e){this._totalMineralProduction=e}get totalFoodProduction(){return this._totalFoodProduction}set totalFoodProduction(e){this._totalFoodProduction=e}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total,totalMetalProduction:this.totalMetalProduction,totalMineralProduction:this.totalMineralProduction,totalFoodProduction:this.totalFoodProduction,totalRequiredSoldiers:this.totalRequiredSoldiers,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}let J6e=(()=>{var t;class e{constructor(){this.httpClient=z(e0),this.firestore=z(oo),this.localStorageService=z(Xn),this.dgAPI=z(gi),this.ALLIANCE_RANKINGS_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/rankings/alliances/",this.ALLIANCE_COMBAT_RANKINGS_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/rankings/combat/alliances/",this.delay=function(){var r=_(function*(i){return new Promise(o=>setTimeout(o,i))});return function(i){return r.apply(this,arguments)}}()}scanAlliancesRankingsScreens(r){var i=this;return _(function*(){const o=250+Math.floor(250*Math.random()),s=Tn(i.firestore,"alliances-planets");let a=new p_(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,o,u,l),yield i.scanCombatRankingsPage(c,r,a,o,u,l);yield i.cacheRankings(c,s,r,new p_(0))})()}getNumberOfPages(){var r=this;return _(function*(){let i=yield Sa(r.httpClient.get(r.ALLIANCE_RANKINGS_URL,{responseType:"text"})),o=(new DOMParser).parseFromString(i,"text/html");return null==o.querySelector(".right.lightBorder.opacDarkBackground.padding")?1:parseInt(o.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[o.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,o,s,a,c){var l=this;return _(function*(){let u=yield Sa(l.httpClient.get(l.ALLIANCE_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=f.querySelector(".tag").textContent.trim().replace(/\[/g,"").replace(/]/g,"").toLowerCase();r.has(h)||r.set(h,new Cj);let p=r.get(h);p.tag=h,p.name=f.querySelector(".name").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.membersCount=parseInt(f.querySelector(".members").textContent.trim().replace(/,/g,"")),p.avgScore=p.score/p.membersCount,p.avatar=f.querySelector(".avatar img").attributes.src.value.trim(),f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.tag&&(p.relation="nap"),Object.values(kw).includes(p.tag)&&(p.relation="hostile")}),o.number+=(yield l.atomicIncrement()),i.emit(new jc(o.number,2*c,"load")),yield l.delay(s)})()}scanCombatRankingsPage(r,i,o,s,a,c){var l=this;return _(function*(){let u=yield Sa(l.httpClient.get(l.ALLIANCE_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=f.querySelector(".tag").textContent.trim().replace(/\[/g,"").replace(/]/g,"");r.has(h)||r.set(h,new Cj);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),o.number+=(yield l.atomicIncrement()),i.emit(new jc(o.number,2*c,"load")),yield l.delay(s)})()}cacheRankings(r,i,o,s){var a=this;return _(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=va(Jt(i,d)).subscribe(h=>{if(h){const p=Object.assign(new Nw,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),o.emit(new jc(++s.number,r.size,"save")),f.unsubscribe()})},10*++l)}),yield a.delay(15*++l).finally(()=>{a.localStorageService.cache(Ve.ALLIANCES_STATS,c);let u=a.localStorageService.localMetadata();a.localStorageService.cache(Ve.LOCAL_METADATA,u)})})()}atomicIncrement(){return _(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var pd;class g_{constructor(){this.httpClient=z(e0),this.firestore=z(oo),this.localStorageService=z(Xn),this.playersRankingsLoaderService=z(yj),this.allianceRankingsLoaderService=z(J6e),this.dgAPI=z(gi),this._updatesEmitter=new Mt,this.ALLIANCES_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new Mt,this._alliancesRankingsEmitter=new Mt}updateMetadata(e){const n=Tn(this.firestore,"metadata"),r=Tn(this.firestore,"user-status");let i=ju(lp(n)).subscribe(o=>{const s=Object.assign([],o);let a=new X6e;a.dgtVersion=s[0].version,a.planetsTurn=s[1],this.localStorageService.cache(Ve.REMOTE_METADATA,a);let c=va(Jt(r,this.dgAPI.username())).subscribe(l=>{if(l){let u=Object.assign(new Ej,l);u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,up(Jt(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}else{let u=new Ej;u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,u.name=this.dgAPI.username(),Vi(Jt(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}e.next(!0),e.complete(),c.unsubscribe()});i.unsubscribe()})}loadPlanets(){var e=this;return _(function*(){let n=e.localStorageService.localMetadata();const r=e.localStorageService.get(Ve.REMOTE_METADATA);if(0===n.planetsTurn.turn||r.planetsTurn.turn>n.planetsTurn.turn||r.planetsTurn.turn==n.planetsTurn.turn&&r.planetsTurn.version>n.planetsTurn.version){let a=e.localStorageService.localMetadata(),c=e.localStorageService.remoteMetadata();a.planetsTurn.turn=c.planetsTurn.turn,a.planetsTurn.version=c.planetsTurn.version,a.playersRankingsTurn.turn=0,a.allianceMembersTurn.turn=0,e.localStorageService.remove(Ve.PLAYERS_STATS),e.localStorageService.cache(Ve.LOCAL_METADATA,a)}e._updatesEmitter.emit(-1)})()}loadRankings(e,n=!1){const r=this.localStorageService.localMetadata(),i=this.localStorageService.get(Ve.PLAYERS_STATS),o=this.localStorageService.get(Ve.ALLIANCES_STATS);(!i||!o||0==i.length||0==o.length||0===r.playersRankingsTurn.turn||e>r.playersRankingsTurn.turn||n)&&(-1!==window.location.pathname.indexOf("/rankings")||-1!==window.location.pathname.indexOf("/alliances"))&&(this._updatesEmitter.emit(2),this.loadAllRankings(this._playersRankingsEmitter,this._alliancesRankingsEmitter));const c=this.localStorageService.get(Ve.ALLIANCE_MEMBERS);i&&(!c||0==c.length||0===r.allianceMembersTurn.turn||e>r.allianceMembersTurn.turn)&&-1!==window.location.pathname.indexOf("/alliances")&&(this._updatesEmitter.emit(1),this.loadAllianceMembers(e).finally(()=>{this._updatesEmitter.emit(0)}).catch(d=>console.log(d)))}loadAllRankings(e,n){this.playersRankingsLoaderService.scanPlayersRankingsScreens(e).finally(()=>{this._updatesEmitter.emit(2),this.allianceRankingsLoaderService.scanAlliancesRankingsScreens(n).finally(()=>{this._updatesEmitter.emit(1),this.loadAllianceMembers(this.localStorageService.localMetadata().playersRankingsTurn.turn).finally(()=>{this._updatesEmitter.emit(0)})})})}loadAllianceMembers(e){var n=this;return _(function*(){const r=yield Sa(n.httpClient.get(n.ALLIANCES_URL,{responseType:"text"})),i=(new DOMParser).parseFromString(r,"text/html"),o=n.localStorageService.get(Ve.PLAYERS_STATS),s=Tn(n.firestore,"user-status");let a=ju(lp(s)).subscribe(c=>{const l=Object.assign([],c);if(!i.querySelector('[action="/alliances/join/"]')){let u=[];i.querySelectorAll(".allianceBox").forEach(f=>{f.querySelector(".plainHeader")&&"member list"===f.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&f.querySelectorAll(".player").forEach(h=>{let p=new Q6e;if(null!=h.querySelector('[action^="/alliances/note/"]')){let g=h.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);p.dgId=g[g.length-2]}if(null==h.querySelector('[action="/alliances/kick/"] input')&&null!=h.querySelector(".right>b")&&(p.kickEta=h.querySelector(".right>b").textContent.trim().toLowerCase()),null!=h.querySelector("div.name")){p.name=h.querySelector("div.name").childNodes[0].textContent.trim(),p.stats=o.find(m=>m.name.trim().toLowerCase()===p.name.toLowerCase());const g=l.find(m=>m.name.trim().toLowerCase()===p.name.toLowerCase());g&&(p.dgtVersion=g.version),u.push(p)}})});let d=n.localStorageService.localMetadata();d.allianceMembersTurn.turn=e,n.localStorageService.cache(Ve.ALLIANCE_MEMBERS,u),n.localStorageService.cache(Ve.LOCAL_METADATA,d),a.unsubscribe()}})})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}get alliancesRankingsEmitter(){return this._alliancesRankingsEmitter}}(pd=g_).\u0275fac=function(e){return new(e||pd)},pd.\u0275prov=Ce({token:pd,factory:pd.\u0275fac,providedIn:"root"}),Ht([jn(1,Lt())],g_.prototype,"loadRankings",null);let Z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[C6e]}),t.\u0275inj=Tt({providers:[g_],imports:[Br,cs(()=>us(Zn_firebase)),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class e3e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class xj{constructor(e,n,r){this._planets=[],this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._requiredSoldiers=0,this._galaxy=e,this._planets=n,this._total=r}get requiredSoldiers(){return this._requiredSoldiers}set requiredSoldiers(e){this._requiredSoldiers=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}get total(){return this._total}set total(e){this._total=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets,total:this.total,metalProduction:this.metalProduction,mineralProduction:this.mineralProduction,foodProduction:this.foodProduction,requiredSoldiers:this.requiredSoldiers}}}let m_=(()=>{var t;class e{constructor(){this.firestore=z(oo),this.dgAPI=z(gi),this.metadataPath=Tn(this.firestore,"metadata"),this.localStorageService=z(Xn)}updateMetadataTurns(r){let i=va(Jt(this.metadataPath,r)).subscribe(o=>{if(o){let s=Object.assign(new n0(0,0),o);s.turn===this.dgAPI.gameTurn()?s.version++:(s.turn=this.dgAPI.gameTurn(),s.version=1),s.lock=!1,up(Jt(this.metadataPath,r),JSON.parse(JSON.stringify(s))).catch(a=>console.log(a))}else Vi(Jt(this.metadataPath,r),JSON.parse(JSON.stringify(new n0(this.dgAPI.gameTurn(),1)))).catch(s=>console.log(s));i.unsubscribe()})}resetSortingMaps(){-1===window.location.pathname.indexOf("/rankings/players")&&this.localStorageService.remove(Ve.PLAYERS_RANKINGS_SORT)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var gd;class Ow{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=z(e0),this.firestore=z(oo),this.dgAPI=z(gi),this.metadataService=z(m_),this.localStorageService=z(Xn),this.decimalPipe=z(ni),this._systemScanEmitter=new Mt,this._planetScanEmitter=new Mt,this.NAVIGATION_BASE_URL=this.localStorageService.get(Ve.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=_(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return _(function*(){const i=250+Math.floor(250*Math.random()),o=r.filterValidGalaxies(n);let s=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<o.length;u++){let d=new Map,f=new Map;const h=Tn(r.firestore,"planets-g"+o[u]);let p;p=1===o[u]?r.G1_SECTORS:o[u]>1&&o[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let m=1;m<=r.SYSTEMS;m++)a&&(yield r.parseAndSave(o[u],g,m,d,f,h),r._systemScanEmitter.emit(new jc(++s,l,"load-save")),yield r.delay(i));r.calculateMaxStats(o[u]),r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe(),yield r.delay(3e3)})()}calculateMaxStats(e){let n=0,r=0,i=0,o=0,s=0;const a=Tn(this.firestore,"scans-g"+e);let c=ju(a).subscribe(l=>{let u=0,d=0,f=0,h=0,p=0,g="",m="",D="",b="",W="",X=0,ge="";Object.assign([],l).forEach(fe=>{u<fe.resources[0].production&&(u=fe.resources[0].production,g=fe.location),d<fe.resources[1].production&&(d=fe.resources[1].production,m=fe.location),f<fe.resources[2].production&&(f=fe.resources[2].production,D=fe.location),h<fe.resources[0].production+1.5*fe.resources[1].production&&(h=fe.resources[0].production+1.5*fe.resources[1].production,b=fe.location),p<fe.resources[0].production+1.5*fe.resources[1].production+fe.resources[2].production&&(p=fe.resources[0].production+1.5*fe.resources[1].production+fe.resources[2].production,W=fe.location),X<fe.resources[0].stored+fe.resources[1].stored&&(X=fe.resources[0].stored+fe.resources[1].stored,ge=fe.location);let St=Math.ceil(fe.workers.maximumNumber/15+1.5*fe.soldiers);fe.location.startsWith("13.1.")&&"wolfpack"===fe.owner.alliance.toLowerCase()&&(n+=St),fe.location.startsWith("13.2.")&&"wolfpack"===fe.owner.alliance.toLowerCase()&&(r+=St),fe.location.startsWith("13.3.")&&"wolfpack"===fe.owner.alliance.toLowerCase()&&(i+=St),fe.location.startsWith("13.4.")&&"wolfpack"===fe.owner.alliance.toLowerCase()&&(o+=St),fe.location.startsWith("13.5.")&&"wolfpack"===fe.owner.alliance.toLowerCase()&&(s+=St)}),Vi(Jt(Tn(this.firestore,"max-stats"),"max-metal-g"+e),JSON.parse(JSON.stringify({location:g,value:u}))).catch(fe=>console.log(fe)),Vi(Jt(Tn(this.firestore,"max-stats"),"max-mineral-g"+e),JSON.parse(JSON.stringify({location:m,value:d}))).catch(fe=>console.log(fe)),Vi(Jt(Tn(this.firestore,"max-stats"),"max-food-g"+e),JSON.parse(JSON.stringify({location:D,value:f}))).catch(fe=>console.log(fe)),Vi(Jt(Tn(this.firestore,"max-stats"),"max-metal-mineral-g"+e),JSON.parse(JSON.stringify({location:b,value:h}))).catch(fe=>console.log(fe)),Vi(Jt(Tn(this.firestore,"max-stats"),"max-all-g"+e),JSON.parse(JSON.stringify({location:W,value:p}))).catch(fe=>console.log(fe)),Vi(Jt(Tn(this.firestore,"max-stats"),"max-stored-metal-mineral-g"+e),JSON.parse(JSON.stringify({location:ge,value:X}))).catch(fe=>console.log(fe)),c.unsubscribe()})}mergeAlliancePlanets(e){const n=Tn(this.firestore,"alliances-planets");e.forEach((r,i)=>{r.planets.forEach(s=>{const a=Tn(this.firestore,"scans-g"+s.galaxy);s.planets.forEach(c=>{let l=va(Jt(a,c)).subscribe(u=>{if(u){let d=Object.assign(new a1,u);s.metalProduction+=d.resources[0].production,s.mineralProduction+=d.resources[1].production,s.foodProduction+=d.resources[2].production,s.requiredSoldiers+=Math.ceil(d.workers.currentNumber/15+1.5*d.soldiers)+1}l.unsubscribe()})})});let o=va(Jt(n,i)).subscribe(s=>{s&&Object.assign(new Nw,s).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.total,r.totalMetalProduction+=a.metalProduction,r.totalMineralProduction+=a.mineralProduction,r.totalFoodProduction+=a.foodProduction,r.totalRequiredSoldiers+=a.requiredSoldiers}),s?up(Jt(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Vi(Jt(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),o.unsubscribe()})})}mergePlayerPlanets(e){const n=Tn(this.firestore,"players-planets");e.forEach((r,i)=>{r.planets.forEach(s=>{const a=Tn(this.firestore,"scans-g"+s.galaxy);s.planets.forEach(c=>{let l=va(Jt(a,c)).subscribe(u=>{if(u){let d=Object.assign(new a1,u);s.metalProduction+=d.resources[0].production,s.mineralProduction+=d.resources[1].production,s.foodProduction+=d.resources[2].production,s.requiredSoldiers+=Math.ceil(d.workers.currentNumber/15+1.5*d.soldiers)+1}l.unsubscribe()})})});let o=va(Jt(n,i.toString())).subscribe(s=>{s&&Object.assign(new Rw,s).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.totalMetalProduction+=a.metalProduction,r.totalMineralProduction+=a.mineralProduction,r.totalFoodProduction+=a.foodProduction,r.totalRequiredSoldiers+=a.requiredSoldiers,r.total+=a.planets.length}),s?up(Jt(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Vi(Jt(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),o.unsubscribe()})})}parseAndSave(e,n,r,i,o,s){var a=this;return _(function*(){const c=yield Sa(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new e3e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new Rw);let g=i.get(f.playerId).planets;if(g.some(D=>D.galaxy===e)?g.filter(b=>b.galaxy===e&&!b.planets.includes(f.location)).forEach(b=>{b.planets.push(f.location),b.total++}):i.get(f.playerId).planets.push(new xj(e,[f.location],1)),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){o.has(f.alliance)||o.set(f.alliance,new Nw);let D=o.get(f.alliance).planets;D.some(W=>W.galaxy===e)?D.filter(X=>X.galaxy===e&&!X.planets.includes(f.location)).forEach(X=>{X.planets.push(f.location),X.total++}):o.get(f.alliance).planets.push(new xj(e,[f.location],1)),o.get(f.alliance).tag=f.alliance,o.get(f.alliance).turn=f.turn}Vi(Jt(s,f.location),JSON.parse(JSON.stringify(f))).catch(D=>console.log(D))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(gd=Ow).\u0275fac=function(e){return new(e||gd)},gd.\u0275prov=Ce({token:gd,factory:gd.\u0275fac,providedIn:"root"}),Ht([jn(1,Lt())],Ow.prototype,"scanPlanets",null);let t3e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(ne(Or))},t.\u0275dir=He({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&ht("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})();const n3e=["planetsLoadModal"],r3e=["planetProgressBar"],i3e=["playersProgressBar"],o3e=["planetCounter"];function s3e(t,e){if(1&t){const n=$a();Hs(0),M(1,"div",1)(2,"div",2)(3,"b",3),$(4,"DGT Admin Panel"),P()(),M(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),$(10,"Universe Scan"),P()(),M(11,"span",8),$(12,"Usage:"),P(),M(13,"ul")(14,"li"),$(15,"44 - G44 only"),P(),M(16,"li"),$(17,"1,2,3 - G01, G02 & G03"),P(),M(18,"li"),$(19,"213 - Inner (G02-G13)"),P(),M(20,"li"),$(21,"1449 - Outer (G14-G49)"),P(),M(22,"li"),$(23,"149 - All galaxies (G01-G49)"),P()()(),M(24,"form")(25,"input",9),ht("ngModelChange",function(i){return an(n),cn(st().controls.galaxies=i)}),P(),M(26,"button",10),ht("click",function(){return an(n),cn(st().scanNavigationScreen())}),$(27,"Fetch"),P()()()()(),M(28,"div",11,12)(30,"div",13)(31,"div",14)(32,"span",15),$(33),P(),M(34,"span",16,17),$(36),P()(),M(37,"div",18)(38,"span",19),$(39),P(),Re(40,"span",20,21),P(),M(42,"div",22)(43,"button",23),ht("click",function(){return an(n),cn(st().cancelScan())}),$(44,"Cancel"),P()()()(),zs()}if(2&t){const n=st();U(25),oe("ngModel",n.controls.galaxies),U(8),qe(n.loadedSystem),U(3),qe(n.loadedPlanet),U(3),qa("",n.planetPercentage,"%")}}let a3e=(()=>{var t;class e{constructor(){this.planetsLoaderService=z(Ow),this.changeDetection=z(Xi),this.authService=z(Bi),this.cancelScanEmitter=new Mt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return _(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(o){return parseInt(o,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(o=>{r.loadedSystem="Loading "+o.page+"/"+o.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*o.page/o.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(o=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=o,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(hi(n3e,5),hi(r3e,5),hi(i3e,5),hi(o3e,5)),2&r){let o;Jr(o=Zr())&&(i.planetsLoadModal=o.first),Jr(o=Zr())&&(i.planetProgressBar=o.first),Jr(o=Zr())&&(i.playersProgressBar=o.first),Jr(o=Zr())&&(i.planetCounter=o.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["name","galaxies","type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"]],template:function(r,i){1&r&&ze(0,s3e,45,4,"ng-container",0),2&r&&oe("ngIf",i.authenticated)},dependencies:[Zi,yw,Z2,IU,cw,vw,Jp,t3e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%]{width:100%;float:left}.load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),c3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[a3e]}),t.\u0275inj=Tt({providers:[ni,m_],imports:[Br,Aw,vj,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Sc(()=>Dc()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var md,r0;class Fw{constructor(){this.localStorageService=z(Xn)}fetchAndClear(e,n,r,i,o=!1){let s=new Map;const a=this.localStorageService.get(Ve.ALLIANCES_STATS);if(null===a)return s;for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"combinedScore":case"combatScore":case"avgScore":case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":u="desc"===n?a[c][e]<a[l][e]:a[c][e]>a[l][e]}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)a[c].rank=c+1,s.set(a[c].tag,a[c]);else for(let c=a.length-a.length%100;c<a.length;c++)a[c].rank=c+1,s.set(a[c].tag,a[c]);return o&&document.querySelector(".alliancesRankingsList")&&document.querySelector(".alliancesRankingsList").remove(),s}fixPaginationDisplay(e){if(null===this.localStorageService.get(Ve.ALLIANCES_STATS))return;const n=this.localStorageService.get(Ve.ALLIANCES_STATS).length;document.querySelector("#ranking-navigation")&&(document.querySelector("#ranking-navigation > div:nth-child(2)").innerHTML="Page "+e+" / "+Math.ceil(n/100),e===Math.ceil(n/100)&&document.querySelector("#ranking-navigation > div:nth-child(1)").remove())}}function l3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function u3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function d3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function f3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function h3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function p3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function g3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function m3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function _3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function v3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function y3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function E3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function C3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function x3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function I3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function b3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}(md=Fw).\u0275fac=function(e){return new(e||md)},md.\u0275prov=Ce({token:md,factory:md.\u0275fac,providedIn:"root"}),Ht([jn(4,Lt())],Fw.prototype,"fetchAndClear",null);const w3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}},Sr=function(t){return{selected:t}};function A3e(t,e){if(1&t&&(M(0,"tr",22)(1,"td",3),$(2),P(),M(3,"td",4),$(4),P(),M(5,"td",5),$(6),P(),M(7,"td",6),$(8),P(),M(9,"td",7)(10,"a",23),$(11),P()(),M(12,"td",10)(13,"a",23),$(14),P()(),M(15,"td",11)(16,"a",23),$(17),P()(),M(18,"td",12)(19,"a",23),$(20),P()(),Re(21,"td",13),M(22,"td",14),$(23),kt(24,"number"),P(),M(25,"td",15),$(26),kt(27,"number"),P(),M(28,"td",24),$(29),kt(30,"number"),P(),M(31,"td",17),$(32),kt(33,"number"),P()()),2&t){const n=e.$implicit,r=st(2);oe("ngClass",jy(37,w3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),U(2),qe(n.rank),U(2),qe(n.tag),U(2),qe(n.name),U(2),qe(n.membersCount),U(1),oe("ngClass",Ze(43,Sr,"planets"===r.sortKey)),U(2),qe(n.planets),U(1),oe("ngClass",Ze(45,Sr,"g1Total"===r.sortKey)),U(2),qe(n.g1Total),U(1),oe("ngClass",Ze(47,Sr,"g213Total"===r.sortKey)),U(2),qe(n.g213Total),U(1),oe("ngClass",Ze(49,Sr,"g1449Total"===r.sortKey)),U(2),qe(n.g1449Total),U(2),oe("ngClass",Ze(51,Sr,"combatScore"===r.sortKey)),U(1),qe($n(24,21,n.combatScore,"1.0","en-US")),U(2),oe("ngClass",Ze(53,Sr,"score"===r.sortKey)),U(1),qe($n(27,25,n.score,"1.0","en-US")),U(2),oe("ngClass",Ze(55,Sr,"avgScore"===r.sortKey)),U(1),qe($n(30,29,n.avgScore,"1.0","en-US")),U(2),oe("ngClass",Ze(57,Sr,"combinedScore"===r.sortKey)),U(1),qe($n(33,33,n.combinedScore,"1.0","en-US"))}}function T3e(t,e){if(1&t){const n=$a();Hs(0),M(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),$(6,"#"),P(),M(7,"th",4),$(8,"Tag"),P(),M(9,"th",5),$(10,"Player"),P(),M(11,"th",6),$(12,"Members"),P(),M(13,"th",7)(14,"a",8),ht("click",function(){return an(n),cn(st().orderBy("planets"))}),$(15,"Planets"),P(),ze(16,l3e,2,0,"svg",9),ze(17,u3e,2,0,"svg",9),P(),M(18,"th",10)(19,"a",8),ht("click",function(){return an(n),cn(st().orderBy("g1Total"))}),$(20,"G1"),P(),ze(21,d3e,2,0,"svg",9),ze(22,f3e,2,0,"svg",9),P(),M(23,"th",11)(24,"a",8),ht("click",function(){return an(n),cn(st().orderBy("g213Total"))}),$(25,"Inner"),P(),ze(26,h3e,2,0,"svg",9),ze(27,p3e,2,0,"svg",9),P(),M(28,"th",12)(29,"a",8),ht("click",function(){return an(n),cn(st().orderBy("g1449Total"))}),$(30,"Outer"),P(),ze(31,g3e,2,0,"svg",9),ze(32,m3e,2,0,"svg",9),P(),Re(33,"th",13),M(34,"th",14)(35,"a",8),ht("click",function(){return an(n),cn(st().orderBy("combatScore"))}),$(36,"Combat"),P(),ze(37,_3e,2,0,"svg",9),ze(38,v3e,2,0,"svg",9),P(),M(39,"th",15)(40,"a",8),ht("click",function(){return an(n),cn(st().orderBy("score"))}),$(41,"Score"),P(),ze(42,y3e,2,0,"svg",9),ze(43,E3e,2,0,"svg",9),P(),M(44,"th",16)(45,"a",8),ht("click",function(){return an(n),cn(st().orderBy("avgScore"))}),$(46,"Avg"),P(),ze(47,C3e,2,0,"svg",9),ze(48,x3e,2,0,"svg",9),P(),M(49,"th",17)(50,"a",8),ht("click",function(){return an(n),cn(st().orderBy("combinedScore"))}),$(51,"Combined"),P(),ze(52,I3e,2,0,"svg",9),ze(53,b3e,2,0,"svg",9),P()()(),M(54,"tbody"),ze(55,A3e,34,59,"tr",18),P()()(),zs()}if(2&t){const n=st();U(13),oe("ngClass",Ze(25,Sr,"planets"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"planets"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"planets"===n.sortKey),U(1),oe("ngClass",Ze(27,Sr,"g1Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g1Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g1Total"===n.sortKey),U(1),oe("ngClass",Ze(29,Sr,"g213Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g213Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g213Total"===n.sortKey),U(1),oe("ngClass",Ze(31,Sr,"g1449Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g1449Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g1449Total"===n.sortKey),U(2),oe("ngClass",Ze(33,Sr,"combatScore"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"combatScore"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"combatScore"===n.sortKey),U(1),oe("ngClass",Ze(35,Sr,"score"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"score"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"score"===n.sortKey),U(1),oe("ngClass",Ze(37,Sr,"avgScore"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"avgScore"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"avgScore"===n.sortKey),U(1),oe("ngClass",Ze(39,Sr,"combinedScore"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"combinedScore"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"combinedScore"===n.sortKey),U(2),oe("ngForOf",n.rankings.values())}}class Lw{constructor(){this.allianceRankingsService=z(Fw),this.authService=z(Bi),this.localStorageService=z(Xn),this.changeDetector=z(Xi),this.rankings=new Map,this.authenticated=!1,this.Math=Math,this.sortOrder="desc",this.sortKey="score";const e=window.location.pathname.split(/\//);switch(e.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(e[3])}this.authService.authState.subscribe(n=>{if(this.authenticated=n.status,this.authenticated){null===this.localStorageService.get(Ve.ALLIANCES_RANKINGS_SORT)&&this.localStorageService.cache(Ve.ALLIANCES_RANKINGS_SORT,"score:desc");const r=this.localStorageService.get(Ve.ALLIANCES_RANKINGS_SORT).split(/:/)[0];this.orderBy(r,!1)}}),this.authService.checkLoginValidity(),this.allianceRankingsService.fixPaginationDisplay(this.page)}ngAfterViewInit(){this.changeDetector.detectChanges()}orderBy(e,n=!0){let r=this.localStorageService.get(Ve.ALLIANCES_RANKINGS_SORT);null===r&&(r="score:desc");let[i,o]=r.split(/:/);e!==i&&(o="asc"),n&&(o="desc"===o?"asc":"desc"),r=e.concat(":",o),this.rankings=this.allianceRankingsService.fetchAndClear(e,o,this.page,100),this.sortKey=e,this.sortOrder=o,n&&this.changeDetector.detectChanges(),this.localStorageService.cache(Ve.ALLIANCES_RANKINGS_SORT,r)}}(r0=Lw).\u0275fac=function(e){return new(e||r0)},r0.\u0275cmp=On({type:r0,selectors:[["dgt-alliance-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-alliances-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"members"],[1,"planets",3,"ngClass"],["href","javascript:void(0);",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",4,"ngIf"],[1,"g1",3,"ngClass"],[1,"inner",3,"ngClass"],[1,"outer",3,"ngClass"],[1,"empty"],[1,"combat",3,"ngClass"],[1,"score",3,"ngClass"],[1,"svgScore",3,"ngClass"],[1,"combined",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512"],["d","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z",2,"/*! line-height","22px !important","*//*! margin-top","10px !important"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[3,"ngClass"],["href","javascript:void(0);"],[1,"avgScore",3,"ngClass"]],template:function(e,n){1&e&&ze(0,T3e,56,41,"ng-container",0),2&e&&oe("ngIf",!0)},dependencies:[r1,Df,Zi,ni],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.members[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:75px}.empty[_ngcontent-%COMP%]{width:50px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%], .avgScore[_ngcontent-%COMP%]{width:75px}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.members[_ngcontent-%COMP%], .combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%], .avgScore[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-alliances-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;border:1px solid #5e5e5e;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}th[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:12px;vertical-align:middle;margin-top:-2px;margin-left:3px;fill:#72bde0}th.selected[_ngcontent-%COMP%], td.selected[_ngcontent-%COMP%]{background:#3b3b3b!important}"]}),Ht([jn(1,Lt())],Lw.prototype,"orderBy",null);let S3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[Lw]}),t.\u0275inj=Tt({imports:[Br]}),e})();const D3e=["dgtUpdatingModel"],P3e=["rankingsLoadModal"],M3e=["progressBar"];function R3e(t,e){if(1&t&&(Hs(0),M(1,"div",1,2)(3,"div",3)(4,"span"),$(5,"Downloading DGT metadata updates..."),P(),Re(6,"img",4),P()(),M(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),$(12),P()(),M(13,"div",10)(14,"span",11),$(15),P(),Re(16,"span",12,13),P()()(),zs()),2&t){const n=st();U(12),qe(n.loadedRankings),U(3),qa("",n.percentage,"%")}}let k3e=(()=>{var t;class e{constructor(){this.synchronizerService=z(g_),this.dgAPI=z(gi),this.authService=z(Bi),this.changeDetection=z(Xi),this.metadataService=z(m_),this.authenticated=!1,this.percentage=0,this.delay=function(){var r=_(function*(i){return new Promise(o=>setTimeout(o,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){if(this.authenticated){this.metadataService.resetSortingMaps(),this.prepareRankingsLoader(),this.synchronizerService.updatesEmitter.subscribe(i=>{switch(i){case-1:this.synchronizerService.loadRankings(this.dgAPI.gameTurn());break;case 0:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.delay(1e3).finally(()=>window.location.reload());break;case 1:this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(500).finally(()=>{});break;case 2:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.progressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open")}});let r=new me(i=>{this.synchronizerService.updateMetadata(i)}).subscribe(i=>{i&&(this.synchronizerService.loadPlanets().catch(o=>console.log(o)),r.unsubscribe())})}}prepareRankingsLoader(){this.playersRankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.percentage=Math.floor(100*r.page/r.total),this.progressBar.nativeElement.style.width=this.percentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.percentage=Math.floor(100*r.page/r.total),this.progressBar.nativeElement.style.width=this.percentage+"%",r.page==r.total&&this.playersRankingsCountSubscription.unsubscribe()}}),this.alliancesRankingsCountSubscription=this.synchronizerService.alliancesRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.percentage=Math.floor(100*r.page/r.total),this.progressBar.nativeElement.style.width=this.percentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" alliances",this.changeDetection.detectChanges(),this.percentage=Math.floor(100*r.page/r.total),this.progressBar.nativeElement.style.width=this.percentage+"%",r.page==r.total&&this.alliancesRankingsCountSubscription.unsubscribe()}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(hi(D3e,5),hi(P3e,5),hi(M3e,5)),2&r){let o;Jr(o=Zr())&&(i.dgtUpdatingModel=o.first),Jr(o=Zr())&&(i.rankingsLoadModal=o.first),Jr(o=Zr())&&(i.progressBar=o.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["progressBar",""]],template:function(r,i){1&r&&ze(0,R3e,18,2,"ng-container",0),2&r&&oe("ngIf",i.authenticated)},dependencies:[Zi],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),N3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[k3e]}),t.\u0275inj=Tt({providers:[yj,m_],imports:[Br,vj,cs(()=>us(Zn_firebase)),Sc(()=>Dc()),Js(()=>Zs()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),O3e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),F3e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let o=r.querySelector(".infoText");o.classList.add("queuePosition");let s=document.createElement("div");s.classList.add("infoText","researchTime"),s.innerHTML=O3e.times[i][1].toString(),o.parentNode.insertBefore(s,o)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),L3e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=z(F3e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),V3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[L3e]}),t.\u0275inj=Tt({imports:[Br]}),e})();var _d,o0;class Vw{constructor(){this.localStorageService=z(Xn)}fetchAndClear(e,n,r,i,o=!1){let s=new Map;const a=this.localStorageService.get(Ve.PLAYERS_STATS);if(null===a)return s;for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"combinedScore":case"combatScore":case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":u="desc"===n?a[c][e]<a[l][e]:a[c][e]>a[l][e]}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)a[c].rank=c+1,s.set(a[c].playerId,a[c]);else for(let c=a.length-a.length%100;c<a.length;c++)a[c].rank=c+1,s.set(a[c].playerId,a[c]);return o&&document.querySelector(".playerRankingsList")&&document.querySelector(".playerRankingsList").remove(),s}fixPaginationDisplay(e){if(null===this.localStorageService.get(Ve.PLAYERS_STATS))return;const n=this.localStorageService.get(Ve.PLAYERS_STATS).length;document.querySelector("#ranking-navigation")&&(document.querySelector("#ranking-navigation > div:nth-child(2)").innerHTML="Page "+e+" / "+Math.ceil(n/100),e===Math.ceil(n/100)&&document.querySelector("#ranking-navigation > div:nth-child(1)").remove())}}function B3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function H3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function z3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function U3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function j3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function $3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function G3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function q3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function W3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function K3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function Y3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function Q3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}function X3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",20),P())}function J3e(t,e){1&t&&(xt(),M(0,"svg",19),Re(1,"path",21),P())}(_d=Vw).\u0275fac=function(e){return new(e||_d)},_d.\u0275prov=Ce({token:_d,factory:_d.\u0275fac,providedIn:"root"}),Ht([jn(4,Lt())],Vw.prototype,"fetchAndClear",null);const Z3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}},si=function(t){return{selected:t}};function eEe(t,e){if(1&t&&(M(0,"tr",22)(1,"td",3),$(2),P(),M(3,"td",4),$(4),P(),M(5,"td",5),$(6),P(),M(7,"td",6)(8,"a",23),$(9),P()(),M(10,"td",9)(11,"a",23),$(12),P()(),M(13,"td",10)(14,"a",23),$(15),P()(),M(16,"td",11)(17,"a",23),$(18),P()(),Re(19,"td",12),M(20,"td",13),$(21),kt(22,"number"),P(),M(23,"td",14),$(24),kt(25,"number"),P(),M(26,"td",15),$(27),kt(28,"number"),P()()),2&t){const n=e.$implicit,r=st(2);oe("ngClass",jy(30,Z3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),U(2),qe(n.rank),U(2),qe(n.alliance),U(2),qe(n.name),U(1),oe("ngClass",Ze(36,si,"planets"===r.sortKey)),U(2),qe(n.planets),U(1),oe("ngClass",Ze(38,si,"g1Total"===r.sortKey)),U(2),qe(n.g1Total),U(1),oe("ngClass",Ze(40,si,"g213Total"===r.sortKey)),U(2),qe(n.g213Total),U(1),oe("ngClass",Ze(42,si,"g1449Total"===r.sortKey)),U(2),qe(n.g1449Total),U(2),oe("ngClass",Ze(44,si,"combatScore"===r.sortKey)),U(1),qe($n(22,18,n.combatScore,"1.0","en-US")),U(2),oe("ngClass",Ze(46,si,"score"===r.sortKey)),U(1),qe($n(25,22,n.score,"1.0","en-US")),U(2),oe("ngClass",Ze(48,si,"combinedScore"===r.sortKey)),U(1),qe($n(28,26,n.combinedScore,"1.0","en-US"))}}function tEe(t,e){if(1&t){const n=$a();Hs(0),M(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),$(6,"#"),P(),M(7,"th",4),$(8,"Tag"),P(),M(9,"th",5),$(10,"Player"),P(),M(11,"th",6)(12,"a",7),ht("click",function(){return an(n),cn(st().orderBy("planets"))}),$(13,"Planets"),P(),ze(14,B3e,2,0,"svg",8),ze(15,H3e,2,0,"svg",8),P(),M(16,"th",9)(17,"a",7),ht("click",function(){return an(n),cn(st().orderBy("g1Total"))}),$(18,"G1"),P(),ze(19,z3e,2,0,"svg",8),ze(20,U3e,2,0,"svg",8),P(),M(21,"th",10)(22,"a",7),ht("click",function(){return an(n),cn(st().orderBy("g213Total"))}),$(23,"Inner"),P(),ze(24,j3e,2,0,"svg",8),ze(25,$3e,2,0,"svg",8),P(),M(26,"th",11)(27,"a",7),ht("click",function(){return an(n),cn(st().orderBy("g1449Total"))}),$(28,"Outer"),P(),ze(29,G3e,2,0,"svg",8),ze(30,q3e,2,0,"svg",8),P(),Re(31,"th",12),M(32,"th",13)(33,"a",7),ht("click",function(){return an(n),cn(st().orderBy("combatScore"))}),$(34,"Combat"),P(),ze(35,W3e,2,0,"svg",8),ze(36,K3e,2,0,"svg",8),P(),M(37,"th",14)(38,"a",7),ht("click",function(){return an(n),cn(st().orderBy("score"))}),$(39,"Score"),P(),ze(40,Y3e,2,0,"svg",8),ze(41,Q3e,2,0,"svg",8),P(),M(42,"th",15)(43,"a",7),ht("click",function(){return an(n),cn(st().orderBy("combinedScore"))}),$(44,"Combined"),P(),ze(45,X3e,2,0,"svg",8),ze(46,J3e,2,0,"svg",8),P()()(),M(47,"tbody"),ze(48,eEe,29,50,"tr",16),P()()(),M(49,"div",17)(50,"div",18)(51,"h2"),$(52,"Riddick"),P(),M(53,"table")(54,"tr")(55,"th"),$(56,"G7"),P(),M(57,"td"),$(58,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),P()(),M(59,"tr")(60,"th"),$(61,"G8"),P(),M(62,"td"),$(63,"8.4.3.5"),P()(),M(64,"tr")(65,"th"),$(66,"G9"),P(),M(67,"td"),$(68,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),P()()()()(),zs()}if(2&t){const n=st();U(11),oe("ngClass",Ze(22,si,"planets"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"planets"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"planets"===n.sortKey),U(1),oe("ngClass",Ze(24,si,"g1Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g1Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g1Total"===n.sortKey),U(1),oe("ngClass",Ze(26,si,"g213Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g213Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g213Total"===n.sortKey),U(1),oe("ngClass",Ze(28,si,"g1449Total"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"g1449Total"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"g1449Total"===n.sortKey),U(2),oe("ngClass",Ze(30,si,"combatScore"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"combatScore"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"combatScore"===n.sortKey),U(1),oe("ngClass",Ze(32,si,"score"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"score"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"score"===n.sortKey),U(1),oe("ngClass",Ze(34,si,"combinedScore"===n.sortKey)),U(3),oe("ngIf","desc"===n.sortOrder&&"combinedScore"===n.sortKey),U(1),oe("ngIf","asc"===n.sortOrder&&"combinedScore"===n.sortKey),U(2),oe("ngForOf",n.rankings.values())}}class Bw{constructor(){this.playerRankingsService=z(Vw),this.authService=z(Bi),this.localStorageService=z(Xn),this.changeDetector=z(Xi),this.rankings=new Map,this.authenticated=!1,this.Math=Math,this.sortOrder="desc",this.sortKey="score";const e=window.location.pathname.split(/\//);switch(e.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(e[3])}this.authService.authState.subscribe(n=>{if(this.authenticated=n.status,this.authenticated){null===this.localStorageService.get(Ve.PLAYERS_RANKINGS_SORT)&&this.localStorageService.cache(Ve.PLAYERS_RANKINGS_SORT,"score:desc");const r=this.localStorageService.get(Ve.PLAYERS_RANKINGS_SORT).split(/:/)[0];this.orderBy(r,!1)}}),this.authService.checkLoginValidity(),this.playerRankingsService.fixPaginationDisplay(this.page)}ngAfterViewInit(){this.changeDetector.detectChanges()}orderBy(e,n=!0){let r=this.localStorageService.get(Ve.PLAYERS_RANKINGS_SORT);null===r&&(r="score:desc");let[i,o]=r.split(/:/);e!==i&&(o="asc"),n&&(o="desc"===o?"asc":"desc"),r=e.concat(":",o),this.rankings=this.playerRankingsService.fetchAndClear(e,o,this.page,100,!0),this.sortKey=e,this.sortOrder=o,n&&this.changeDetector.detectChanges(),this.localStorageService.cache(Ve.PLAYERS_RANKINGS_SORT,r)}}(o0=Bw).\u0275fac=function(e){return new(e||o0)},o0.\u0275cmp=On({type:o0,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets",3,"ngClass"],["href","javascript:void(0);",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",4,"ngIf"],[1,"g1",3,"ngClass"],[1,"inner",3,"ngClass"],[1,"outer",3,"ngClass"],[1,"empty"],[1,"combat",3,"ngClass"],[1,"score",3,"ngClass"],[1,"combined",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512"],["d","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z",2,"/*! line-height","22px !important","*//*! margin-top","10px !important"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(e,n){1&e&&ze(0,tEe,69,36,"ng-container",0),2&e&&oe("ngIf",n.authenticated)},dependencies:[r1,Df,Zi,ni],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:75px}.empty[_ngcontent-%COMP%]{width:50px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%]{width:75px}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;border:1px solid #5e5e5e;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}th[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:12px;vertical-align:middle;margin-top:-2px;margin-left:3px;fill:#72bde0}th.selected[_ngcontent-%COMP%], td.selected[_ngcontent-%COMP%]{background:#3b3b3b!important}"]}),Ht([jn(1,Lt())],Bw.prototype,"orderBy",null);let nEe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[Bw]}),t.\u0275inj=Tt({providers:[ni],imports:[Br,Aw,Zb,cs(()=>us(Zn_firebase)),Js(()=>Zs()),Ts(()=>Ss(ls(),{provider:new co(Zn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class gt{constructor(e,n){this._target=e,this._rate=n}get target(){return this._target}set target(e){this._target=e}get rate(){return this._rate}set rate(e){this._rate=e}toJSON(){return{target:this.target,rate:this.rate}}}var vd;class Hw{createSimulation(e){document.querySelectorAll(".dgt-fight-simulation-container").forEach(n=>{const r=n.querySelector(".dgt-fight-simulation"),i=parseInt(r.attributes.getNamedItem("eta").value),o=new Map,s=new Map;e.forEach(f=>{const h=f.hostile?"hostile":"allied";f.eta<=i&&(o.has(h)?o.get(h).push(f):o.set(h,[f]))}),o.forEach((f,h)=>{s.set(h,this.totalFleet(f))});let a=0,c=0,l=0,u=0;s.forEach((f,h)=>{f.hostile="hostile"===h,f.allied="allied"===h;let p=0,g=0;f.ships.forEach(m=>{switch(m.name){case Ee.FIGHTER:g+=0,p+=2e3*m.quantity;break;case Ee.BOMBER:g+=4e3*m.quantity,p+=0;break;case Ee.FRIGATE:p+=12e3*m.quantity,g+=8e3*m.quantity;break;case Ee.DESTROYER:p+=4e4*m.quantity,g+=4e4*m.quantity;break;case Ee.CRUISER:p+=12e4*m.quantity,g+=6e4*m.quantity;break;case Ee.BATTLESHIP:p+=6e5*m.quantity,g+=4e5*m.quantity}n.querySelector(".dgt-fight-simulator-by-rof tr."+m.name+" td.before."+h).innerHTML=m.quantity.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),f.allied?a+=p/1.5+g:c+=p/1.5+g,n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.metal td.before."+h).innerHTML=p.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.mineral td.before."+h).innerHTML=g.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),this.simulateFight(s.get("allied"),s.get("hostile"),1).forEach((f,h)=>{let p=0,g=0;f.ships.forEach(m=>{switch(m.name){case Ee.FIGHTER:g+=0,p+=2e3*m.quantity;break;case Ee.BOMBER:g+=4e3*m.quantity,p+=0;break;case Ee.FRIGATE:p+=12e3*m.quantity,g+=8e3*m.quantity;break;case Ee.DESTROYER:p+=4e4*m.quantity,g+=4e4*m.quantity;break;case Ee.CRUISER:p+=12e4*m.quantity,g+=6e4*m.quantity;break;case Ee.BATTLESHIP:p+=6e5*m.quantity,g+=4e5*m.quantity}n.querySelector(".dgt-fight-simulator-by-rof tr."+m.name+" td.after."+h).innerHTML=m.quantity.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),f.allied?l+=p/1.5+g:u+=p/1.5+g,n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.metal td.after."+h).innerHTML=p.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.mineral td.after."+h).innerHTML=g.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.total td.allied").innerHTML=(a-l).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),n.querySelector(".dgt-fight-simulator-by-rof tr.resource-row.total td.hostile").innerHTML=(c-u).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})})}totalFleet(e){let n=new kM;n.ships.push(new qs(Ee.FIGHTER,0)),n.ships.push(new qs(Ee.BOMBER,0)),n.ships.push(new qs(Ee.FRIGATE,0)),n.ships.push(new qs(Ee.DESTROYER,0)),n.ships.push(new qs(Ee.CRUISER,0)),n.ships.push(new qs(Ee.BATTLESHIP,0));for(let r of e)for(const i of r.ships)this.getShips(n,i.name).quantity+=i.quantity;return n}simulateFight(e,n,r=1){let i=0;for(;!this.isFleetDestroyed(e)&&!this.isFleetDestroyed(n)&&i<r;){let o=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(n));this.fightersAttack(this.getShips(o,Ee.FIGHTER).quantity,n),this.fightersAttack(this.getShips(s,Ee.FIGHTER).quantity,e),this.bombersAttack(this.getShips(o,Ee.BOMBER).quantity,n),this.bombersAttack(this.getShips(s,Ee.BOMBER).quantity,e),this.frigateAttack(this.getShips(o,Ee.FRIGATE).quantity,n),this.frigateAttack(this.getShips(s,Ee.FRIGATE).quantity,e),this.destroyerAttack(this.getShips(o,Ee.DESTROYER).quantity,n),this.destroyerAttack(this.getShips(s,Ee.DESTROYER).quantity,e),this.cruiserAttack(this.getShips(o,Ee.CRUISER).quantity,n),this.cruiserAttack(this.getShips(s,Ee.CRUISER).quantity,e),this.battleShipAttack(this.getShips(o,Ee.BATTLESHIP).quantity,n),this.battleShipAttack(this.getShips(s,Ee.BATTLESHIP).quantity,e),i++}return new Map([e.hostile?["hostile",e]:["allied",e],n.hostile?["hostile",n]:["allied",n]])}fightersAttack(e,n){const r=[new gt(Ee.BOMBER,.33333),new gt(Ee.FIGHTER,.90999),new gt(Ee.FRIGATE,.02532),new gt(Ee.DESTROYER,.00684),new gt(Ee.CRUISER,.002),new gt(Ee.BATTLESHIP,22e-5)];this.attack(e,Ee.FIGHTER,n,r)}bombersAttack(e,n){const r=[new gt(Ee.DESTROYER,.05),new gt(Ee.FRIGATE,.25),new gt(Ee.BATTLESHIP,.0025),new gt(Ee.BOMBER,.29999),new gt(Ee.CRUISER,.004)];this.attack(e,Ee.BOMBER,n,r)}frigateAttack(e,n){const r=[new gt(Ee.CRUISER,.08332),new gt(Ee.FIGHTER,12.11999),new gt(Ee.DESTROYER,.66666),new gt(Ee.BOMBER,.69999),new gt(Ee.FRIGATE,.5),new gt(Ee.BATTLESHIP,.004)];this.attack(e,Ee.FRIGATE,n,r)}destroyerAttack(e,n){const r=[new gt(Ee.BATTLESHIP,.1),new gt(Ee.CRUISER,.32999),new gt(Ee.DESTROYER,.59999),new gt(Ee.FRIGATE,.4),new gt(Ee.FIGHTER,5.99988),new gt(Ee.BOMBER,2)];this.attack(e,Ee.DESTROYER,n,r)}cruiserAttack(e,n){const r=[new gt(Ee.FIGHTER,113.89521),new gt(Ee.BOMBER,37.73584),new gt(Ee.FRIGATE,2),new gt(Ee.CRUISER,.25),new gt(Ee.DESTROYER,.2),new gt(Ee.BATTLESHIP,.025)];this.attack(e,Ee.CRUISER,n,r)}battleShipAttack(e,n){const r=[new gt(Ee.FRIGATE,43.99472),new gt(Ee.CRUISER,4),new gt(Ee.BATTLESHIP,.32999),new gt(Ee.FIGHTER,328.947368),new gt(Ee.BOMBER,47.98464),new gt(Ee.DESTROYER,2)];this.attack(e,Ee.BATTLESHIP,n,r)}attack(e,n,r,i){for(const o of i){const s=o.rate,a=this.getShips(r,o.target);if(a.quantity>0&&e>0){const c=Math.min(a.quantity,Math.floor(s*e));a.quantity=Math.max(0,a.quantity-c),e=Math.max(0,e-Math.ceil(c/s))}}}getShips(e,n){return e.ships.filter(r=>r.name===n)[0]}isFleetDestroyed(e){return 0===e.ships.filter(n=>n.quantity>0).length}}(vd=Hw).\u0275fac=function(e){return new(e||vd)},vd.\u0275prov=Ce({token:vd,factory:vd.\u0275fac,providedIn:"root"}),Ht([jn(2,Lt())],Hw.prototype,"simulateFight",null);let rEe=(()=>{var t;class e{applyFleetScore(r){r.forEach(i=>{const o=document.querySelector('.dgt-fleet[dgt-fleet-id="'+i.id+'"]');null!=o&&(o.querySelector(".dgt-fleet-score-value").innerHTML=Math.ceil(i.score).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}),document.querySelectorAll(".dgt-eta-score").forEach(i=>{const o=parseInt(i.attributes.getNamedItem("eta").value),s=r.filter(l=>l.eta===o);let a=0,c=0;s.length>0&&s.forEach(l=>{l.hostile?a+=Math.ceil(l.score):c+=Math.ceil(l.score)}),i.querySelector(".hostile.dgt-eta-score-value").innerHTML=Math.ceil(a).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),i.querySelector(".allied.dgt-eta-score-value").innerHTML=Math.ceil(c).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),iEe=(()=>{var t;class e{constructor(){this.fightSimulatorService=z(Hw),this.fleetScoreService=z(rEe),this.dgAPI=z(gi),this.authService=z(Bi),this.initialized=!1}ngAfterViewInit(){this.authService.authState.subscribe(r=>{if(r.status&&!this.initialized){const i=this.dgAPI.fleetScan();this.fleetScoreService.applyFleetScore(i),this.fightSimulatorService.createSimulation(i),this.initialized=!0}}),this.authService.checkLoginValidity()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=On({type:t,selectors:[["dgt-fleet-scan-details"]],decls:0,vars:0,template:function(r,i){}}),e})(),oEe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[iEe]}),t.\u0275inj=Tt({imports:[Br]}),e})();const $r=$te();let sEe=window.location.pathname.split(/\//g);$r.bootstrapModule(_6e).finally(()=>{$r.bootstrapModule(g6e).finally(()=>{$r.bootstrapModule(Y2e).finally(()=>{$r.bootstrapModule(N3e).finally(()=>{$r.bootstrapModule(z1e).finally(()=>{!function aEe(t){2===t.length&&0===t[1].trim().length&&($r.bootstrapModule(Z6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),$r.bootstrapModule(c3e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&$r.bootstrapModule(B2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&($r.bootstrapModule(U2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),document.querySelector("dgt-fleet-scan-details")&&$r.bootstrapModule(oEe).catch(e=>console.error("Error loading FleetScanModule: "+e))),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&$r.bootstrapModule(q2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&$r.bootstrapModule(h6e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&$r.bootstrapModule(S3e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&$r.bootstrapModule(nEe).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&$r.bootstrapModule(V3e).catch(e=>console.error("Error loading ResearchModule: "+e))}(sEe)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,q=I.lib.BlockCipher,Z=I.algo,F=[],Q=[],y=[],w=[],k=[],E=[],T=[],C=[],S=[],A=[];!function(){for(var v=[],x=0;x<256;x++)v[x]=x<128?x<<1:x<<1^283;var H=0,L=0;for(x=0;x<256;x++){var G=L^L<<1^L<<2^L<<3^L<<4;F[H]=G=G>>>8^255&G^99,Q[G]=H;var _e,K=v[H],pe=v[K],de=v[pe];y[H]=(_e=257*v[G]^16843008*G)<<24|_e>>>8,w[H]=_e<<16|_e>>>16,k[H]=_e<<8|_e>>>24,E[H]=_e,T[G]=(_e=16843009*de^65537*pe^257*K^16843008*H)<<24|_e>>>8,C[G]=_e<<16|_e>>>16,S[G]=_e<<8|_e>>>24,A[G]=_e,H?(H=K^v[v[v[de^K]]],L^=v[v[L]]):H=L=1}}();var V=[0,1,2,4,8,16,32,64,128,27,54],O=Z.AES=q.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,H=x.words,L=x.sigBytes/4,K=4*((this._nRounds=L+6)+1),pe=this._keySchedule=[],de=0;de<K;de++)de<L?pe[de]=H[de]:(v=pe[de-1],de%L?L>6&&de%L==4&&(v=F[v>>>24]<<24|F[v>>>16&255]<<16|F[v>>>8&255]<<8|F[255&v]):(v=F[(v=v<<8|v>>>24)>>>24]<<24|F[v>>>16&255]<<16|F[v>>>8&255]<<8|F[255&v],v^=V[de/L|0]<<24),pe[de]=pe[de-L]^v);for(var _e=this._invKeySchedule=[],De=0;De<K;De++){if(de=K-De,De%4)var v=pe[de];else v=pe[de-4];_e[De]=De<4||de<=4?v:T[F[v>>>24]]^C[F[v>>>16&255]]^S[F[v>>>8&255]]^A[F[255&v]]}}},encryptBlock:function(v,x){this._doCryptBlock(v,x,this._keySchedule,y,w,k,E,F)},decryptBlock:function(v,x){var H=v[x+1];v[x+1]=v[x+3],v[x+3]=H,this._doCryptBlock(v,x,this._invKeySchedule,T,C,S,A,Q),H=v[x+1],v[x+1]=v[x+3],v[x+3]=H},_doCryptBlock:function(v,x,H,L,G,K,pe,de){for(var _e=this._nRounds,De=v[x]^H[0],J=v[x+1]^H[1],he=v[x+2]^H[2],Ie=v[x+3]^H[3],ue=4,Be=1;Be<_e;Be++){var me=L[De>>>24]^G[J>>>16&255]^K[he>>>8&255]^pe[255&Ie]^H[ue++],et=L[J>>>24]^G[he>>>16&255]^K[Ie>>>8&255]^pe[255&De]^H[ue++],at=L[he>>>24]^G[Ie>>>16&255]^K[De>>>8&255]^pe[255&J]^H[ue++],ee=L[Ie>>>24]^G[De>>>16&255]^K[J>>>8&255]^pe[255&he]^H[ue++];De=me,J=et,he=at,Ie=ee}me=(de[De>>>24]<<24|de[J>>>16&255]<<16|de[he>>>8&255]<<8|de[255&Ie])^H[ue++],et=(de[J>>>24]<<24|de[he>>>16&255]<<16|de[Ie>>>8&255]<<8|de[255&De])^H[ue++],at=(de[he>>>24]<<24|de[Ie>>>16&255]<<16|de[De>>>8&255]<<8|de[255&J])^H[ue++],ee=(de[Ie>>>24]<<24|de[De>>>16&255]<<16|de[J>>>8&255]<<8|de[255&he])^H[ue++],v[x]=me,v[x+1]=et,v[x+2]=at,v[x+3]=ee},keySize:8});I.AES=q._createHelper(O)}(),R.AES)},172:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,q=I.lib.BlockCipher;const F=16,Q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],y=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function k(A,V){let L=A.sbox[0][V>>24&255]+A.sbox[1][V>>16&255];return L^=A.sbox[2][V>>8&255],L+=A.sbox[3][255&V],L}function E(A,V,O){let H,v=V,x=O;for(let L=0;L<F;++L)v^=A.pbox[L],x=k(A,v)^x,H=v,v=x,x=H;return H=v,v=x,x=H,x^=A.pbox[F],v^=A.pbox[F+1],{left:v,right:x}}var S=I.algo.Blowfish=q.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function C(A,V,O){for(let G=0;G<4;G++){A.sbox[G]=[];for(let K=0;K<256;K++)A.sbox[G][K]=y[G][K]}let v=0;for(let G=0;G<F+2;G++)A.pbox[G]=Q[G]^V[v],v++,v>=O&&(v=0);let x=0,H=0,L=0;for(let G=0;G<F+2;G+=2)L=E(A,x,H),x=L.left,H=L.right,A.pbox[G]=x,A.pbox[G+1]=H;for(let G=0;G<4;G++)for(let K=0;K<256;K+=2)L=E(A,x,H),x=L.left,H=L.right,A.sbox[G][K]=x,A.sbox[G][K+1]=H;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,V){var O=E(w,A[V],A[V+1]);A[V]=O.left,A[V+1]=O.right},decryptBlock:function(A,V){var O=function T(A,V,O){let H,v=V,x=O;for(let L=F+1;L>1;--L)v^=A.pbox[L],x=k(A,v)^x,H=v,v=x,x=H;return H=v,v=x,x=H,x^=A.pbox[1],v^=A.pbox[0],{left:v,right:x}}(w,A[V],A[V+1]);A[V]=O.left,A[V+1]=O.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=q._createHelper(S)}(),R.Blowfish)},270:function(be,Te,B){var Y,q,Z,F,Q,y,k,T,C,A,V,O,x,L,K,pe,_e,De,R;be.exports=(R=B(12),B(66),void(R.lib.Cipher||(Y=R,q=Y.lib,Z=q.Base,F=q.WordArray,Q=q.BufferedBlockAlgorithm,y=Y.enc,k=y.Base64,T=Y.algo.EvpKDF,C=q.Cipher=Q.extend({cfg:Z.extend(),createEncryptor:function(J,he){return this.create(this._ENC_XFORM_MODE,J,he)},createDecryptor:function(J,he){return this.create(this._DEC_XFORM_MODE,J,he)},init:function(J,he,Ie){this.cfg=this.cfg.extend(Ie),this._xformMode=J,this._key=he,this.reset()},reset:function(){Q.reset.call(this),this._doReset()},process:function(J){return this._append(J),this._process()},finalize:function(J){return J&&this._append(J),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function J(he){return"string"==typeof he?De:pe}return function(he){return{encrypt:function(Ie,ue,Be){return J(ue).encrypt(he,Ie,ue,Be)},decrypt:function(Ie,ue,Be){return J(ue).decrypt(he,Ie,ue,Be)}}}}()}),q.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=Y.mode={},V=q.BlockCipherMode=Z.extend({createEncryptor:function(J,he){return this.Encryptor.create(J,he)},createDecryptor:function(J,he){return this.Decryptor.create(J,he)},init:function(J,he){this._cipher=J,this._iv=he}}),O=A.CBC=function(){var J=V.extend();function he(Ie,ue,Be){var me,et=this._iv;et?(me=et,this._iv=undefined):me=this._prevBlock;for(var at=0;at<Be;at++)Ie[ue+at]^=me[at]}return J.Encryptor=J.extend({processBlock:function(Ie,ue){var Be=this._cipher,me=Be.blockSize;he.call(this,Ie,ue,me),Be.encryptBlock(Ie,ue),this._prevBlock=Ie.slice(ue,ue+me)}}),J.Decryptor=J.extend({processBlock:function(Ie,ue){var Be=this._cipher,me=Be.blockSize,et=Ie.slice(ue,ue+me);Be.decryptBlock(Ie,ue),he.call(this,Ie,ue,me),this._prevBlock=et}}),J}(),x=(Y.pad={}).Pkcs7={pad:function(J,he){for(var Ie=4*he,ue=Ie-J.sigBytes%Ie,Be=ue<<24|ue<<16|ue<<8|ue,me=[],et=0;et<ue;et+=4)me.push(Be);var at=F.create(me,ue);J.concat(at)},unpad:function(J){J.sigBytes-=255&J.words[J.sigBytes-1>>>2]}},q.BlockCipher=C.extend({cfg:C.cfg.extend({mode:O,padding:x}),reset:function(){var J;C.reset.call(this);var he=this.cfg,Ie=he.iv,ue=he.mode;this._xformMode==this._ENC_XFORM_MODE?J=ue.createEncryptor:(J=ue.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==J?this._mode.init(this,Ie&&Ie.words):(this._mode=J.call(ue,this,Ie&&Ie.words),this._mode.__creator=J)},_doProcessBlock:function(J,he){this._mode.processBlock(J,he)},_doFinalize:function(){var J,he=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(he.pad(this._data,this.blockSize),J=this._process(!0)):(J=this._process(!0),he.unpad(J)),J},blockSize:4}),L=q.CipherParams=Z.extend({init:function(J){this.mixIn(J)},toString:function(J){return(J||this.formatter).stringify(this)}}),K=(Y.format={}).OpenSSL={stringify:function(J){var Ie=J.ciphertext,ue=J.salt;return(ue?F.create([1398893684,1701076831]).concat(ue).concat(Ie):Ie).toString(k)},parse:function(J){var he,Ie=k.parse(J),ue=Ie.words;return 1398893684==ue[0]&&1701076831==ue[1]&&(he=F.create(ue.slice(2,4)),ue.splice(0,4),Ie.sigBytes-=16),L.create({ciphertext:Ie,salt:he})}},pe=q.SerializableCipher=Z.extend({cfg:Z.extend({format:K}),encrypt:function(J,he,Ie,ue){ue=this.cfg.extend(ue);var Be=J.createEncryptor(Ie,ue),me=Be.finalize(he),et=Be.cfg;return L.create({ciphertext:me,key:Ie,iv:et.iv,algorithm:J,mode:et.mode,padding:et.padding,blockSize:J.blockSize,formatter:ue.format})},decrypt:function(J,he,Ie,ue){return ue=this.cfg.extend(ue),he=this._parse(he,ue.format),J.createDecryptor(Ie,ue).finalize(he.ciphertext)},_parse:function(J,he){return"string"==typeof J?he.parse(J,this):J}}),_e=(Y.kdf={}).OpenSSL={execute:function(J,he,Ie,ue,Be){if(ue||(ue=F.random(8)),Be)var me=T.create({keySize:he+Ie,hasher:Be}).compute(J,ue);else me=T.create({keySize:he+Ie}).compute(J,ue);var et=F.create(me.words.slice(he),4*Ie);return me.sigBytes=4*he,L.create({key:me,iv:et,salt:ue})}},De=q.PasswordBasedCipher=pe.extend({cfg:pe.cfg.extend({kdf:_e}),encrypt:function(J,he,Ie,ue){var Be=(ue=this.cfg.extend(ue)).kdf.execute(Ie,J.keySize,J.ivSize,ue.salt,ue.hasher);ue.iv=Be.iv;var me=pe.encrypt.call(this,J,he,Be.key,ue);return me.mixIn(Be),me},decrypt:function(J,he,Ie,ue){ue=this.cfg.extend(ue),he=this._parse(he,ue.format);var Be=ue.kdf.execute(Ie,J.keySize,J.ivSize,he.salt,ue.hasher);return ue.iv=Be.iv,pe.decrypt.call(this,J,he,Be.key,ue)}}))))},12:function(be,Te,B){var R;be.exports=(R=R||function(I,Y){var q;if(typeof window<"u"&&window.crypto&&(q=window.crypto),typeof self<"u"&&self.crypto&&(q=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(q=globalThis.crypto),!q&&typeof window<"u"&&window.msCrypto&&(q=window.msCrypto),!q&&typeof global<"u"&&global.crypto&&(q=global.crypto),!q)try{q=B(480)}catch{}var Z=function(){if(q){if("function"==typeof q.getRandomValues)try{return q.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof q.randomBytes)try{return q.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},F=Object.create||function(){function v(){}return function(x){var H;return v.prototype=x,H=new v,v.prototype=null,H}}(),Q={},y=Q.lib={},w=y.Base={extend:function(v){var x=F(this);return v&&x.mixIn(v),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var x in v)v.hasOwnProperty(x)&&(this[x]=v[x]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}},k=y.WordArray=w.extend({init:function(v,x){v=this.words=v||[],this.sigBytes=null!=x?x:4*v.length},toString:function(v){return(v||T).stringify(this)},concat:function(v){var x=this.words,H=v.words,L=this.sigBytes,G=v.sigBytes;if(this.clamp(),L%4)for(var K=0;K<G;K++)x[L+K>>>2]|=(H[K>>>2]>>>24-K%4*8&255)<<24-(L+K)%4*8;else for(var de=0;de<G;de+=4)x[L+de>>>2]=H[de>>>2];return this.sigBytes+=G,this},clamp:function(){var v=this.words,x=this.sigBytes;v[x>>>2]&=4294967295<<32-x%4*8,v.length=I.ceil(x/4)},clone:function(){var v=w.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var x=[],H=0;H<v;H+=4)x.push(Z());return new k.init(x,v)}}),E=Q.enc={},T=E.Hex={stringify:function(v){for(var x=v.words,H=v.sigBytes,L=[],G=0;G<H;G++){var K=x[G>>>2]>>>24-G%4*8&255;L.push((K>>>4).toString(16)),L.push((15&K).toString(16))}return L.join("")},parse:function(v){for(var x=v.length,H=[],L=0;L<x;L+=2)H[L>>>3]|=parseInt(v.substr(L,2),16)<<24-L%8*4;return new k.init(H,x/2)}},C=E.Latin1={stringify:function(v){for(var x=v.words,H=v.sigBytes,L=[],G=0;G<H;G++)L.push(String.fromCharCode(x[G>>>2]>>>24-G%4*8&255));return L.join("")},parse:function(v){for(var x=v.length,H=[],L=0;L<x;L++)H[L>>>2]|=(255&v.charCodeAt(L))<<24-L%4*8;return new k.init(H,x)}},S=E.Utf8={stringify:function(v){try{return decodeURIComponent(escape(C.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return C.parse(unescape(encodeURIComponent(v)))}},A=y.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(v){"string"==typeof v&&(v=S.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var x,H=this._data,L=H.words,G=H.sigBytes,K=this.blockSize,de=G/(4*K),_e=(de=v?I.ceil(de):I.max((0|de)-this._minBufferSize,0))*K,De=I.min(4*_e,G);if(_e){for(var J=0;J<_e;J+=K)this._doProcessBlock(L,J);x=L.splice(0,_e),H.sigBytes-=De}return new k.init(x,De)},clone:function(){var v=w.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),O=(y.Hasher=A.extend({cfg:w.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){return v&&this._append(v),this._doFinalize()},blockSize:16,_createHelper:function(v){return function(x,H){return new v.init(H).finalize(x)}},_createHmacHelper:function(v){return function(x,H){return new O.HMAC.init(v,H).finalize(x)}}}),Q.algo={});return Q}(Math),R)},506:function(be,Te,B){var R,q;be.exports=(R=B(12),q=R.lib.WordArray,R.enc.Base64={stringify:function(y){var w=y.words,k=y.sigBytes,E=this._map;y.clamp();for(var T=[],C=0;C<k;C+=3)for(var O=(w[C>>>2]>>>24-C%4*8&255)<<16|(w[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|w[C+2>>>2]>>>24-(C+2)%4*8&255,v=0;v<4&&C+.75*v<k;v++)T.push(E.charAt(O>>>6*(3-v)&63));var x=E.charAt(64);if(x)for(;T.length%4;)T.push(x);return T.join("")},parse:function(y){var w=y.length,k=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<k.length;T++)E[k.charCodeAt(T)]=T}var C=k.charAt(64);if(C){var S=y.indexOf(C);-1!==S&&(w=S)}return function Q(y,w,k){for(var E=[],T=0,C=0;C<w;C++)if(C%4){var S=k[y.charCodeAt(C-1)]<<C%4*2,A=k[y.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return q.create(E,T)}(y,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(be,Te,B){var R,q;be.exports=(R=B(12),q=R.lib.WordArray,R.enc.Base64url={stringify:function(y,w){void 0===w&&(w=!0);var k=y.words,E=y.sigBytes,T=w?this._safe_map:this._map;y.clamp();for(var C=[],S=0;S<E;S+=3)for(var v=(k[S>>>2]>>>24-S%4*8&255)<<16|(k[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|k[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<E;x++)C.push(T.charAt(v>>>6*(3-x)&63));var H=T.charAt(64);if(H)for(;C.length%4;)C.push(H);return C.join("")},parse:function(y,w){void 0===w&&(w=!0);var k=y.length,E=w?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var C=0;C<E.length;C++)T[E.charCodeAt(C)]=C}var S=E.charAt(64);if(S){var A=y.indexOf(S);-1!==A&&(k=A)}return function Q(y,w,k){for(var E=[],T=0,C=0;C<w;C++)if(C%4){var S=k[y.charCodeAt(C-1)]<<C%4*2,A=k[y.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return q.create(E,T)}(y,k,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(be,Te,B){var R;be.exports=(R=B(12),function(){var q=R.lib.WordArray,Z=R.enc;function Q(y){return y<<8&4278255360|y>>>8&16711935}Z.Utf16=Z.Utf16BE={stringify:function(y){for(var w=y.words,k=y.sigBytes,E=[],T=0;T<k;T+=2)E.push(String.fromCharCode(w[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(y){for(var w=y.length,k=[],E=0;E<w;E++)k[E>>>1]|=y.charCodeAt(E)<<16-E%2*16;return q.create(k,2*w)}},Z.Utf16LE={stringify:function(y){for(var w=y.words,k=y.sigBytes,E=[],T=0;T<k;T+=2){var C=Q(w[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(C))}return E.join("")},parse:function(y){for(var w=y.length,k=[],E=0;E<w;E++)k[E>>>1]|=Q(y.charCodeAt(E)<<16-E%2*16);return q.create(k,2*w)}}}(),R.enc.Utf16)},66:function(be,Te,B){var I,Y,q,Z,F,y,R;be.exports=(R=B(12),B(446),B(990),Z=(Y=(I=R).lib).WordArray,y=(F=I.algo).EvpKDF=(q=Y.Base).extend({cfg:q.extend({keySize:4,hasher:F.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,k){for(var E,T=this.cfg,C=T.hasher.create(),S=Z.create(),A=S.words,V=T.keySize,O=T.iterations;A.length<V;){E&&C.update(E),E=C.update(w).finalize(k),C.reset();for(var v=1;v<O;v++)E=C.finalize(E),C.reset();S.concat(E)}return S.sigBytes=4*V,S}}),I.EvpKDF=function(w,k,E){return y.create(E).compute(w,k)},R.EvpKDF)},826:function(be,Te,B){var R,Z,Q;be.exports=(R=B(12),B(270),Z=R.lib.CipherParams,Q=R.enc.Hex,R.format.Hex={stringify:function(k){return k.ciphertext.toString(Q)},parse:function(k){var E=Q.parse(k);return Z.create({ciphertext:E})}},R.format.Hex)},990:function(be,Te,B){var R,F;be.exports=(R=B(12),F=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(w,k){w=this._hasher=new w.init,"string"==typeof k&&(k=F.parse(k));var E=w.blockSize,T=4*E;k.sigBytes>T&&(k=w.finalize(k)),k.clamp();for(var C=this._oKey=k.clone(),S=this._iKey=k.clone(),A=C.words,V=S.words,O=0;O<E;O++)A[O]^=1549556828,V[O]^=909522486;C.sigBytes=S.sigBytes=T,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var k=this._hasher,E=k.finalize(w);return k.reset(),k.finalize(this._oKey.clone().concat(E))}})))},874:function(be,Te,B){var R;be.exports=(R=B(12),B(802),B(37),B(454),B(506),B(523),B(873),B(446),B(78),B(811),B(870),B(913),B(545),B(558),B(990),B(538),B(66),B(270),B(228),B(392),B(584),B(15),B(594),B(237),B(501),B(4),B(297),B(738),B(826),B(42),B(769),B(195),B(969),B(848),B(172),R)},37:function(be,Te,B){var R;be.exports=(R=B(12),function(){if("function"==typeof ArrayBuffer){var q=R.lib.WordArray,Z=q.init,F=q.init=function(Q){if(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),(Q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)&&(Q=new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)),Q instanceof Uint8Array){for(var y=Q.byteLength,w=[],k=0;k<y;k++)w[k>>>2]|=Q[k]<<24-k%4*8;Z.call(this,w,y)}else Z.apply(this,arguments)};F.prototype=q}}(),R.lib.WordArray)},873:function(be,Te,B){var R;be.exports=(R=B(12),function(I){var Y=R,q=Y.lib,Z=q.WordArray,F=q.Hasher,Q=Y.algo,y=[];!function(){for(var S=0;S<64;S++)y[S]=4294967296*I.abs(I.sin(S+1))|0}();var w=Q.MD5=F.extend({_doReset:function(){this._hash=new Z.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var V=0;V<16;V++){var O=A+V,v=S[O];S[O]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8)}var x=this._hash.words,H=S[A+0],L=S[A+1],G=S[A+2],K=S[A+3],pe=S[A+4],de=S[A+5],_e=S[A+6],De=S[A+7],J=S[A+8],he=S[A+9],Ie=S[A+10],ue=S[A+11],Be=S[A+12],me=S[A+13],et=S[A+14],at=S[A+15],ee=x[0],le=x[1],re=x[2],ce=x[3];ee=k(ee,le,re,ce,H,7,y[0]),ce=k(ce,ee,le,re,L,12,y[1]),re=k(re,ce,ee,le,G,17,y[2]),le=k(le,re,ce,ee,K,22,y[3]),ee=k(ee,le,re,ce,pe,7,y[4]),ce=k(ce,ee,le,re,de,12,y[5]),re=k(re,ce,ee,le,_e,17,y[6]),le=k(le,re,ce,ee,De,22,y[7]),ee=k(ee,le,re,ce,J,7,y[8]),ce=k(ce,ee,le,re,he,12,y[9]),re=k(re,ce,ee,le,Ie,17,y[10]),le=k(le,re,ce,ee,ue,22,y[11]),ee=k(ee,le,re,ce,Be,7,y[12]),ce=k(ce,ee,le,re,me,12,y[13]),re=k(re,ce,ee,le,et,17,y[14]),ee=E(ee,le=k(le,re,ce,ee,at,22,y[15]),re,ce,L,5,y[16]),ce=E(ce,ee,le,re,_e,9,y[17]),re=E(re,ce,ee,le,ue,14,y[18]),le=E(le,re,ce,ee,H,20,y[19]),ee=E(ee,le,re,ce,de,5,y[20]),ce=E(ce,ee,le,re,Ie,9,y[21]),re=E(re,ce,ee,le,at,14,y[22]),le=E(le,re,ce,ee,pe,20,y[23]),ee=E(ee,le,re,ce,he,5,y[24]),ce=E(ce,ee,le,re,et,9,y[25]),re=E(re,ce,ee,le,K,14,y[26]),le=E(le,re,ce,ee,J,20,y[27]),ee=E(ee,le,re,ce,me,5,y[28]),ce=E(ce,ee,le,re,G,9,y[29]),re=E(re,ce,ee,le,De,14,y[30]),ee=T(ee,le=E(le,re,ce,ee,Be,20,y[31]),re,ce,de,4,y[32]),ce=T(ce,ee,le,re,J,11,y[33]),re=T(re,ce,ee,le,ue,16,y[34]),le=T(le,re,ce,ee,et,23,y[35]),ee=T(ee,le,re,ce,L,4,y[36]),ce=T(ce,ee,le,re,pe,11,y[37]),re=T(re,ce,ee,le,De,16,y[38]),le=T(le,re,ce,ee,Ie,23,y[39]),ee=T(ee,le,re,ce,me,4,y[40]),ce=T(ce,ee,le,re,H,11,y[41]),re=T(re,ce,ee,le,K,16,y[42]),le=T(le,re,ce,ee,_e,23,y[43]),ee=T(ee,le,re,ce,he,4,y[44]),ce=T(ce,ee,le,re,Be,11,y[45]),re=T(re,ce,ee,le,at,16,y[46]),ee=C(ee,le=T(le,re,ce,ee,G,23,y[47]),re,ce,H,6,y[48]),ce=C(ce,ee,le,re,De,10,y[49]),re=C(re,ce,ee,le,et,15,y[50]),le=C(le,re,ce,ee,de,21,y[51]),ee=C(ee,le,re,ce,Be,6,y[52]),ce=C(ce,ee,le,re,K,10,y[53]),re=C(re,ce,ee,le,Ie,15,y[54]),le=C(le,re,ce,ee,L,21,y[55]),ee=C(ee,le,re,ce,J,6,y[56]),ce=C(ce,ee,le,re,at,10,y[57]),re=C(re,ce,ee,le,_e,15,y[58]),le=C(le,re,ce,ee,me,21,y[59]),ee=C(ee,le,re,ce,pe,6,y[60]),ce=C(ce,ee,le,re,ue,10,y[61]),re=C(re,ce,ee,le,G,15,y[62]),le=C(le,re,ce,ee,he,21,y[63]),x[0]=x[0]+ee|0,x[1]=x[1]+le|0,x[2]=x[2]+re|0,x[3]=x[3]+ce|0},_doFinalize:function(){var S=this._data,A=S.words,V=8*this._nDataBytes,O=8*S.sigBytes;A[O>>>5]|=128<<24-O%32;var v=I.floor(V/4294967296),x=V;A[15+(O+64>>>9<<4)]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8),A[14+(O+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),S.sigBytes=4*(A.length+1),this._process();for(var H=this._hash,L=H.words,G=0;G<4;G++){var K=L[G];L[G]=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8)}return H},clone:function(){var S=F.clone.call(this);return S._hash=this._hash.clone(),S}});function k(S,A,V,O,v,x,H){var L=S+(A&V|~A&O)+v+H;return(L<<x|L>>>32-x)+A}function E(S,A,V,O,v,x,H){var L=S+(A&O|V&~O)+v+H;return(L<<x|L>>>32-x)+A}function T(S,A,V,O,v,x,H){var L=S+(A^V^O)+v+H;return(L<<x|L>>>32-x)+A}function C(S,A,V,O,v,x,H){var L=S+(V^(A|~O))+v+H;return(L<<x|L>>>32-x)+A}Y.MD5=F._createHelper(w),Y.HmacMD5=F._createHmacHelper(w)}(Math),R.MD5)},228:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.mode.CFB=function(){var I=R.lib.BlockCipherMode.extend();function Y(q,Z,F,Q){var y,w=this._iv;w?(y=w.slice(0),this._iv=void 0):y=this._prevBlock,Q.encryptBlock(y,0);for(var k=0;k<F;k++)q[Z+k]^=y[k]}return I.Encryptor=I.extend({processBlock:function(q,Z){var F=this._cipher,Q=F.blockSize;Y.call(this,q,Z,Q,F),this._prevBlock=q.slice(Z,Z+Q)}}),I.Decryptor=I.extend({processBlock:function(q,Z){var F=this._cipher,Q=F.blockSize,y=q.slice(Z,Z+Q);Y.call(this,q,Z,Q,F),this._prevBlock=y}}),I}(),R.mode.CFB)},584:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.mode.CTRGladman=function(){var I=R.lib.BlockCipherMode.extend();function Y(F){if(255==(F>>24&255)){var Q=F>>16&255,y=F>>8&255,w=255&F;255===Q?(Q=0,255===y?(y=0,255===w?w=0:++w):++y):++Q,F=0,F+=Q<<16,F+=y<<8,F+=w}else F+=1<<24;return F}var Z=I.Encryptor=I.extend({processBlock:function(F,Q){var y=this._cipher,w=y.blockSize,k=this._iv,E=this._counter;k&&(E=this._counter=k.slice(0),this._iv=void 0),function q(F){return 0===(F[0]=Y(F[0]))&&(F[1]=Y(F[1])),F}(E);var T=E.slice(0);y.encryptBlock(T,0);for(var C=0;C<w;C++)F[Q+C]^=T[C]}});return I.Decryptor=Z,I}(),R.mode.CTRGladman)},392:function(be,Te,B){var I,Y,R;be.exports=(R=B(12),B(270),R.mode.CTR=(Y=(I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(q,Z){var F=this._cipher,Q=F.blockSize,y=this._iv,w=this._counter;y&&(w=this._counter=y.slice(0),this._iv=void 0);var k=w.slice(0);F.encryptBlock(k,0),w[Q-1]=w[Q-1]+1|0;for(var E=0;E<Q;E++)q[Z+E]^=k[E]}}),I.Decryptor=Y,I),R.mode.CTR)},594:function(be,Te,B){var I,R;be.exports=(R=B(12),B(270),R.mode.ECB=((I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(Y,q){this._cipher.encryptBlock(Y,q)}}),I.Decryptor=I.extend({processBlock:function(Y,q){this._cipher.decryptBlock(Y,q)}}),I),R.mode.ECB)},15:function(be,Te,B){var I,Y,R;be.exports=(R=B(12),B(270),R.mode.OFB=(Y=(I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(q,Z){var F=this._cipher,Q=F.blockSize,y=this._iv,w=this._keystream;y&&(w=this._keystream=y.slice(0),this._iv=void 0),F.encryptBlock(w,0);for(var k=0;k<Q;k++)q[Z+k]^=w[k]}}),I.Decryptor=Y,I),R.mode.OFB)},237:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.pad.AnsiX923={pad:function(I,Y){var q=I.sigBytes,Z=4*Y,F=Z-q%Z,Q=q+F-1;I.clamp(),I.words[Q>>>2]|=F<<24-Q%4*8,I.sigBytes+=F},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.pad.Iso10126={pad:function(I,Y){var q=4*Y,Z=q-I.sigBytes%q;I.concat(R.lib.WordArray.random(Z-1)).concat(R.lib.WordArray.create([Z<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.pad.Iso97971={pad:function(I,Y){I.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(I,Y)},unpad:function(I){R.pad.ZeroPadding.unpad(I),I.sigBytes--}},R.pad.Iso97971)},738:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(be,Te,B){var R;be.exports=(R=B(12),B(270),R.pad.ZeroPadding={pad:function(I,Y){var q=4*Y;I.clamp(),I.sigBytes+=q-(I.sigBytes%q||q)},unpad:function(I){var Y=I.words,q=I.sigBytes-1;for(q=I.sigBytes-1;q>=0;q--)if(Y[q>>>2]>>>24-q%4*8&255){I.sigBytes=q+1;break}}},R.pad.ZeroPadding)},538:function(be,Te,B){var I,Y,q,Z,F,y,w,R;be.exports=(R=B(12),B(78),B(990),Z=(Y=(I=R).lib).WordArray,y=(F=I.algo).HMAC,w=F.PBKDF2=(q=Y.Base).extend({cfg:q.extend({keySize:4,hasher:F.SHA256,iterations:25e4}),init:function(k){this.cfg=this.cfg.extend(k)},compute:function(k,E){for(var T=this.cfg,C=y.create(T.hasher,k),S=Z.create(),A=Z.create([1]),V=S.words,O=A.words,v=T.keySize,x=T.iterations;V.length<v;){var H=C.update(E).finalize(A);C.reset();for(var L=H.words,G=L.length,K=H,pe=1;pe<x;pe++){K=C.finalize(K),C.reset();for(var de=K.words,_e=0;_e<G;_e++)L[_e]^=de[_e]}S.concat(H),O[0]++}return S.sigBytes=4*v,S}}),I.PBKDF2=function(k,E,T){return w.create(T).compute(k,E)},R.PBKDF2)},848:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,q=I.lib.StreamCipher,F=[],Q=[],y=[],w=I.algo.RabbitLegacy=q.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,C=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)k.call(this);for(A=0;A<8;A++)S[A]^=C[A+4&7];if(T){var V=T.words,O=V[0],v=V[1],x=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8),L=x>>>16|4294901760&H,G=H<<16|65535&x;for(S[0]^=x,S[1]^=L,S[2]^=H,S[3]^=G,S[4]^=x,S[5]^=L,S[6]^=H,S[7]^=G,A=0;A<4;A++)k.call(this)}},_doProcessBlock:function(E,T){var C=this._X;k.call(this),F[0]=C[0]^C[5]>>>16^C[3]<<16,F[1]=C[2]^C[7]>>>16^C[5]<<16,F[2]=C[4]^C[1]>>>16^C[7]<<16,F[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)F[S]=16711935&(F[S]<<8|F[S]>>>24)|4278255360&(F[S]<<24|F[S]>>>8),E[T+S]^=F[S]},blockSize:4,ivSize:2});function k(){for(var E=this._X,T=this._C,C=0;C<8;C++)Q[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<Q[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<Q[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<Q[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<Q[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<Q[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<Q[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<Q[6]>>>0?1:0)|0,this._b=T[7]>>>0<Q[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,V=S>>>16;y[C]=((A*A>>>17)+A*V>>>15)+V*V^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=y[0]+(y[7]<<16|y[7]>>>16)+(y[6]<<16|y[6]>>>16)|0,E[1]=y[1]+(y[0]<<8|y[0]>>>24)+y[7]|0,E[2]=y[2]+(y[1]<<16|y[1]>>>16)+(y[0]<<16|y[0]>>>16)|0,E[3]=y[3]+(y[2]<<8|y[2]>>>24)+y[1]|0,E[4]=y[4]+(y[3]<<16|y[3]>>>16)+(y[2]<<16|y[2]>>>16)|0,E[5]=y[5]+(y[4]<<8|y[4]>>>24)+y[3]|0,E[6]=y[6]+(y[5]<<16|y[5]>>>16)+(y[4]<<16|y[4]>>>16)|0,E[7]=y[7]+(y[6]<<8|y[6]>>>24)+y[5]|0}I.RabbitLegacy=q._createHelper(w)}(),R.RabbitLegacy)},969:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,q=I.lib.StreamCipher,F=[],Q=[],y=[],w=I.algo.Rabbit=q.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,C=0;C<4;C++)E[C]=16711935&(E[C]<<8|E[C]>>>24)|4278255360&(E[C]<<24|E[C]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,C=0;C<4;C++)k.call(this);for(C=0;C<8;C++)A[C]^=S[C+4&7];if(T){var V=T.words,O=V[0],v=V[1],x=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8),L=x>>>16|4294901760&H,G=H<<16|65535&x;for(A[0]^=x,A[1]^=L,A[2]^=H,A[3]^=G,A[4]^=x,A[5]^=L,A[6]^=H,A[7]^=G,C=0;C<4;C++)k.call(this)}},_doProcessBlock:function(E,T){var C=this._X;k.call(this),F[0]=C[0]^C[5]>>>16^C[3]<<16,F[1]=C[2]^C[7]>>>16^C[5]<<16,F[2]=C[4]^C[1]>>>16^C[7]<<16,F[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)F[S]=16711935&(F[S]<<8|F[S]>>>24)|4278255360&(F[S]<<24|F[S]>>>8),E[T+S]^=F[S]},blockSize:4,ivSize:2});function k(){for(var E=this._X,T=this._C,C=0;C<8;C++)Q[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<Q[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<Q[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<Q[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<Q[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<Q[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<Q[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<Q[6]>>>0?1:0)|0,this._b=T[7]>>>0<Q[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,V=S>>>16;y[C]=((A*A>>>17)+A*V>>>15)+V*V^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=y[0]+(y[7]<<16|y[7]>>>16)+(y[6]<<16|y[6]>>>16)|0,E[1]=y[1]+(y[0]<<8|y[0]>>>24)+y[7]|0,E[2]=y[2]+(y[1]<<16|y[1]>>>16)+(y[0]<<16|y[0]>>>16)|0,E[3]=y[3]+(y[2]<<8|y[2]>>>24)+y[1]|0,E[4]=y[4]+(y[3]<<16|y[3]>>>16)+(y[2]<<16|y[2]>>>16)|0,E[5]=y[5]+(y[4]<<8|y[4]>>>24)+y[3]|0,E[6]=y[6]+(y[5]<<16|y[5]>>>16)+(y[4]<<16|y[4]>>>16)|0,E[7]=y[7]+(y[6]<<8|y[6]>>>24)+y[5]|0}I.Rabbit=q._createHelper(w)}(),R.Rabbit)},195:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,q=I.lib.StreamCipher,Z=I.algo,F=Z.RC4=q.extend({_doReset:function(){for(var w=this._key,k=w.words,E=w.sigBytes,T=this._S=[],C=0;C<256;C++)T[C]=C;C=0;for(var S=0;C<256;C++){var A=C%E,O=T[C];T[C]=T[S=(S+T[C]+(k[A>>>2]>>>24-A%4*8&255))%256],T[S]=O}this._i=this._j=0},_doProcessBlock:function(w,k){w[k]^=Q.call(this)},keySize:8,ivSize:0});function Q(){for(var w=this._S,k=this._i,E=this._j,T=0,C=0;C<4;C++){var S=w[k=(k+1)%256];w[k]=w[E=(E+w[k])%256],w[E]=S,T|=w[(w[k]+w[E])%256]<<24-8*C}return this._i=k,this._j=E,T}I.RC4=q._createHelper(F);var y=Z.RC4Drop=F.extend({cfg:F.cfg.extend({drop:192}),_doReset:function(){F._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)Q.call(this)}});I.RC4Drop=q._createHelper(y)}(),R.RC4)},558:function(be,Te,B){var R;be.exports=(R=B(12),function(I){var Y=R,q=Y.lib,Z=q.WordArray,F=q.Hasher,Q=Y.algo,y=Z.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=Z.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),k=Z.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=Z.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=Z.create([0,1518500249,1859775393,2400959708,2840853838]),C=Z.create([1352829926,1548603684,1836072691,2053994217,0]),S=Q.RIPEMD160=F.extend({_doReset:function(){this._hash=Z.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(L,G){for(var K=0;K<16;K++){var pe=G+K,de=L[pe];L[pe]=16711935&(de<<8|de>>>24)|4278255360&(de<<24|de>>>8)}var me,et,at,ee,le,re,ce,Bt,Ue,ct,ot,_e=this._hash.words,De=T.words,J=C.words,he=y.words,Ie=w.words,ue=k.words,Be=E.words;for(re=me=_e[0],ce=et=_e[1],Bt=at=_e[2],Ue=ee=_e[3],ct=le=_e[4],K=0;K<80;K+=1)ot=me+L[G+he[K]]|0,ot+=K<16?A(et,at,ee)+De[0]:K<32?V(et,at,ee)+De[1]:K<48?O(et,at,ee)+De[2]:K<64?v(et,at,ee)+De[3]:x(et,at,ee)+De[4],ot=(ot=H(ot|=0,ue[K]))+le|0,me=le,le=ee,ee=H(at,10),at=et,et=ot,ot=re+L[G+Ie[K]]|0,ot+=K<16?x(ce,Bt,Ue)+J[0]:K<32?v(ce,Bt,Ue)+J[1]:K<48?O(ce,Bt,Ue)+J[2]:K<64?V(ce,Bt,Ue)+J[3]:A(ce,Bt,Ue)+J[4],ot=(ot=H(ot|=0,Be[K]))+ct|0,re=ct,ct=Ue,Ue=H(Bt,10),Bt=ce,ce=ot;ot=_e[1]+at+Ue|0,_e[1]=_e[2]+ee+ct|0,_e[2]=_e[3]+le+re|0,_e[3]=_e[4]+me+ce|0,_e[4]=_e[0]+et+Bt|0,_e[0]=ot},_doFinalize:function(){var L=this._data,G=L.words,K=8*this._nDataBytes,pe=8*L.sigBytes;G[pe>>>5]|=128<<24-pe%32,G[14+(pe+64>>>9<<4)]=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),L.sigBytes=4*(G.length+1),this._process();for(var de=this._hash,_e=de.words,De=0;De<5;De++){var J=_e[De];_e[De]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8)}return de},clone:function(){var L=F.clone.call(this);return L._hash=this._hash.clone(),L}});function A(L,G,K){return L^G^K}function V(L,G,K){return L&G|~L&K}function O(L,G,K){return(L|~G)^K}function v(L,G,K){return L&K|G&~K}function x(L,G,K){return L^(G|~K)}function H(L,G){return L<<G|L>>>32-G}Y.RIPEMD160=F._createHelper(S),Y.HmacRIPEMD160=F._createHmacHelper(S)}(Math),R.RIPEMD160)},446:function(be,Te,B){var I,Y,q,Z,Q,y,R;be.exports=(R=B(12),q=(Y=(I=R).lib).WordArray,Q=[],y=I.algo.SHA1=(Z=Y.Hasher).extend({_doReset:function(){this._hash=new q.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,k){for(var E=this._hash.words,T=E[0],C=E[1],S=E[2],A=E[3],V=E[4],O=0;O<80;O++){if(O<16)Q[O]=0|w[k+O];else{var v=Q[O-3]^Q[O-8]^Q[O-14]^Q[O-16];Q[O]=v<<1|v>>>31}var x=(T<<5|T>>>27)+V+Q[O];x+=O<20?1518500249+(C&S|~C&A):O<40?1859775393+(C^S^A):O<60?(C&S|C&A|S&A)-1894007588:(C^S^A)-899497514,V=A,A=S,S=C<<30|C>>>2,C=T,T=x}E[0]=E[0]+T|0,E[1]=E[1]+C|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+V|0},_doFinalize:function(){var w=this._data,k=w.words,E=8*this._nDataBytes,T=8*w.sigBytes;return k[T>>>5]|=128<<24-T%32,k[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),k[15+(T+64>>>9<<4)]=E,w.sigBytes=4*k.length,this._process(),this._hash},clone:function(){var w=Z.clone.call(this);return w._hash=this._hash.clone(),w}}),I.SHA1=Z._createHelper(y),I.HmacSHA1=Z._createHmacHelper(y),R.SHA1)},811:function(be,Te,B){var I,q,Z,F,Q,R;be.exports=(R=B(12),B(78),q=(I=R).lib.WordArray,Q=(Z=I.algo).SHA224=(F=Z.SHA256).extend({_doReset:function(){this._hash=new q.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var y=F._doFinalize.call(this);return y.sigBytes-=4,y}}),I.SHA224=F._createHelper(Q),I.HmacSHA224=F._createHmacHelper(Q),R.SHA224)},78:function(be,Te,B){var R;be.exports=(R=B(12),function(I){var Y=R,q=Y.lib,Z=q.WordArray,F=q.Hasher,Q=Y.algo,y=[],w=[];!function(){function T(V){for(var O=I.sqrt(V),v=2;v<=O;v++)if(!(V%v))return!1;return!0}function C(V){return 4294967296*(V-(0|V))|0}for(var S=2,A=0;A<64;)T(S)&&(A<8&&(y[A]=C(I.pow(S,.5))),w[A]=C(I.pow(S,1/3)),A++),S++}();var k=[],E=Q.SHA256=F.extend({_doReset:function(){this._hash=new Z.init(y.slice(0))},_doProcessBlock:function(T,C){for(var S=this._hash.words,A=S[0],V=S[1],O=S[2],v=S[3],x=S[4],H=S[5],L=S[6],G=S[7],K=0;K<64;K++){if(K<16)k[K]=0|T[C+K];else{var pe=k[K-15],_e=k[K-2];k[K]=((pe<<25|pe>>>7)^(pe<<14|pe>>>18)^pe>>>3)+k[K-7]+((_e<<15|_e>>>17)^(_e<<13|_e>>>19)^_e>>>10)+k[K-16]}var he=A&V^A&O^V&O,Be=G+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&H^~x&L)+w[K]+k[K];G=L,L=H,H=x,x=v+Be|0,v=O,O=V,V=A,A=Be+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+he)|0}S[0]=S[0]+A|0,S[1]=S[1]+V|0,S[2]=S[2]+O|0,S[3]=S[3]+v|0,S[4]=S[4]+x|0,S[5]=S[5]+H|0,S[6]=S[6]+L|0,S[7]=S[7]+G|0},_doFinalize:function(){var T=this._data,C=T.words,S=8*this._nDataBytes,A=8*T.sigBytes;return C[A>>>5]|=128<<24-A%32,C[14+(A+64>>>9<<4)]=I.floor(S/4294967296),C[15+(A+64>>>9<<4)]=S,T.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var T=F.clone.call(this);return T._hash=this._hash.clone(),T}});Y.SHA256=F._createHelper(E),Y.HmacSHA256=F._createHmacHelper(E)}(Math),R.SHA256)},545:function(be,Te,B){var R;be.exports=(R=B(12),B(802),function(I){var Y=R,q=Y.lib,Z=q.WordArray,F=q.Hasher,y=Y.x64.Word,w=Y.algo,k=[],E=[],T=[];!function(){for(var A=1,V=0,O=0;O<24;O++){k[A+5*V]=(O+1)*(O+2)/2%64;var x=(2*A+3*V)%5;A=V%5,V=x}for(A=0;A<5;A++)for(V=0;V<5;V++)E[A+5*V]=V+(2*A+3*V)%5*5;for(var H=1,L=0;L<24;L++){for(var G=0,K=0,pe=0;pe<7;pe++){if(1&H){var de=(1<<pe)-1;de<32?K^=1<<de:G^=1<<de-32}128&H?H=H<<1^113:H<<=1}T[L]=y.create(G,K)}}();var C=[];!function(){for(var A=0;A<25;A++)C[A]=y.create()}();var S=w.SHA3=F.extend({cfg:F.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],V=0;V<25;V++)A[V]=new y.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,V){for(var O=this._state,v=this.blockSize/2,x=0;x<v;x++){var H=A[V+2*x],L=A[V+2*x+1];H=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8),(G=O[x]).high^=L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),G.low^=H}for(var K=0;K<24;K++){for(var pe=0;pe<5;pe++){for(var de=0,_e=0,De=0;De<5;De++)de^=(G=O[pe+5*De]).high,_e^=G.low;var J=C[pe];J.high=de,J.low=_e}for(pe=0;pe<5;pe++){var he=C[(pe+4)%5],Ie=C[(pe+1)%5],ue=Ie.high,Be=Ie.low;for(de=he.high^(ue<<1|Be>>>31),_e=he.low^(Be<<1|ue>>>31),De=0;De<5;De++)(G=O[pe+5*De]).high^=de,G.low^=_e}for(var me=1;me<25;me++){var et=(G=O[me]).high,at=G.low,ee=k[me];ee<32?(de=et<<ee|at>>>32-ee,_e=at<<ee|et>>>32-ee):(de=at<<ee-32|et>>>64-ee,_e=et<<ee-32|at>>>64-ee);var le=C[E[me]];le.high=de,le.low=_e}var re=C[0],ce=O[0];for(re.high=ce.high,re.low=ce.low,pe=0;pe<5;pe++)for(De=0;De<5;De++){var Bt=C[me=pe+5*De],Ue=C[(pe+1)%5+5*De],ct=C[(pe+2)%5+5*De];(G=O[me]).high=Bt.high^~Ue.high&ct.high,G.low=Bt.low^~Ue.low&ct.low}var G,ot=T[K];(G=O[0]).high^=ot.high,G.low^=ot.low}},_doFinalize:function(){var A=this._data,V=A.words,v=8*A.sigBytes,x=32*this.blockSize;V[v>>>5]|=1<<24-v%32,V[(I.ceil((v+1)/x)*x>>>5)-1]|=128,A.sigBytes=4*V.length,this._process();for(var H=this._state,L=this.cfg.outputLength/8,G=L/8,K=[],pe=0;pe<G;pe++){var de=H[pe],_e=de.high,De=de.low;_e=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),K.push(De=16711935&(De<<8|De>>>24)|4278255360&(De<<24|De>>>8)),K.push(_e)}return new Z.init(K,L)},clone:function(){for(var A=F.clone.call(this),V=A._state=this._state.slice(0),O=0;O<25;O++)V[O]=V[O].clone();return A}});Y.SHA3=F._createHelper(S),Y.HmacSHA3=F._createHmacHelper(S)}(Math),R.SHA3)},913:function(be,Te,B){var I,Y,q,Z,F,Q,y,R;be.exports=(R=B(12),B(802),B(870),q=(Y=(I=R).x64).Word,Z=Y.WordArray,y=(F=I.algo).SHA384=(Q=F.SHA512).extend({_doReset:function(){this._hash=new Z.init([new q.init(3418070365,3238371032),new q.init(1654270250,914150663),new q.init(2438529370,812702999),new q.init(355462360,4144912697),new q.init(1731405415,4290775857),new q.init(2394180231,1750603025),new q.init(3675008525,1694076839),new q.init(1203062813,3204075428)])},_doFinalize:function(){var w=Q._doFinalize.call(this);return w.sigBytes-=16,w}}),I.SHA384=Q._createHelper(y),I.HmacSHA384=Q._createHmacHelper(y),R.SHA384)},870:function(be,Te,B){var R;be.exports=(R=B(12),B(802),function(){var I=R,q=I.lib.Hasher,Z=I.x64,F=Z.Word,Q=Z.WordArray,y=I.algo;function w(){return F.create.apply(F,arguments)}var k=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],E=[];!function(){for(var C=0;C<80;C++)E[C]=w()}();var T=y.SHA512=q.extend({_doReset:function(){this._hash=new Q.init([new F.init(1779033703,4089235720),new F.init(3144134277,2227873595),new F.init(1013904242,4271175723),new F.init(2773480762,1595750129),new F.init(1359893119,2917565137),new F.init(2600822924,725511199),new F.init(528734635,4215389547),new F.init(1541459225,327033209)])},_doProcessBlock:function(C,S){for(var A=this._hash.words,V=A[0],O=A[1],v=A[2],x=A[3],H=A[4],L=A[5],G=A[6],K=A[7],pe=V.high,de=V.low,_e=O.high,De=O.low,J=v.high,he=v.low,Ie=x.high,ue=x.low,Be=H.high,me=H.low,et=L.high,at=L.low,ee=G.high,le=G.low,re=K.high,ce=K.low,Bt=pe,Ue=de,ct=_e,ot=De,nt=J,uo=he,yd=Ie,$o=ue,mr=Be,Ht=me,jn=et,$c=at,Ed=ee,Gc=le,s0=re,Ra=ce,Gr=0;Gr<80;Gr++){var qr,Ii,qc=E[Gr];if(Gr<16)Ii=qc.high=0|C[S+2*Gr],qr=qc.low=0|C[S+2*Gr+1];else{var Wc=E[Gr-15],Go=Wc.high,ka=Wc.low,a0=(ka>>>1|Go<<31)^(ka>>>8|Go<<24)^(ka>>>7|Go<<25),zi=E[Gr-2],qo=zi.high,Na=zi.low,l0=(Na>>>19|qo<<13)^(Na<<3|qo>>>29)^(Na>>>6|qo<<26),u0=E[Gr-7],d0=E[Gr-16],f0=d0.low;qc.high=Ii=(Ii=(Ii=((Go>>>1|ka<<31)^(Go>>>8|ka<<24)^Go>>>7)+u0.high+((qr=a0+u0.low)>>>0<a0>>>0?1:0))+((qo>>>19|Na<<13)^(qo<<3|Na>>>29)^qo>>>6)+((qr+=l0)>>>0<l0>>>0?1:0))+d0.high+((qr+=f0)>>>0<f0>>>0?1:0),qc.low=qr}var _r,C_=mr&jn^~mr&Ed,h0=Ht&$c^~Ht&Gc,x_=Bt&ct^Bt&nt^ct&nt,Cd=(Ue>>>28|Bt<<4)^(Ue<<30|Bt>>>2)^(Ue<<25|Bt>>>7),xd=k[Gr],Id=xd.low,Ui=s0+((mr>>>14|Ht<<18)^(mr>>>18|Ht<<14)^(mr<<23|Ht>>>9))+((_r=Ra+((Ht>>>14|mr<<18)^(Ht>>>18|mr<<14)^(Ht<<23|mr>>>9)))>>>0<Ra>>>0?1:0),bd=Cd+(Ue&ot^Ue&uo^ot&uo);s0=Ed,Ra=Gc,Ed=jn,Gc=$c,jn=mr,$c=Ht,mr=yd+(Ui=(Ui=(Ui=Ui+C_+((_r+=h0)>>>0<h0>>>0?1:0))+xd.high+((_r+=Id)>>>0<Id>>>0?1:0))+Ii+((_r+=qr)>>>0<qr>>>0?1:0))+((Ht=$o+_r|0)>>>0<$o>>>0?1:0)|0,yd=nt,$o=uo,nt=ct,uo=ot,ct=Bt,ot=Ue,Bt=Ui+(((Bt>>>28|Ue<<4)^(Bt<<30|Ue>>>2)^(Bt<<25|Ue>>>7))+x_+(bd>>>0<Cd>>>0?1:0))+((Ue=_r+bd|0)>>>0<_r>>>0?1:0)|0}de=V.low=de+Ue,V.high=pe+Bt+(de>>>0<Ue>>>0?1:0),De=O.low=De+ot,O.high=_e+ct+(De>>>0<ot>>>0?1:0),he=v.low=he+uo,v.high=J+nt+(he>>>0<uo>>>0?1:0),ue=x.low=ue+$o,x.high=Ie+yd+(ue>>>0<$o>>>0?1:0),me=H.low=me+Ht,H.high=Be+mr+(me>>>0<Ht>>>0?1:0),at=L.low=at+$c,L.high=et+jn+(at>>>0<$c>>>0?1:0),le=G.low=le+Gc,G.high=ee+Ed+(le>>>0<Gc>>>0?1:0),ce=K.low=ce+Ra,K.high=re+s0+(ce>>>0<Ra>>>0?1:0)},_doFinalize:function(){var C=this._data,S=C.words,A=8*this._nDataBytes,V=8*C.sigBytes;return S[V>>>5]|=128<<24-V%32,S[30+(V+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(V+128>>>10<<5)]=A,C.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var C=q.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});I.SHA512=q._createHelper(T),I.HmacSHA512=q._createHmacHelper(T)}(),R.SHA512)},769:function(be,Te,B){var R;be.exports=(R=B(12),B(506),B(873),B(66),B(270),function(){var I=R,Y=I.lib,q=Y.WordArray,Z=Y.BlockCipher,F=I.algo,Q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],y=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],k=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=F.DES=Z.extend({_doReset:function(){for(var O=this._key.words,v=[],x=0;x<56;x++){var H=Q[x]-1;v[x]=O[H>>>5]>>>31-H%32&1}for(var L=this._subKeys=[],G=0;G<16;G++){var K=L[G]=[],pe=w[G];for(x=0;x<24;x++)K[x/6|0]|=v[(y[x]-1+pe)%28]<<31-x%6,K[4+(x/6|0)]|=v[28+(y[x+24]-1+pe)%28]<<31-x%6;for(K[0]=K[0]<<1|K[0]>>>31,x=1;x<7;x++)K[x]=K[x]>>>4*(x-1)+3;K[7]=K[7]<<5|K[7]>>>27}var de=this._invSubKeys=[];for(x=0;x<16;x++)de[x]=L[15-x]},encryptBlock:function(V,O){this._doCryptBlock(V,O,this._subKeys)},decryptBlock:function(V,O){this._doCryptBlock(V,O,this._invSubKeys)},_doCryptBlock:function(V,O,v){this._lBlock=V[O],this._rBlock=V[O+1],C.call(this,4,252645135),C.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),C.call(this,1,1431655765);for(var x=0;x<16;x++){for(var H=v[x],L=this._lBlock,G=this._rBlock,K=0,pe=0;pe<8;pe++)K|=k[pe][((G^H[pe])&E[pe])>>>0];this._lBlock=G,this._rBlock=L^K}var de=this._lBlock;this._lBlock=this._rBlock,this._rBlock=de,C.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),V[O]=this._lBlock,V[O+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(V,O){var v=(this._lBlock>>>V^this._rBlock)&O;this._rBlock^=v,this._lBlock^=v<<V}function S(V,O){var v=(this._rBlock>>>V^this._lBlock)&O;this._lBlock^=v,this._rBlock^=v<<V}I.DES=Z._createHelper(T);var A=F.TripleDES=Z.extend({_doReset:function(){var O=this._key.words;if(2!==O.length&&4!==O.length&&O.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=O.slice(0,2),x=O.length<4?O.slice(0,2):O.slice(2,4),H=O.length<6?O.slice(0,2):O.slice(4,6);this._des1=T.createEncryptor(q.create(v)),this._des2=T.createEncryptor(q.create(x)),this._des3=T.createEncryptor(q.create(H))},encryptBlock:function(V,O){this._des1.encryptBlock(V,O),this._des2.decryptBlock(V,O),this._des3.encryptBlock(V,O)},decryptBlock:function(V,O){this._des3.decryptBlock(V,O),this._des2.encryptBlock(V,O),this._des1.decryptBlock(V,O)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=Z._createHelper(A)}(),R.TripleDES)},802:function(be,Te,B){var q,Z,F,Q,R;be.exports=(R=B(12),Z=(q=R.lib).Base,F=q.WordArray,(Q=R.x64={}).Word=Z.extend({init:function(k,E){this.high=k,this.low=E}}),Q.WordArray=Z.extend({init:function(k,E){k=this.words=k||[],this.sigBytes=null!=E?E:8*k.length},toX32:function(){for(var k=this.words,E=k.length,T=[],C=0;C<E;C++){var S=k[C];T.push(S.high),T.push(S.low)}return F.create(T,this.sigBytes)},clone:function(){for(var k=Z.clone.call(this),E=k.words=this.words.slice(0),T=E.length,C=0;C<T;C++)E[C]=E[C].clone();return k}}),R)},480:()=>{}},be=>{be(be.s=624)}]);