(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{237:(Ee,Ie,L)=>{"use strict";function R(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const q=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function j(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(s){e=s instanceof q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof q?e=[...e,...o.errors]:e.push(o)}}if(e)throw new q(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&j(n,e)}remove(e){const{_finalizers:n}=this;n&&j(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const N=J.EMPTY;function K(t){return t instanceof J||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function _(t){R(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(t,e,...n){const{delegate:r}=M;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=M;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){M.setTimeout(()=>{const{onUnhandledError:e}=b;if(!e)throw t;e(t)})}function T(){}const C=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(b.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class B extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,K(e)&&e.add(this)):this.destination=X}static create(e,n,r){return new de(e,n,r)}next(e){this.isStopped?Ae(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ae(function S(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ae(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function U(t,e){return O.call(t,e)}class G{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){le(r)}else le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){le(n)}}}class de extends B{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&U(e.next,s),error:e.error&&U(e.error,s),complete:e.complete&&U(e.complete,s)}):i=e}this.destination=new G(i)}}function le(t){b.useDeprecatedSynchronousErrorHandling?function x(t){b.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function Ae(t,e){const{onStoppedNotification:n}=b;n&&M.setTimeout(()=>n(t,e))}const X={closed:!0,next:T,error:function ge(t){throw t},complete:T},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ye(t){return t}function Fe(t){return 0===t.length?ye:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof B||function rt(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&K(t)}(n)?n:new de(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ye(r))((i,s)=>{const o=new de({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ue](){return this}pipe(...n){return Fe(n)(this)}toPromise(n){return new(n=Ye(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ye(t){var e;return null!==(e=t??b.Promise)&&void 0!==e?e:Promise}const ae=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ae}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,j(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new he;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function Pt(t){return R(t?.lift)}function Be(t){return e=>{if(Pt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,r,i){return new tt(t,e,n,r,i)}class tt extends B{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Je(t,e){return Be((n,r)=>{let i=0;n.subscribe(it(r,s=>{r.next(t.call(e,s,i++))}))})}function ar(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Qt(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Er(t,e){return function(n,r){e(n,r,t)}}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function Jp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Bc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const s0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fd(t){return R(t?.then)}function o0(t){return R(t[ue])}function a0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function hd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pd=function p_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cr(t){return R(t?.[pd])}function Fi(t){return function Us(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Oi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Oi(n.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{n.releaseLock()}})}function gd(t){return R(t?.getReader)}function lr(t){if(t instanceof he)return t;if(null!=t){if(o0(t))return function fj(t){return new he(e=>{const n=t[ue]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(s0(t))return function hj(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fd(t))return function pj(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(a0(t))return Rw(t);if(cr(t))return function gj(t){return new he(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gd(t))return function mj(t){return Rw(Fi(t))}(t)}throw hd(t)}function Rw(t){return new he(e=>{(function _j(t,e){var n,r,i,s;return function zr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Jp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function js(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qn(t,e,n=1/0){return R(e)?qn((r,i)=>Je((s,o)=>e(r,s,i,o))(lr(t(r,i))),n):("number"==typeof e&&(n=e),Be((r,i)=>function vj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let y=!1;lr(n(g,u++)).subscribe(it(e,D=>{i?.(D),s?h(D):e.next(D)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const D=c.shift();o?js(e,o,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(it(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function c0(t=1/0){return qn(ye,t)}const is=new he(t=>t.complete());function g_(t){return t[t.length-1]}function Mw(t){return R(g_(t))?t.pop():void 0}function md(t){return function Ej(t){return t&&R(t.schedule)}(g_(t))?t.pop():void 0}function l0(t,e=0){return Be((n,r)=>{n.subscribe(it(r,i=>js(r,t,()=>r.next(i),e),()=>js(r,t,()=>r.complete(),e),i=>js(r,t,()=>r.error(i),e)))})}function u0(t,e=0){return Be((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Pw(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{js(n,e,()=>{const r=t[Symbol.asyncIterator]();js(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Wn(t,e){return e?function Tj(t,e){if(null!=t){if(o0(t))return function xj(t,e){return lr(t).pipe(u0(e),l0(e))}(t,e);if(s0(t))return function bj(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fd(t))return function Ij(t,e){return lr(t).pipe(u0(e),l0(e))}(t,e);if(a0(t))return Pw(t,e);if(cr(t))return function wj(t,e){return new he(n=>{let r;return js(n,e,()=>{r=t[pd](),js(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(gd(t))return function Aj(t,e){return Pw(Fi(t),e)}(t,e)}throw hd(t)}(t,e):lr(t)}class Ci extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function He(...t){return Wn(t,md(t))}function kw(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Be((g,y)=>{l++,!d&&!u&&f();const D=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=m_(p,i))}),D.subscribe(y),!o&&l>0&&(o=new de({next:w=>D.next(w),error:w=>{d=!0,f(),a=m_(h,n,w),D.error(w)},complete:()=>{u=!0,f(),a=m_(h,r),D.complete()}}),lr(g).subscribe(o))})(s)}}function m_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return lr(e(...n)).subscribe(r)}function xi(t,e){return Be((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(it(r,c=>{i?.unsubscribe();let l=0;const u=s++;lr(t(c,u)).subscribe(i=it(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nw(t,e=ye){return t=t??Dj,Be((n,r)=>{let i,s=!0;n.subscribe(it(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Dj(t,e){return t===e}function bt(t){for(let e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function d0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Sn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Sn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function __(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Rj=bt({__forward_ref__:bt});function Ft(t){return t.__forward_ref__=Ft,t.toString=function(){return Sn(this())},t}function je(t){return v_(t)?t():t}function v_(t){return"function"==typeof t&&t.hasOwnProperty(Rj)&&t.__forward_ref__===Ft}function y_(t){return t&&!!t.\u0275providers}const Ow="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function f0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function E_(t,e){throw new re(-201,!1)}function Ii(t,e){null==t&&function ze(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{providers:t.providers||[],imports:t.imports||[]}}function h0(t){return Fw(t,g0)||Fw(t,Vw)}function Fw(t,e){return t.hasOwnProperty(e)?t[e]:null}function p0(t){return t&&(t.hasOwnProperty(C_)||t.hasOwnProperty(Lj))?t[C_]:null}const g0=bt({\u0275prov:bt}),C_=bt({\u0275inj:bt}),Vw=bt({ngInjectableDef:bt}),Lj=bt({ngInjectorDef:bt});var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lt||{});let x_;function jr(t){const e=x_;return x_=t,e}function Bw(t,e,n){const r=h0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&lt.Optional?null:void 0!==e?e:void E_(Sn(t))}const Vt=globalThis;class Ce{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _d={},T_="__NG_DI_FLAG__",m0="ngTempTokenPath",zj=/\n/gm,zw="__source";let Hc;function Mo(t){const e=Hc;return Hc=t,e}function $j(t,e=lt.Default){if(void 0===Hc)throw new re(-203,!1);return null===Hc?Bw(t,void 0,e):Hc.get(t,e&lt.Optional?null:void 0,e)}function Re(t,e=lt.Default){return(function Lw(){return x_}()||$j)(je(t),e)}function W(t,e=lt.Default){return Re(t,_0(e))}function _0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function S_(t){const e=[];for(let n=0;n<t.length;n++){const r=je(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=lt.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Gj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Re(i,s))}else e.push(Re(r))}return e}function vd(t,e){return t[T_]=e,t.prototype[T_]=e,t}function Gj(t){return t[T_]}function $s(t){return{toString:t}.toString()}var v0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(v0||{}),Vi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vi||{});const ss={},_t=[],y0=bt({\u0275cmp:bt}),D_=bt({\u0275dir:bt}),R_=bt({\u0275pipe:bt}),jw=bt({\u0275mod:bt}),Gs=bt({\u0275fac:bt}),yd=bt({__NG_ELEMENT_ID__:bt}),$w=bt({__NG_ENV_ID__:bt});function Gw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function M_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Ww(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qw(t){return 3===t||4===t||6===t}function Ww(t){return 64===t.charCodeAt(0)}function Ed(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Kw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Kw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Yw="ng-template";function Kj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Gw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Qw(t){return 4===t.type&&t.value!==Yw}function Yj(t,e,n){return e===(4!==t.type||n?t.value:Yw)}function Qj(t,e,n){let r=4;const i=t.attrs||[],s=function Zj(t){for(let e=0;e<t.length;e++)if(qw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Yj(t,c,n)||""===c&&1===e.length){if(Li(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Kj(t.attrs,l,n)){if(Li(r))return!1;o=!0}continue}const d=Xj(8&r?"class":c,i,Qw(t),n);if(-1===d){if(Li(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Gw(h,l,0)||2&r&&l!==f){if(Li(r))return!1;o=!0}}}}else{if(!o&&!Li(r)&&!Li(c))return!1;if(o&&Li(c))continue;o=!1,r=c|1&r}}return Li(r)||o}function Li(t){return 0==(1&t)}function Xj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qj(t,e[r],n))return!0;return!1}function t$(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Jw(t,e){return t?":not("+e.trim()+")":e}function n$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Li(o)&&(e+=Jw(s,i),i=""),r=o,s=s||!Li(r);n++}return""!==i&&(e+=Jw(s,i)),e}function Dn(t){return $s(()=>{const e=eA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===v0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vi.Emulated,styles:t.styles||_t,_:null,schemas:t.schemas||null,tView:null,id:""};tA(n);const r=t.dependencies;return n.directiveDefs=E0(r,!1),n.pipeDefs=E0(r,!0),n.id=function u$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function o$(t){return ft(t)||Kn(t)}function a$(t){return null!==t}function wt(t){return $s(()=>({type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zw(t,e){if(null==t)return ss;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ve(t){return $s(()=>{const e=eA(t);return tA(e),e})}function Vn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ft(t){return t[y0]||null}function Kn(t){return t[D_]||null}function Cr(t){return t[R_]||null}function ii(t,e){const n=t[jw]||null;if(!n&&!0===e)throw new Error(`Type ${Sn(t)} does not have '\u0275mod' property.`);return n}function eA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ss,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zw(t.inputs,e),outputs:Zw(t.outputs)}}function tA(t){t.features?.forEach(e=>e(t))}function E0(t,e){if(!t)return null;const n=e?Cr:o$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(a$)}const an=0,we=1,Qe=2,Xt=3,Bi=4,Cd=5,ur=6,Uc=7,gn=8,Po=9,jc=10,qe=11,xd=12,nA=13,$c=14,mn=15,Id=16,Gc=17,os=18,bd=19,rA=20,ko=21,qs=22,wd=23,Ad=24,st=25,P_=1,iA=2,as=7,qc=9,Yn=11;function $r(t){return Array.isArray(t)&&"object"==typeof t[P_]}function xr(t){return Array.isArray(t)&&!0===t[P_]}function k_(t){return 0!=(4&t.flags)}function Da(t){return t.componentOffset>-1}function x0(t){return 1==(1&t.flags)}function Hi(t){return!!t.template}function N_(t){return 0!=(512&t[Qe])}function Ra(t,e){return t.hasOwnProperty(Gs)?t[Gs]:null}let Qn=null,I0=!1;function bi(t){const e=Qn;return Qn=t,e}const aA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lA(t){if(!Sd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function dA(t){t.dirty=!0,function uA(t){if(void 0===t.liveConsumerNode)return;const e=I0;I0=!0;try{for(const n of t.liveConsumerNode)n.dirty||dA(n)}finally{I0=e}}(t),t.consumerMarkedDirty?.(t)}function F_(t){return t&&(t.nextProducerIndex=0),bi(t)}function V_(t,e){if(bi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Sd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)b0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fA(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lA(n),r!==n.version))return!0}return!1}function hA(t){if(Wc(t),Sd(t))for(let e=0;e<t.producerNode.length;e++)b0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function b0(t,e){if(function gA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Wc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)b0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function Sd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let mA=null;function yA(t){const e=bi(null);try{return t()}finally{bi(e)}}const EA=()=>{},I$=(()=>({...aA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:EA}))();class b${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ir(){return CA}function CA(t){return t.type.prototype.ngOnChanges&&(t.setInput=A$),w$}function w$(){const t=IA(this),e=t?.current;if(e){const n=t.previous;if(n===ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function A$(t,e,n,r){const i=this.declaredInputs[n],s=IA(t)||function T$(t,e){return t[xA]=e}(t,{previous:ss,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new b$(c&&c.currentValue,e,a===ss),t[r]=e}Ir.ngInherit=!0;const xA="__ngSimpleChanges__";function IA(t){return t[xA]||null}const cs=function(t,e,n){},bA="svg";function Lt(t){for(;Array.isArray(t);)t=t[an];return t}function w0(t,e){return Lt(e[t])}function Gr(t,e){return Lt(e[t.index])}function AA(t,e){return t.data[e]}function Kc(t,e){return t[e]}function si(t,e){const n=e[t];return $r(n)?n:n[an]}function Oo(t,e){return null==e?null:t[e]}function TA(t){t[Gc]=0}function k$(t){1024&t[Qe]||(t[Qe]|=1024,DA(t,1))}function SA(t){1024&t[Qe]&&(t[Qe]&=-1025,DA(t,-1))}function DA(t,e){let n=t[Xt];if(null===n)return;n[Cd]+=e;let r=n;for(n=n[Xt];null!==n&&(1===e&&1===r[Cd]||-1===e&&0===r[Cd]);)n[Cd]+=e,r=n,n=n[Xt]}const Ue={lFrame:HA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PA(){return Ue.bindingsEnabled}function Yc(){return null!==Ue.skipHydrationRootTNode}function ee(){return Ue.lFrame.lView}function ht(){return Ue.lFrame.tView}function br(t){return Ue.lFrame.contextLView=t,t[gn]}function wr(t){return Ue.lFrame.contextLView=null,t}function Xn(){let t=kA();for(;null!==t&&64===t.type;)t=t.parent;return t}function kA(){return Ue.lFrame.currentTNode}function ls(t,e){const n=Ue.lFrame;n.currentTNode=t,n.isParent=e}function U_(){return Ue.lFrame.isParent}function j_(){Ue.lFrame.isParent=!1}function Ar(){const t=Ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qc(){return Ue.lFrame.bindingIndex++}function G$(t,e){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,$_(e)}function $_(t){Ue.lFrame.currentDirectiveIndex=t}function VA(){return Ue.lFrame.currentQueryIndex}function q_(t){Ue.lFrame.currentQueryIndex=t}function W$(t){const e=t[we];return 2===e.type?e.declTNode:1===e.type?t[ur]:null}function LA(t,e,n){if(n&lt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&lt.Host||(i=W$(s),null===i||(s=s[$c],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Ue.lFrame=BA();return r.currentTNode=e,r.lView=t,!0}function W_(t){const e=BA(),n=t[we];Ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BA(){const t=Ue.lFrame,e=null===t?null:t.child;return null===e?HA(t):e}function HA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function zA(){const t=Ue.lFrame;return Ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const UA=zA;function K_(){const t=zA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tr(){return Ue.lFrame.selectedIndex}function Ma(t){Ue.lFrame.selectedIndex=t}function rn(){const t=Ue.lFrame;return AA(t.tView,t.selectedIndex)}function Sr(){Ue.lFrame.currentNamespace=bA}let $A=!0;function A0(){return $A}function Fo(t){$A=t}function T0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function S0(t,e,n){GA(t,e,3,n)}function D0(t,e,n,r){(3&t[Qe])===n&&GA(t,e,n,r)}function Y_(t,e){let n=t[Qe];(3&n)===e&&(n&=8191,n+=1,t[Qe]=n)}function GA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Gc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Gc]+=65536),(a<s||-1==s)&&(eG(t,n,e,c),t[Gc]=(4294901760&t[Gc])+c+2),c++}function qA(t,e){cs(4,t,e);const n=bi(null);try{e.call(t)}finally{bi(n),cs(5,t,e)}}function eG(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qe]>>13<t[Gc]>>16&&(3&t[Qe])===e&&(t[Qe]+=8192,qA(a,s)):qA(a,s)}const Xc=-1;class Rd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function X_(t){return t!==Xc}function Md(t){return 32767&t}function Pd(t,e){let n=function iG(t){return t>>16}(t),r=e;for(;n>0;)r=r[$c],n--;return r}let J_=!0;function R0(t){const e=J_;return J_=t,e}const WA=255,KA=5;let sG=0;const us={};function M0(t,e){const n=YA(t,e);if(-1!==n)return n;const r=e[we];r.firstCreatePass&&(t.injectorIndex=e.length,Z_(r.data,t),Z_(e,null),Z_(r.blueprint,null));const i=P0(t,e),s=t.injectorIndex;if(X_(i)){const o=Md(i),a=Pd(i,e),c=a[we].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Z_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function P0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=n5(i),null===r)return Xc;if(n++,i=i[$c],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Xc}function ev(t,e,n){!function oG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(yd)&&(r=n[yd]),null==r&&(r=n[yd]=sG++);const i=r&WA;e.data[t+(i>>KA)]|=1<<i}(t,e,n)}function QA(t,e,n){if(n&lt.Optional||void 0!==t)return t;E_()}function XA(t,e,n,r){if(n&lt.Optional&&void 0===r&&(r=null),!(n&(lt.Self|lt.Host))){const i=t[Po],s=jr(void 0);try{return i?i.get(e,r,n&lt.Optional):Bw(e,r,n&lt.Optional)}finally{jr(s)}}return QA(r,0,n)}function JA(t,e,n,r=lt.Default,i){if(null!==t){if(2048&e[Qe]&&!(r&lt.Self)){const o=function fG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Qe]&&!(512&o[Qe]);){const a=ZA(s,o,n,r|lt.Self,us);if(a!==us)return a;let c=s.parent;if(!c){const l=o[rA];if(l){const u=l.get(n,us,r);if(u!==us)return u}c=n5(o),o=o[$c]}s=c}return i}(t,e,n,r,us);if(o!==us)return o}const s=ZA(t,e,n,r,us);if(s!==us)return s}return XA(e,n,r,i)}function ZA(t,e,n,r,i){const s=function lG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(yd)?t[yd]:void 0;return"number"==typeof e?e>=0?e&WA:dG:e}(n);if("function"==typeof s){if(!LA(e,t,r))return r&lt.Host?QA(i,0,r):XA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&lt.Optional)return o;E_()}finally{UA()}}else if("number"==typeof s){let o=null,a=YA(t,e),c=Xc,l=r&lt.Host?e[mn][ur]:null;for((-1===a||r&lt.SkipSelf)&&(c=-1===a?P0(t,e):e[a+8],c!==Xc&&t5(r,!1)?(o=e[we],a=Md(c),e=Pd(c,e)):a=-1);-1!==a;){const u=e[we];if(e5(s,a,u.data)){const d=cG(a,e,n,o,r,l);if(d!==us)return d}c=e[a+8],c!==Xc&&t5(r,e[we].data[a+8]===l)&&e5(s,a,e)?(o=u,a=Md(c),e=Pd(c,e)):a=-1}}return i}function cG(t,e,n,r,i,s){const o=e[we],a=o.data[t+8],u=k0(a,o,n,null==r?Da(a)&&J_:r!=o&&0!=(3&a.type),i&lt.Host&&s===a);return null!==u?Pa(e,o,u,a):us}function k0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Hi(h)&&h.type===n)return c}return null}function Pa(t,e,n,r){let i=t[n];const s=e.data;if(function tG(t){return t instanceof Rd}(i)){const o=i;o.resolving&&function Mj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(s[n]));const a=R0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?jr(o.injectImpl):null;LA(t,r,lt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Z$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&jr(l),R0(a),o.resolving=!1,UA()}}return i}function e5(t,e,n){return!!(n[e+(t>>KA)]&1<<t)}function t5(t,e){return!(t&lt.Self||t&lt.Host&&e)}class Dr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return JA(this._tNode,this._lView,e,_0(r),n)}}function dG(){return new Dr(Xn(),ee())}function Jn(t){return $s(()=>{const e=t.prototype.constructor,n=e[Gs]||tv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Gs]||tv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function tv(t){return v_(t)?()=>{const e=tv(je(t));return e&&e()}:Ra(t)}function n5(t){const e=t[we],n=e.type;return 2===n?e.declTNode:1===n?t[ur]:null}const Zc="__parameters__";function tl(t,e,n){return $s(()=>{const r=function nv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Zc)?c[Zc]:Object.defineProperty(c,Zc,{value:[]})[Zc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function rl(t,e){t.forEach(n=>Array.isArray(n)?rl(n,e):e(n))}function i5(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function O0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Od(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function oi(t,e,n){let r=il(t,e);return r>=0?t[1|r]=n:(r=~r,function yG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function rv(t,e){const n=il(t,e);if(n>=0)return t[1|n]}function il(t,e){return function s5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Gt=vd(tl("Optional"),8),sv=vd(tl("SkipSelf"),4);function z0(t){return 128==(128&t.flags)}var Vo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vo||{});const HG=/^>|^->|<!--|-->|--!>|<!-$/g,zG=/(<|>)/g,UG="\u200b$1\u200b";const lv=new Map;let jG=0;const dv="__ngContext__";function dr(t,e){$r(e)?(t[dv]=e[bd],function GG(t){lv.set(t[bd],t)}(e)):t[dv]=e}let fv;function hv(t,e){return fv(t,e)}function Ld(t){const e=t[Xt];return xr(e)?e[Xt]:e}function w5(t){return T5(t[xd])}function A5(t){return T5(t[Bi])}function T5(t){for(;null!==t&&!xr(t);)t=t[Bi];return t}function al(t,e,n,r,i){if(null!=r){let s,o=!1;xr(r)?s=r:$r(r)&&(o=!0,r=r[an]);const a=Lt(r);0===t&&null!==n?null==i?M5(e,n,a):ka(e,n,a,i||null,!0):1===t&&null!==n?ka(e,n,a,i||null,!0):2===t?function K0(t,e,n){const r=q0(t,e);r&&function uq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function hq(t,e,n,r,i){const s=n[as];s!==Lt(n)&&al(e,t,r,s,i);for(let a=Yn;a<n.length;a++){const c=n[a];Hd(c[we],c,t,e,r,s)}}(e,t,s,n,i)}}function pv(t,e){return t.createComment(function _5(t){return t.replace(HG,e=>e.replace(zG,UG))}(e))}function $0(t,e,n){return t.createElement(e,n)}function D5(t,e){const n=t[qc],r=n.indexOf(e);SA(e),n.splice(r,1)}function G0(t,e){if(t.length<=Yn)return;const n=Yn+e,r=t[n];if(r){const i=r[Id];null!==i&&i!==t&&D5(i,r),e>0&&(t[n-1][Bi]=r[Bi]);const s=O0(t,Yn+e);!function nq(t,e){Hd(t,e,e[qe],2,null,null),e[an]=null,e[ur]=null}(r[we],r);const o=s[os];null!==o&&o.detachView(s[we]),r[Xt]=null,r[Bi]=null,r[Qe]&=-129}return r}function gv(t,e){if(!(256&e[Qe])){const n=e[qe];e[wd]&&hA(e[wd]),e[Ad]&&hA(e[Ad]),n.destroyNode&&Hd(t,e,n,3,null,null),function sq(t){let e=t[xd];if(!e)return mv(t[we],t);for(;e;){let n=null;if($r(e))n=e[xd];else{const r=e[Yn];r&&(n=r)}if(!n){for(;e&&!e[Bi]&&e!==t;)$r(e)&&mv(e[we],e),e=e[Xt];null===e&&(e=t),$r(e)&&mv(e[we],e),n=e&&e[Bi]}e=n}}(e)}}function mv(t,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function lq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Rd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];cs(4,a,c);try{c.call(a)}finally{cs(5,a,c)}}else{cs(4,i,s);try{s.call(i)}finally{cs(5,i,s)}}}}}(t,e),function cq(t,e){const n=t.cleanup,r=e[Uc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Uc]=null);const i=e[ko];if(null!==i){e[ko]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[we].type&&e[qe].destroy();const n=e[Id];if(null!==n&&xr(e[Xt])){n!==e[Xt]&&D5(n,e);const r=e[os];null!==r&&r.detachView(t)}!function qG(t){lv.delete(t[bd])}(e)}}function _v(t,e,n){return function R5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[an];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Vi.None||s===Vi.Emulated)return null}return Gr(r,n)}}(t,e.parent,n)}function ka(t,e,n,r,i){t.insertBefore(e,n,r,i)}function M5(t,e,n){t.appendChild(e,n)}function P5(t,e,n,r,i){null!==r?ka(t,e,n,r,i):M5(t,e,n)}function q0(t,e){return t.parentNode(e)}function k5(t,e,n){return O5(t,e,n)}let vv,Y0,xv,Q0,O5=function N5(t,e,n){return 40&t.type?Gr(t,n):null};function W0(t,e,n,r){const i=_v(t,r,e),s=e[qe],a=k5(r.parent||e[ur],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)P5(s,i,n[c],a,!1);else P5(s,i,n,a,!1);void 0!==vv&&vv(s,r,e,n,i)}function Bd(t,e){if(null!==e){const n=e.type;if(3&n)return Gr(e,t);if(4&n)return yv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Bd(t,r);{const i=t[e.index];return xr(i)?yv(-1,i):Lt(i)}}if(32&n)return hv(e,t)()||Lt(t[e.index]);{const r=V5(t,e);return null!==r?Array.isArray(r)?r[0]:Bd(Ld(t[mn]),r):Bd(t,e.next)}}return null}function V5(t,e){return null!==e?t[mn][ur].projection[e.projection]:null}function yv(t,e){const n=Yn+t+1;if(n<e.length){const r=e[n],i=r[we].firstChild;if(null!==i)return Bd(r,i)}return e[as]}function Ev(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&dr(Lt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Ev(t,e,n.child,r,i,s,!1),al(e,t,i,a,s);else if(32&c){const l=hv(n,r);let u;for(;u=l();)al(e,t,i,u,s);al(e,t,i,a,s)}else 16&c?B5(t,e,r,n,i,s):al(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Hd(t,e,n,r,i,s){Ev(n,r,t.firstChild,e,i,s,!1)}function B5(t,e,n,r,i,s){const o=n[mn],c=o[ur].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)al(e,t,i,c[l],s);else{let l=c;const u=o[Xt];z0(r)&&(l.flags|=128),Ev(t,e,l,u,i,s,!0)}}function H5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function z5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&M_(t,e,r),null!==i&&H5(t,e,i),null!==s&&function gq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function cl(t){return function Cv(){if(void 0===Y0&&(Y0=null,Vt.trustedTypes))try{Y0=Vt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Y0}()?.createHTML(t)||t}function ll(){if(void 0!==xv)return xv;if(typeof document<"u")return document;throw new re(210,!1)}function Iv(){if(void 0===Q0&&(Q0=null,Vt.trustedTypes))try{Q0=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Q0}function U5(t){return Iv()?.createHTML(t)||t}function $5(t){return Iv()?.createScriptURL(t)||t}class Na{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ow})`}}class Eq extends Na{getTypeName(){return"HTML"}}class Cq extends Na{getTypeName(){return"Style"}}class xq extends Na{getTypeName(){return"Script"}}class Iq extends Na{getTypeName(){return"URL"}}class bq extends Na{getTypeName(){return"ResourceURL"}}function ai(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function ds(t,e){const n=function wq(t){return t instanceof Na&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ow})`)}return n===e}class Mq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(cl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Pq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=cl(e),n}}const Nq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function X0(t){return(t=String(t)).match(Nq)?t:"unsafe:"+t}function Ys(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const q5=Ys("area,br,col,hr,img,wbr"),W5=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K5=Ys("rp,rt"),bv=zd(q5,zd(W5,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zd(K5,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zd(K5,W5)),wv=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Y5=zd(wv,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oq=Ys("script,style,template");class Fq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!bv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Oq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Y5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;wv[a]&&(c=X0(c)),this.buf.push(" ",o,'="',Q5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();bv.hasOwnProperty(n)&&!q5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Q5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Vq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lq=/([^\#-~ |!])/g;function Q5(t){return t.replace(/&/g,"&amp;").replace(Vq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Lq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let J0;function X5(t,e){let n=null;try{J0=J0||function G5(t){const e=new Pq(t);return function kq(){try{return!!(new window.DOMParser).parseFromString(cl(""),"text/html")}catch{return!1}}()?new Mq(e):e}(t);let r=e?String(e):"";n=J0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=J0.getInertBodyElement(r)}while(r!==s);return cl((new Fq).sanitizeChildren(Av(n)||n))}finally{if(n){const r=Av(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Av(t){return"content"in t&&function Bq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ai=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ai||{});function J5(t){const e=Ud();return e?U5(e.sanitize(Ai.HTML,t)||""):ds(t,"HTML")?U5(ai(t)):X5(ll(),Ge(t))}function Tv(t){const e=Ud();if(e)return $5(e.sanitize(Ai.RESOURCE_URL,t)||"");if(ds(t,"ResourceURL"))return $5(ai(t));throw new re(904,!1)}function Ud(){const t=ee();return t&&t[jc].sanitizer}const jd=new Ce("ENVIRONMENT_INITIALIZER"),tT=new Ce("INJECTOR",-1),nT=new Ce("INJECTOR_DEF_TYPES");class Sv{get(e,n=_d){if(n===_d){const r=new Error(`NullInjectorError: No provider for ${Sn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Gq(...t){return{\u0275providers:rT(0,t),\u0275fromNgModule:!0}}function rT(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return rl(e,o=>{const a=o;Z0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&iT(i,s),n}function iT(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Rv(i,s=>{e(s,r)})}}function Z0(t,e,n,r){if(!(t=je(t)))return!1;let i=null,s=p0(t);const o=!s&&ft(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=p0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Z0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{rl(s.imports,u=>{Z0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&iT(l,e)}if(!a){const l=Ra(i)||(()=>new i);e({provide:i,useFactory:l,deps:_t},i),e({provide:nT,useValue:i,multi:!0},i),e({provide:jd,useValue:()=>Re(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;Rv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Rv(t,e){for(let n of t)y_(n)&&(n=n.\u0275providers),Array.isArray(n)?Rv(n,e):e(n)}const qq=bt({provide:String,useValue:bt});function Mv(t){return null!==t&&"object"==typeof t&&qq in t}function Oa(t){return"function"==typeof t}const Pv=new Ce("Set Injector scope."),eg={},Kq={};let kv;function tg(){return void 0===kv&&(kv=new Sv),kv}class Ti{}class ul extends Ti{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ov(e,o=>this.processProvider(o)),this.records.set(tT,dl(void 0,this)),i.has("environment")&&this.records.set(Ti,dl(void 0,this));const s=this.records.get(Pv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nT.multi,_t,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Mo(this),r=jr(void 0);try{return e()}finally{Mo(n),jr(r)}}get(e,n=_d,r=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($w))return e[$w](this);r=_0(r);const s=Mo(this),o=jr(void 0);try{if(!(r&lt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Zq(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ce}(e)&&h0(e);c=l&&this.injectableDefInScope(l)?dl(Nv(e),eg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&lt.Self?tg():this.parent).get(e,n=r&lt.Optional&&n===_d?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[m0]=a[m0]||[]).unshift(Sn(e)),s)throw a;return function qj(t,e,n,r){const i=t[m0];throw e[zw]&&i.unshift(e[zw]),t.message=function Wj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Sn(e);if(Array.isArray(e))i=e.map(Sn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Sn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[m0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{jr(o),Mo(s)}}resolveInjectorInitializers(){const e=Mo(this),n=jr(void 0);try{const i=this.get(jd.multi,_t,lt.Self);for(const s of i)s()}finally{Mo(e),jr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=Oa(e=je(e))?e:je(e&&e.provide);const r=function Qq(t){return Mv(t)?dl(void 0,t.useValue):dl(aT(t),eg)}(e);if(Oa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=dl(void 0,eg,!0),i.factory=()=>S_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===eg&&(n.value=Kq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Jq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=je(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Nv(t){const e=h0(t),n=null!==e?e.factory:Ra(t);if(null!==n)return n;if(t instanceof Ce)throw new re(204,!1);if(t instanceof Function)return function Yq(t){const e=t.length;if(e>0)throw Od(e,"?"),new re(204,!1);const n=function Vj(t){return t&&(t[g0]||t[Vw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function aT(t,e,n){let r;if(Oa(t)){const i=je(t);return Ra(i)||Nv(i)}if(Mv(t))r=()=>je(t.useValue);else if(function oT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...S_(t.deps||[]));else if(function sT(t){return!(!t||!t.useExisting)}(t))r=()=>Re(je(t.useExisting));else{const i=je(t&&(t.useClass||t.provide));if(!function Xq(t){return!!t.deps}(t))return Ra(i)||Nv(i);r=()=>new i(...S_(t.deps))}return r}function dl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ov(t,e){for(const n of t)Array.isArray(n)?Ov(n,e):n&&y_(n)?Ov(n.\u0275providers,e):e(n)}const ng=new Ce("AppId",{providedIn:"root",factory:()=>eW}),eW="ng",cT=new Ce("Platform Initializer"),fs=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lT=new Ce("CSP nonce",{providedIn:"root",factory:()=>ll().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uT=(t,e,n)=>null;function jv(t,e,n=!1){return uT(t,e,n)}class uW{}class hT{}class fW{resolveComponentFactory(e){throw function dW(t){const e=Error(`No component factory found for ${Sn(t)}.`);return e.ngComponent=t,e}(e)}}let qd=(()=>{class e{}return e.NULL=new fW,e})();function hW(){return pl(Xn(),ee())}function pl(t,e){return new Rr(Gr(t,e))}let Rr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=hW,e})();function pW(t){return t instanceof Rr?t.nativeElement:t}class gT{}let hs=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function gW(){const t=ee(),n=si(Xn().index,t);return($r(n)?n:t)[qe]}(),e})(),mW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class gl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mT=new gl("16.2.12"),qv={};function ET(t,e=null,n=null,r){const i=CT(t,e,n,r);return i.resolveInjectorInitializers(),i}function CT(t,e=null,n=null,r,i=new Set){const s=[n||_t,Gq(t)];return r=r||("object"==typeof t?void 0:Sn(t)),new ul(s,e||tg(),r||null,i)}let Mn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return ET({name:""},i,r,"");{const s=r.name??"";return ET({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=_d,t.NULL=new Sv,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>Re(tT)}),t.__NG_ELEMENT_ID__=-1,e})();function Kv(t){return t.ngOriginalError}class Qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kv(e);for(;n&&Kv(n);)n=Kv(n);return n||null}}function Qv(t){return e=>{setTimeout(t,void 0,e)}}const Rt=class IW extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Qv(s),i&&(i=Qv(i)),o&&(o=Qv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function IT(...t){}class mt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bW(){const t="function"==typeof Vt.requestAnimationFrame;let e=Vt[t?"requestAnimationFrame":"setTimeout"],n=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function TW(t){const e=()=>{!function AW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jv(t),t.isCheckStableRunning=!0,Xv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function DW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return bT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return bT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),wT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Jv(t),Xv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wW,IT,IT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const wW={};function Xv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wT(t){t._nesting--,Xv(t)}class SW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const AT=new Ce("",{providedIn:"root",factory:TT});function TT(){const t=W(mt);let e=!0;return function Sj(...t){const e=md(t),n=function Cj(t,e){return"number"==typeof g_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?lr(r[0]):c0(n)(Wn(r,e)):is}(new he(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new he(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{mt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(kw()))}function Xs(t){return t instanceof Function?t():t}let Zv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function Wd(t){for(;t;){t[Qe]|=64;const e=Ld(t);if(N_(t)&&!e)return t;t=e}return null}const PT=new Ce("",{providedIn:"root",factory:()=>!1});let lg=null;function FT(t,e){return t[e]??BT()}function VT(t,e){const n=BT();n.producerNode?.length&&(t[e]=lg,n.lView=t,lg=LT())}const BW={...aA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wd(t.lView)},lView:null};function LT(){return Object.create(BW)}function BT(){return lg??=LT(),lg}const Ke={};function fe(t){HT(ht(),ee(),Tr()+t,!1)}function HT(t,e,n,r){if(!r)if(3==(3&e[Qe])){const s=t.preOrderCheckHooks;null!==s&&S0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&D0(e,s,0,n)}Ma(n)}function te(t,e=lt.Default){const n=ee();return null===n?Re(t,e):JA(Xn(),n,je(t),e)}function ug(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[an]=i,d[Qe]=140|r,(null!==l||t&&2048&t[Qe])&&(d[Qe]|=2048),TA(d),d[Xt]=d[$c]=t,d[gn]=n,d[jc]=o||t&&t[jc],d[qe]=a||t&&t[qe],d[Po]=c||t&&t[Po]||null,d[ur]=s,d[bd]=function $G(){return jG++}(),d[qs]=u,d[rA]=l,d[mn]=2==e.type?t[mn]:d,d}function vl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ey(t,e,n,r,i){const s=kA(),o=U_(),c=t.data[e]=function KW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Yc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function $$(){return Ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Dd(){const t=Ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ls(s,!0),s}function Kd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zT(t,e,n,r,i){const s=FT(e,wd),o=Tr(),a=2&r;try{Ma(-1),a&&e.length>st&&HT(t,e,st,!1),cs(a?2:0,i);const l=a?s:null,u=F_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{V_(l,u)}}finally{a&&null===e[wd]&&VT(e,wd),Ma(o),cs(a?3:1,i)}}function ty(t,e,n){if(k_(e)){const r=bi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{bi(r)}}}function ny(t,e,n){PA()&&(function tK(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Da(n)&&function cK(t,e,n){const r=Gr(e,t),i=UT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=dg(t,ug(t,i,null,o,r,e,null,t[jc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||M0(n,e),dr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Pa(e,t,a,n);dr(l,e),null!==o&&lK(0,a-i,l,c,0,o),Hi(c)&&(si(n.index,e)[gn]=Pa(e,t,a,n))}}(t,e,n,Gr(n,e)),64==(64&n.flags)&&WT(t,e,n))}function ry(t,e,n=Gr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function UT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=iy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iy(t,e,n,r,i,s,o,a,c,l,u){const d=st+r,f=d+i,h=function UW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ke);return n}(d,f),p="function"==typeof l?l():l;return h[we]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let jT=t=>null;function $T(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?GT(n,e,i,s):r.hasOwnProperty(i)&&GT(n,e,r[i],s)}return n}function GT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ci(t,e,n,r,i,s,o,a){const c=Gr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(ly(t,n,u,r,i),Da(e)&&function XW(t,e){const n=si(e,t);16&n[Qe]||(n[Qe]|=64)}(n,e.index)):3&e.type&&(r=function QW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function sy(t,e,n,r){if(PA()){const i=null===r?null:{"":-1},s=function rK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Xw(e,o.selectors,!1))if(r||(r=[]),Hi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),oy(t,e,a.length)}else r.unshift(o),oy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qT(t,e,n,o,i,a),i&&function iK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ed(n.mergedAttrs,n.attrs)}function qT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)ev(M0(n,e),t,r[l].type);!function oK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Kd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Ed(n.mergedAttrs,u.hostAttrs),aK(t,n,e,c,u),sK(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function YW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=$T(d.inputs,u,c,f?f.inputs:null),l=$T(d.outputs,u,l,p);const g=null===c||null===o||Qw(e)?null:uK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function WT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function q$(){return Ue.lFrame.currentDirectiveIndex}();try{Ma(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];$_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nK(c,l)}}finally{Ma(-1),$_(o)}}function nK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hi(e)&&(n[""]=t)}}function aK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ra(i.type)),o=new Rd(s,Hi(i),te);t.blueprint[r]=o,n[r]=o,function ZW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function eK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Kd(t,n,i.hostVars,Ke),i)}function ps(t,e,n,r,i,s){const o=Gr(t,e);!function ay(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ge(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[qe],o,s,t.value,n,r,i)}function lK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)KT(r,n,o[a++],o[a++],o[a++])}function KT(t,e,n,r,i){const s=bi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{bi(s)}}function uK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function YT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function QT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];q_(n[r]),o.contentQueries(2,e[s],s)}}}function dg(t,e){return t[xd]?t[nA][Bi]=e:t[xd]=e,t[nA]=e,e}function cy(t,e,n){q_(0);const r=bi(null);try{e(t,n)}finally{bi(r)}}function XT(t){return t[Uc]||(t[Uc]=[])}function JT(t){return t.cleanup||(t.cleanup=[])}function eS(t,e){const n=t[Po],r=n?n.get(Qs,null):null;r&&r.handleError(e)}function ly(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];KT(t.data[o],e[o],r,a,i)}}function dK(t,e){const n=si(e,t),r=n[we];!function fK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[an];null!==i&&null===n[qs]&&(n[qs]=jv(i,n[Po])),uy(r,n,n[gn])}function uy(t,e,n){W_(e);try{const r=t.viewQuery;null!==r&&cy(1,r,n);const i=t.template;null!==i&&zT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&QT(t,e),t.staticViewQueries&&cy(2,t.viewQuery,n);const s=t.components;null!==s&&function hK(t,e){for(let n=0;n<e.length;n++)dK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qe]&=-5,K_()}}let tS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function x$(t,e,n){const r=Object.create(I$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>dA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!fA(r))return;r.hasRun=!0;const o=F_(r);try{r.cleanupFn(),r.cleanupFn=EA,r.fn(i)}finally{V_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function fg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=__(i,a):2==s&&(r=__(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Yd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Lt(s)),xr(s)&&nS(s,r);const o=n.type;if(8&o)Yd(t,e,n.child,r);else if(32&o){const a=hv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=V5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Ld(e[mn]);Yd(c[we],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nS(t,e){for(let n=Yn;n<t.length;n++){const r=t[n],i=r[we].firstChild;null!==i&&Yd(r[we],r,i,e)}t[as]!==t[an]&&e.push(t[as])}function hg(t,e,n,r=!0){const i=e[jc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{rS(t,e,t.template,n)}catch(c){throw r&&eS(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function rS(t,e,n,r){const i=e[Qe];if(256!=(256&i)){e[jc].effectManager?.flush(),W_(e);try{TA(e),function OA(t){return Ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&zT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&S0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&D0(e,l,0,null),Y_(e,0)}if(function mK(t){for(let e=w5(t);null!==e;e=A5(e)){if(!e[iA])continue;const n=e[qc];for(let r=0;r<n.length;r++){k$(n[r])}}}(e),iS(e,2),null!==t.contentQueries&&QT(t,e),o){const l=t.contentCheckHooks;null!==l&&S0(e,l)}else{const l=t.contentHooks;null!==l&&D0(e,l,1),Y_(e,1)}!function zW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=FT(e,Ad);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ma(~s);else{const o=s,a=n[++i],c=n[++i];G$(a,o),r.dirty=!1;const l=F_(r);try{c(2,e[o])}finally{V_(r,l)}}}}finally{null===e[Ad]&&VT(e,Ad),Ma(-1)}}(t,e);const a=t.components;null!==a&&oS(e,a,0);const c=t.viewQuery;if(null!==c&&cy(2,c,r),o){const l=t.viewCheckHooks;null!==l&&S0(e,l)}else{const l=t.viewHooks;null!==l&&D0(e,l,2),Y_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qe]&=-73,SA(e)}finally{K_()}}}function iS(t,e){for(let n=w5(t);null!==n;n=A5(n))for(let r=Yn;r<n.length;r++)sS(n[r],e)}function _K(t,e,n){sS(si(e,t),n)}function sS(t,e){if(!function M$(t){return 128==(128&t[Qe])}(t))return;const n=t[we],r=t[Qe];if(80&r&&0===e||1024&r||2===e)rS(n,t,n.template,t[gn]);else if(t[Cd]>0){iS(t,1);const i=n.components;null!==i&&oS(t,i,1)}}function oS(t,e,n){for(let r=0;r<e.length;r++)_K(t,e[r],n)}class Qd{get rootNodes(){const e=this._lView,n=e[we];return Yd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xt];if(xr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(G0(e,r),O0(n,r))}this._attachedToViewContainer=!1}gv(this._lView[we],this._lView)}onDestroy(e){!function RA(t,e){if(256==(256&t[Qe]))throw new re(911,!1);null===t[ko]&&(t[ko]=[]),t[ko].push(e)}(this._lView,e)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){hg(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iq(t,e){Hd(t,e,e[qe],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class vK extends Qd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hg(e[we],e,e[gn],!1)}checkNoChanges(){}get context(){return null}}class aS extends qd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ft(e);return new Xd(n,this.ngModule)}}function cS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class EK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_0(r);const i=this.injector.get(e,qv,r);return i!==qv||n===qv?i:this.parentInjector.get(e,n,r)}}class Xd extends hT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=cS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function r$(t){return t.map(n$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ti?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new EK(e,s):e,a=o.get(gT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(mW,null),effectManager:o.get(tS,null),afterRenderEventManager:o.get(Zv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function jW(t,e,n,r){const s=r.get(PT,!1)||n===Vi.ShadowDom,o=t.selectRootElement(e,s);return function $W(t){jT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):$0(f,h,function yK(t){const e=t.toLowerCase();return"svg"===e?bA:"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=jv(p,o,!0));const $=iy(0,null,null,1,0,null,null,null,null,null,null),Q=ug(null,$,null,D,null,null,d,f,o,null,w);let pe,ke;W_(Q);try{const Xe=this.componentDef;let nn,Fn=null;Xe.findHostDirectiveDefs?(nn=[],Fn=new Map,Xe.findHostDirectiveDefs(Xe,nn,Fn),nn.push(Xe)):nn=[Xe];const ba=function xK(t,e){const n=t[we],r=st;return t[r]=e,vl(n,r,2,"#host",null)}(Q,p),D3e=function IK(t,e,n,r,i,s,o){const a=i[we];!function bK(t,e,n,r){for(const i of t)e.mergedAttrs=Ed(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(fg(e,e.mergedAttrs,!0),null!==n&&z5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=jv(e,i[Po]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=ug(i,UT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&oy(a,t,r.length-1),dg(i,d),i[t.index]=d}(ba,p,Xe,nn,Q,d,f);ke=AA($,st),p&&function AK(t,e,n,r){if(r)M_(t,n,["ng-version",mT.full]);else{const{attrs:i,classes:s}=function i$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Li(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&M_(t,n,i),s&&s.length>0&&H5(t,n,s.join(" "))}}(f,Xe,p,r),void 0!==n&&function TK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ke,this.ngContentSelectors,n),pe=function wK(t,e,n,r,i,s){const o=Xn(),a=i[we],c=Gr(o,i);qT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)dr(Pa(i,a,o.directiveStart+u,o),i);WT(a,i,o),c&&dr(c,i);const l=Pa(i,a,o.directiveStart+o.componentOffset,o);if(t[gn]=i[gn]=l,null!==s)for(const u of s)u(l,e);return ty(a,o,t),l}(D3e,Xe,nn,Fn,Q,[SK]),uy($,Q,null)}finally{K_()}return new CK(this.componentType,pe,pl(ke,Q),Q,ke)}}class CK extends uW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ly(s[we],s,i,e,n),this.previousInputValues.set(e,n),Wd(si(this._tNode.index,s))}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function SK(){const t=Xn();T0(ee()[we],t)}function At(t){let e=function lS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Hi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=pg(t.inputs),o.inputTransforms=pg(t.inputTransforms),o.declaredInputs=pg(t.declaredInputs),o.outputs=pg(t.outputs);const a=i.hostBindings;a&&PK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&RK(t,c),l&&MK(t,l),d0(t.inputs,i.inputs),d0(t.declaredInputs,i.declaredInputs),d0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),d0(o.inputTransforms,i.inputTransforms)),Hi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===At&&(n=!1)}}e=Object.getPrototypeOf(e)}!function DK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ed(i.hostAttrs,n=Ed(n,i.hostAttrs))}}(r)}function pg(t){return t===ss?{}:t===_t?[]:t}function RK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function MK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function PK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function gg(t){return!!dy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function dy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gs(t,e,n){return t[e]=n}function Jd(t,e){return t[e]}function fr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fa(t,e,n,r){const i=fr(t,e,n);return fr(t,e+1,r)||i}function zi(t,e,n,r){const i=ee();return fr(i,Qc(),e)&&(ht(),ps(rn(),i,t,e,n,r)),zi}function El(t,e,n,r){return fr(t,Qc(),n)?e+Ge(n)+r:Ke}function vt(t,e,n,r,i,s,o,a){const c=ee(),l=ht(),u=t+st,d=l.firstCreatePass?function rY(t,e,n,r,i,s,o,a,c){const l=e.consts,u=vl(e,t,4,o||null,Oo(l,a));sy(e,n,u,Oo(l,c)),T0(e,u);const d=u.tView=iy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];ls(d,!1);const f=AS(l,c,d,t);A0()&&W0(l,c,f,d),dr(f,c),dg(c,c[u]=YT(f,c,f,d)),x0(d)&&ny(l,c,d),null!=o&&ry(c,d,a)}let AS=function TS(t,e,n,r){return Fo(!0),e[qe].createComment("")};function _y(t){return Kc(function j$(){return Ue.lFrame.contextLView}(),st+t)}function Oe(t,e,n){const r=ee();return fr(r,Qc(),e)&&ci(ht(),rn(),r,t,e,r[qe],n,!1),Oe}function vy(t,e,n,r,i){const o=i?"class":"style";ly(t,n,e.inputs[o],o,r)}function V(t,e,n,r){const i=ee(),s=ht(),o=st+t,a=i[qe],c=s.firstCreatePass?function aY(t,e,n,r,i,s){const o=e.consts,c=vl(e,t,2,r,Oo(o,i));return sy(e,n,c,Oo(o,s)),null!==c.attrs&&fg(c,c.attrs,!1),null!==c.mergedAttrs&&fg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=SS(s,i,c,a,e,t);i[o]=l;const u=x0(c);return ls(c,!0),z5(a,l,c),32!=(32&c.flags)&&A0()&&W0(s,i,l,c),0===function O$(){return Ue.lFrame.elementDepthCount}()&&dr(l,i),function F$(){Ue.lFrame.elementDepthCount++}(),u&&(ny(s,i,c),ty(s,c,i)),null!==r&&ry(i,c),V}function H(){let t=Xn();U_()?j_():(t=t.parent,ls(t,!1));const e=t;(function L$(t){return Ue.skipHydrationRootTNode===t})(e)&&function U$(){Ue.skipHydrationRootTNode=null}(),function V$(){Ue.lFrame.elementDepthCount--}();const n=ht();return n.firstCreatePass&&(T0(n,t),k_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function nG(t){return 0!=(8&t.flags)}(e)&&vy(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rG(t){return 0!=(16&t.flags)}(e)&&vy(n,e,ee(),e.stylesWithoutHost,!1),H}function Le(t,e,n,r){return V(t,e,n,r),H(),Le}let SS=(t,e,n,r,i,s)=>(Fo(!0),$0(r,i,function jA(){return Ue.lFrame.currentNamespace}()));function Va(t,e,n){const r=ee(),i=ht(),s=t+st,o=i.firstCreatePass?function uY(t,e,n,r,i){const s=e.consts,o=Oo(s,r),a=vl(e,t,8,"ng-container",o);return null!==o&&fg(a,o,!0),sy(e,n,a,Oo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ls(o,!0);const a=RS(i,r,o,t);return r[s]=a,A0()&&W0(i,r,a,o),dr(a,r),x0(o)&&(ny(i,r,o),ty(i,o,r)),null!=n&&ry(r,o),Va}function La(){let t=Xn();const e=ht();return U_()?j_():(t=t.parent,ls(t,!1)),e.firstCreatePass&&(T0(e,t),k_(t)&&e.queries.elementEnd(t)),La}let RS=(t,e,n,r)=>(Fo(!0),pv(e[qe],""));function Sl(){return ee()}function nf(t){return!!t&&"function"==typeof t.then}function MS(t){return!!t&&"function"==typeof t.subscribe}function kt(t,e,n,r){const i=ee(),s=ht(),o=Xn();return function kS(t,e,n,r,i,s,o){const a=x0(r),l=t.firstCreatePass&&JT(t),u=e[gn],d=XT(e);let f=!0;if(3&r.type||o){const g=Gr(r,e),y=o?o(g):g,D=d.length,w=o?Q=>o(Lt(Q[r.index])):r.index;let $=null;if(!o&&a&&($=function hY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Uc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,f=!1;else{s=OS(r,e,u,s,!1);const Q=n.listen(y,i,s);d.push(s,Q),l&&l.push(i,w,D,D+1)}}else s=OS(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const pe=e[p[y]][p[y+1]].subscribe(s),ke=d.length;d.push(s,pe),l&&l.push(i,r.index,ke,-(ke+1))}}}(s,i,i[qe],o,t,e,r),kt}function NS(t,e,n,r){try{return cs(6,e,n),!1!==n(r)}catch(i){return eS(t,i),!1}finally{cs(7,e,n)}}function OS(t,e,n,r,i){return function s(o){if(o===Function)return r;Wd(t.componentOffset>-1?si(t.index,e):e);let c=NS(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=NS(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Nt(t=1){return function K$(t){return(Ue.lFrame.contextLView=function Y$(t,e){for(;t>0;)e=e[$c],t--;return e}(t,Ue.lFrame.contextLView))[gn]}(t)}function pY(t,e){let n=null;const r=function Jj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Xw(t,s,!0):t$(r,s))return i}else n=i}return n}function yy(t,e,n){return Ey(t,"",e,"",n),yy}function Ey(t,e,n,r,i){const s=ee(),o=El(s,e,n,r);return o!==Ke&&ci(ht(),rn(),s,t,o,s[qe],i,!1),Ey}function Eg(t,e){return t<<17|e<<2}function Lo(t){return t>>17&32767}function Cy(t){return 2|t}function Ba(t){return(131068&t)>>2}function xy(t,e){return-131069&t|e<<2}function Iy(t){return 1|t}function qS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Lo(s):Ba(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];EY(t[a],e)&&(c=!0,t[a+1]=r?Iy(u):Cy(u)),a=r?Lo(u):Ba(u)}c&&(t[n+1]=r?Cy(s):Iy(s))}function EY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&il(t,e)>=0}function rf(t,e){return function Ui(t,e,n,r){const i=ee(),s=ht(),o=function Ks(t){const e=Ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function tD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Tr()],o=function eD(t,e){return e>=t.expandoStartIndex}(t,n);(function sD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function DY(t,e,n,r){const i=function G_(t){const e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sf(n=by(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=by(i,t,e,n,r),null===s){let c=function RY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ba(r))return t[Lo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=by(null,t,e,c[1],r),c=sf(c,e.attrs,r),function MY(t,e,n,r){t[Lo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function PY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=sf(r,t[s].hostAttrs,n);return sf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function vY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Lo(o),c=Ba(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||il(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Lo(t[a+1]);t[r+1]=Eg(f,a),0!==f&&(t[f+1]=xy(t[f+1],r)),t[a+1]=function mY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Eg(a,0),0!==a&&(t[a+1]=xy(t[a+1],r)),a=r;else t[r+1]=Eg(c,0),0===a?a=r:t[c+1]=xy(t[c+1],r),c=r;l&&(t[r+1]=Cy(t[r+1])),qS(t,u,r,!0),qS(t,u,r,!1),function yY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&il(s,e)>=0&&(n[r+1]=Iy(n[r+1]))}(e,u,t,r,s),o=Eg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ke&&fr(i,o,e)&&function rD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function _Y(t){return 1==(1&t)}(l)?iD(c,e,n,i,Ba(l),o):void 0;Cg(u)||(Cg(s)||function gY(t){return 2==(2&t)}(l)&&(s=iD(c,null,n,i,a,o)),function pq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Vo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vo.Important),t.setStyle(n,r,i,s))}}(r,o,w0(Tr(),n),i,s))}(s,s.data[Tr()],i,i[qe],t,i[o+1]=function FY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Sn(ai(t)))),t}(e,n),r,o)}(t,e,null,!0),rf}function by(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=sf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oi(t,o,!!n||e[++s]))}return void 0===t?null:t}function iD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ke&&(f=d?_t:void 0);let h=d?rv(f,r):u===r?f:void 0;if(l&&!Cg(h)&&(h=rv(c,r)),Cg(h)&&(a=h,o))return a;const p=t[i+1];i=o?Lo(p):Ba(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=rv(c,r))}return a}function Cg(t){return void 0!==t}function Y(t,e=""){const n=ee(),r=ht(),i=t+st,s=r.firstCreatePass?vl(r,i,1,e,null):r.data[i],o=oD(r,n,s,e,t);n[i]=o,A0()&&W0(r,n,o,s),ls(s,!1)}let oD=(t,e,n,r,i)=>(Fo(!0),function j0(t,e){return t.createText(e)}(e[qe],r));function ot(t){return Ha("",t,""),ot}function Ha(t,e,n){const r=ee(),i=El(r,t,e,n);return i!==Ke&&function Js(t,e,n){const r=w0(e,t);!function S5(t,e,n){t.setValue(e,n)}(t[qe],r,n)}(r,Tr(),i),Ha}function wy(t,e,n){const r=ee();return fr(r,Qc(),e)&&ci(ht(),rn(),r,t,e,r[qe],n,!0),wy}const za=void 0;var iQ=["en",[["a","p"],["AM","PM"],za],[["AM","PM"],za,za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",za,"{1} 'at' {0}",za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Rl={};function Mr(t){const e=function sQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=AD(e);if(n)return n;const r=e.split("-")[0];if(n=AD(r),n)return n;if("en"===r)return iQ;throw new re(701,!1)}function AD(t){return t in Rl||(Rl[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),Rl[t]}var Bt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bt||{});const Ml="en-US";let TD=Ml;function Sy(t,e,n,r,i){if(t=je(t),Array.isArray(t))for(let s=0;s<t.length;s++)Sy(t[s],e,n,r,i);else{const s=ht(),o=ee(),a=Xn();let c=Oa(t)?t:je(t.provide);const l=aT(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Oa(t)||!t.multi){const h=new Rd(l,i,te),p=Ry(c,e,i?u:u+f,d);-1===p?(ev(M0(a,o),s,c),Dy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=Ry(c,e,u+f,d),p=Ry(c,e,u,u+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){ev(M0(a,o),s,c);const D=function rX(t,e,n,r,i){const s=new Rd(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,JD(s,i,r&&!n),s}(i?nX:tX,n.length,i,r,l);!i&&y&&(n[p].providerFactory=D),Dy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else Dy(s,t,h>-1?h:p,JD(n[i?p:h],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Dy(t,e,n,r){const i=Oa(e),s=function Wq(t){return!!t.useClass}(e);if(i||s){const c=(s?je(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function JD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ry(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tX(t,e,n,r){return My(this.multi,[])}function nX(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Pa(n,n[we],this.providerFactory.index,r);s=a.slice(0,o),My(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],My(i,s);return s}function My(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Jt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function eX(t,e,n){const r=ht();if(r.firstCreatePass){const i=Hi(t);Sy(n,r.data,r.blueprint,i,!0),Sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ua{}class ZD{}class Py extends Ua{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aS(this);const i=ii(e);this._bootstrapComponents=Xs(i.bootstrap),this._r3Injector=CT(e,n,[{provide:Ua,useValue:this},{provide:qd,useValue:this.componentFactoryResolver},...r],Sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ky extends ZD{constructor(e){super(),this.moduleType=e}create(e){return new Py(this.moduleType,e,[])}}class e7 extends Ua{constructor(e){super(),this.componentFactoryResolver=new aS(this),this.instance=null;const n=new ul([...e.providers,{provide:Ua,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],e.parent||tg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function t7(t,e,n=null){return new e7({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let oX=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=rT(0,r.type),s=i.length>0?t7([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(Re(Ti))}),e})();function n7(t){t.getStandaloneInjector=e=>e.get(oX).getOrCreateStandaloneInjector(t)}function Kr(t,e,n,r){return d7(ee(),Ar(),t,e,n,r)}function u7(t,e,n,r,i,s,o,a){const c=Ar()+t,l=ee(),u=function Si(t,e,n,r,i,s){const o=Fa(t,e,n,r);return Fa(t,e+2,i,s)||o}(l,c,n,r,i,s);return fr(l,c+4,o)||u?gs(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Jd(l,c+5)}function ff(t,e){const n=t[e];return n===Ke?void 0:n}function d7(t,e,n,r,i,s){const o=e+n;return fr(t,o,i)?gs(t,o+1,s?r.call(s,i):r(i)):ff(t,o+1)}function h7(t,e,n,r,i,s,o,a){const c=e+n;return function mg(t,e,n,r,i){const s=Fa(t,e,n,r);return fr(t,e+2,i)||s}(t,c,i,s,o)?gs(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):ff(t,c+3)}function Ht(t,e){const n=ht();let r;const i=t+st;n.firstCreatePass?(r=function xX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ra(r.type)),a=jr(te);try{const c=R0(!1),l=s();return R0(c),function oY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{jr(a)}}function li(t,e,n){const r=t+st,i=ee(),s=Kc(i,r);return hf(i,r)?d7(i,Ar(),e,s.transform,n,s):s.transform(n)}function Yr(t,e,n,r,i){const s=t+st,o=ee(),a=Kc(o,s);return hf(o,s)?h7(o,Ar(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function hf(t,e){return t[we].data[e].pure}function AX(){return this._results[Symbol.iterator]()}class Oy{get changes(){return this._changes||(this._changes=new Rt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Oy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function wi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _G(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function SX(t,e,n,r=!0){const i=e[we];if(function oq(t,e,n,r){const i=Yn+r,s=n.length;r>0&&(n[i-1][Bi]=e),r<s-Yn?(e[Bi]=n[i],i5(n,Yn+r,e)):(n.push(e),e[Bi]=null),e[Xt]=n;const o=e[Id];null!==o&&n!==o&&function aq(t,e){const n=t[qc];e[mn]!==e[Xt][Xt][mn]&&(t[iA]=!0),null===n?t[qc]=[e]:n.push(e)}(o,e);const a=e[os];null!==a&&a.insertView(t),e[Qe]|=128}(i,e,t,n),r){const s=yv(n,t),o=e[qe],a=q0(o,t[as]);null!==a&&function rq(t,e,n,r,i,s){r[an]=i,r[ur]=e,Hd(t,r,n,1,i,s)}(i,t[ur],o,e,a,s)}}let Zs=(()=>{class e{}return e.__NG_ELEMENT_ID__=MX,e})();const DX=Zs,RX=class extends DX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function TX(t,e,n,r){const i=e.tView,a=ug(t,i,n,4096&t[Qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Id]=t[e.index];const l=t[os];return null!==l&&(a[os]=l.createEmbeddedView(i)),uy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Qd(i)}};function MX(){return Ag(Xn(),ee())}function Ag(t,e){return 4&t.type?new RX(e,t,pl(t,e)):null}let $i=(()=>{class e{}return e.__NG_ELEMENT_ID__=VX,e})();function VX(){return x7(Xn(),ee())}const LX=$i,E7=class extends LX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const e=P0(this._hostTNode,this._hostLView);if(X_(e)){const n=Pd(e,this._hostLView),r=Md(e);return new Dr(n[we].data[r+8],n)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=C7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Nd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Xd(ft(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?l:this.parentInjector).get(Ti,null);y&&(s=y)}ft(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function P$(t){return xr(t[Xt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Xt],u=new E7(l,l[ur],l[Xt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return SX(a,i,o,!r),e.attachToViewContainerRef(),i5(Fy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=C7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=G0(this._lContainer,n);r&&(O0(Fy(this._lContainer),n),gv(r[we],r))}detach(e){const n=this._adjustIndex(e,-1),r=G0(this._lContainer,n);return r&&null!=O0(Fy(this._lContainer),n)?new Qd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function C7(t){return t[8]}function Fy(t){return t[8]||(t[8]=[])}function x7(t,e){let n;const r=e[t.index];return xr(r)?n=r:(n=YT(r,e,null,t),e[t.index]=n,dg(e,n)),I7(n,e,t,r),new E7(n,t,e)}let I7=function b7(t,e,n,r){if(t[as])return;let i;i=8&n.type?Lt(r):function BX(t,e){const n=t[qe],r=n.createComment(""),i=Gr(e,t);return ka(n,q0(n,i),r,function dq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[as]=i};class Vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ly{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ly(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==R7(e,n).matches&&this.queries[n].setDirty()}}class w7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class By{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new By(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Hy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,UX(n,s)),this.matchTNodeWithReadOption(e,n,k0(n,e,s,!1,!1))}else r===Zs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,k0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rr||i===$i||i===Zs&&4&n.type)this.addMatch(n.index,-2);else{const s=k0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function UX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $X(t,e,n,r){return-1===n?function jX(t,e){return 11&t.type?pl(t,e):4&t.type?Ag(t,e):null}(e,t):-2===n?function GX(t,e,n){return n===Rr?pl(e,t):n===Zs?Ag(e,t):n===$i?x7(e,t):void 0}(t,e,r):Pa(t,t[we],n,e)}function A7(t,e,n,r){const i=e[os].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:$X(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function zy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=A7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Yn;d<u.length;d++){const f=u[d];f[Id]===f[Xt]&&zy(f[we],f,l,r)}if(null!==u[qc]){const d=u[qc];for(let f=0;f<d.length;f++){const h=d[f];zy(h[we],h,l,r)}}}}}return r}function Qr(t){const e=ee(),n=ht(),r=VA();q_(r+1);const i=R7(n,r);if(t.dirty&&function R$(t){return 4==(4&t[Qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?zy(n,e,r,[]):A7(n,e,i,r);t.reset(s,pW),t.notifyOnChanges()}return!0}return!1}function ui(t,e,n){const r=ht();r.firstCreatePass&&(function D7(t,e,n){null===t.queries&&(t.queries=new By),t.queries.track(new Hy(e,n))}(r,new w7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function S7(t,e,n){const r=new Oy(4==(4&n));(function WW(t,e,n,r){const i=XT(e);i.push(n),t.firstCreatePass&&JT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[os]&&(e[os]=new Ly),e[os].queries.push(new Vy(r))}(r,ee(),e)}function Xr(){return function qX(t,e){return t[os].queries[e].queryList}(ee(),VA())}function R7(t,e){return t.queries.getByIndex(e)}const W7=new Ce("Application Initializer");let Wy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=W(W7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(nf(o))r.push(o);else if(MS(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),K7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const eo=new Ce("LocaleId",{providedIn:"root",factory:()=>W(eo,lt.Optional|lt.SkipSelf)||function gJ(){return typeof $localize<"u"&&$localize.locale||Ml}()});let Dg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ci(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let yJ=(()=>{var t;class e{compileModuleSync(r){return new ky(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Xs(ii(r).declarations).reduce((a,c)=>{const l=ft(c);return l&&a.push(new Xd(l)),a},[]);return new vJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const J7=new Ce(""),Mg=new Ce("");let Jy,Qy=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jy||(function zJ(t){Jy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(mt),Re(Xy),Re(Mg))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),Xy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Jy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Bo=null;const Z7=new Ce("AllowMultipleToken"),Zy=new Ce("PlatformDestroyListeners"),eR=new Ce("appBootstrapListener");function rR(t,e,n=[]){const r=`Platform: ${e}`,i=new Ce(r);return(s=[])=>{let o=e4();if(!o||o.injector.get(Z7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function $J(t){if(Bo&&!Bo.get(Z7,!1))throw new re(400,!1);(function tR(){!function _$(t){mA=t}(()=>{throw new re(600,!1)})})(),Bo=t;const e=t.get(sR);(function nR(t){t.get(cT,null)?.forEach(n=>n())})(t)}(function iR(t=[],e){return Mn.create({name:e,providers:[{provide:Pv,useValue:"platform"},{provide:Zy,useValue:new Set([()=>Bo=null])},...t]})}(a,r))}return function qJ(t){const e=e4();if(!e)throw new re(401,!1);return e}()}}function e4(){return Bo?.get(sR)??null}let sR=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function WJ(t="zone.js",e){return"noop"===t?new SW:"zone.js"===t?new mt(e):t}(i?.ngZone,function oR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function sX(t,e,n){return new Py(t,e,n)}(r.moduleType,this.injector,function dR(t){return[{provide:mt,useFactory:t},{provide:jd,multi:!0,useFactory:()=>{const e=W(YJ,{optional:!0});return()=>e.initialize()}},{provide:uR,useFactory:KJ},{provide:AT,useFactory:TT}]}(()=>s)),a=o.injector.get(Qs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Pg(this._modules,o),c.unsubscribe()})}),function aR(t,e,n){try{const r=n();return nf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Wy);return c.runInitializers(),c.donePromise.then(()=>(function SD(t){Ii(t,"Expected localeId to be defined"),"string"==typeof t&&(TD=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(eo,Ml)||Ml),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=cR({},i);return function UJ(t,e,n){const r=new ky(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(mf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Zy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Mn))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function cR(t,e){return Array.isArray(e)?e.reduce(cR,t):{...t,...e}}let mf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(uR),this.zoneIsStable=W(AT),this.componentTypes=[],this.components=[],this.isStable=W(Dg).hasPendingTasks.pipe(xi(r=>r?He(!1):this.zoneIsStable),Nw(),kw()),this._injector=W(Ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof hT;if(!this._injector.get(Wy).done)throw!s&&function zc(t){const e=ft(t)||Kn(t)||Cr(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(qd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function jJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ua),u=a.create(Mn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(J7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Pg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Pg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(eR,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Pg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uR=new Ce("",{providedIn:"root",factory:()=>W(Qs).handleError.bind(void 0)});function KJ(){const t=W(mt),e=W(Qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let YJ=(()=>{var t;class e{constructor(){this.zone=W(mt),this.applicationRef=W(mf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let vs=(()=>{class e{}return e.__NG_ELEMENT_ID__=JJ,e})();function JJ(t){return function ZJ(t,e,n){if(Da(t)&&!n){const r=si(t.index,e);return new Qd(r,r)}return 47&t.type?new Qd(e[mn],e):null}(Xn(),ee(),16==(16&t))}class gR{constructor(){}supports(e){return gg(e)}create(e){return new sZ(e)}}const iZ=(t,e)=>e;class sZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iZ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<_R(r,i,s)?n:r,a=_R(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!gg(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function BK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new oZ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new mR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oZ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class mR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new aZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _R(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class vR{constructor(){}supports(e){return e instanceof Map||dy(e)}create(){return new cZ}}class cZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||dy(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new lZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class lZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yR(){return new Og([new gR])}let Og=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||yR()),deps:[[e,new sv,new Gt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:yR}),e})();function ER(){return new _f([new vR])}let _f=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ER()),deps:[[e,new sv,new Gt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:ER}),e})();const fZ=rR(null,"core",[]);let hZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(mf))},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})();let o4=null;function Ho(){return o4}class AZ{}const Zr=new Ce("DocumentToken");let DR=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(TZ)},providedIn:"platform"}),e})(),TZ=(()=>{var t;class e extends DR{constructor(){super(),this._doc=W(Zr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ho().getBaseHref(this._doc)}onPopState(r){const i=Ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function RR(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function MR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $a(t){return t&&"?"!==t[0]?"?"+t:t}let Vg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(DZ)},providedIn:"root"}),e})();const SZ=new Ce("appBaseHref");let DZ=(()=>{var t;class e extends Vg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(Zr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return RR(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+$a(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+$a(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+$a(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(DR),Re(SZ,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),a4=(()=>{var t;class e{constructor(r){this._subject=new Rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function PZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(MR(PR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$a(i))}normalize(r){return e.stripTrailingSlash(function MZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,PR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$a(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$a(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=$a,t.joinWithSlash=RR,t.stripTrailingSlash=MR,t.\u0275fac=function(r){return new(r||t)(Re(Vg))},t.\u0275prov=be({token:t,factory:function(){return function RZ(){return new a4(Re(Vg))}()},providedIn:"root"}),e})();function PR(t){return t.replace(/\/index.html$/,"")}var Lg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Lg||{}),_n=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(_n||{});function Di(t,e){const n=Mr(t),r=n[Bt.NumberSymbols][e];if(typeof r>"u"){if(e===_n.CurrencyDecimal)return n[Bt.NumberSymbols][_n.Decimal];if(e===_n.CurrencyGroup)return n[Bt.NumberSymbols][_n.Group]}return r}const see=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function g4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function zR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const _4=/\s+/,UR=[];let v4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=UR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(_4):UR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(_4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(_4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Og),te(_f),te(Rr),te(hs))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class _ee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new _ee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),$R(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{$R(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te($i),te(Zs),te(Og))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function $R(t,e){t.context.$implicit=e.item}let ys=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new vee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){GR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){GR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te($i),te(Zs))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class vee{constructor(){this.$implicit=null,this.ngIf=null}}function GR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Sn(e)}'.`)}function qi(t,e){return new re(2100,!1)}class Cee{createSubscription(e,n){return yA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){yA(()=>e.unsubscribe())}}class xee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Iee=new xee,bee=new Cee;let Ef=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(nf(r))return Iee;if(MS(r))return bee;throw qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(vs,16))},t.\u0275pipe=Vn({name:"async",type:t,pure:!1,standalone:!0}),e})(),WR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=KR}transform(r,i=KR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Vee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(_f,16))},t.\u0275pipe=Vn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function KR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let ro=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function C4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function dee(t,e,n){return function h4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function hee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function fee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const w=s.match(see);if(null===w)throw new Error(`${s} is not a valid digit info`);const $=w[1],Q=w[3],pe=w[5];null!=$&&(u=g4($)),null!=Q&&(d=g4(Q)),null!=pe?f=g4(pe):null!=Q&&d>f&&(f=d)}!function pee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let y=[];for(c=h.every(w=>!w);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(Di(n,r)),y.length&&(a+=Di(n,i)+y.join("")),g&&(a+=Di(n,_n.Exponential)+"+"+g)}else a=Di(n,_n.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function p4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function c4(t,e){return Mr(t)[Bt.NumberFormats][e]}(e,Lg.Decimal),Di(e,_n.MinusSign)),e,_n.Group,_n.Decimal,n)}(function x4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw qi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(eo,16))},t.\u0275pipe=Vn({name:"number",type:t,pure:!0,standalone:!0}),e})();let Hee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})();const zee="server";function I4(t){return t===zee}class QR{}class hte extends AZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A4 extends hte{static makeCurrent(){!function wZ(t){o4||(o4=t)}(new A4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function pte(){return xf=xf||document.querySelector("base"),xf?xf.getAttribute("href"):null}();return null==n?null:function gte(t){Xg=Xg||document.createElement("a"),Xg.setAttribute("href",t);const e=Xg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zR(document.cookie,e)}}let Xg,xf=null,_te=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const T4=new Ce("EventManagerPlugins");let tM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(T4),Re(mt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class nM{constructor(e){this._doc=e}}const S4="ng-app-id";let rM=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=I4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${S4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(S4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(S4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr),Re(ng),Re(lT,8),Re(fs))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const D4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R4=/%COMP%/g,Cte=new Ce("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function sM(t,e){return e.map(n=>n.replace(R4,t))}let oM=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=I4(c),this.defaultRenderer=new M4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vi.ShadowDom&&(i={...i,encapsulation:Vi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof cM?s.applyToHost(r):s instanceof P4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Vi.Emulated:o=new cM(l,u,i,this.appId,d,a,c,f);break;case Vi.ShadowDom:return new wte(l,u,r,i,a,c,this.nonce,f);default:o=new P4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(tM),Re(rM),Re(ng),Re(Cte),Re(Zr),Re(fs),Re(mt),Re(lT))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class M4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(D4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=D4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=D4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vo.DashCase|Vo.Important)?e.style.setProperty(n,r,i&Vo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ho().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function aM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class wte extends M4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=sM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class P4 extends M4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?sM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cM extends P4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function xte(t){return"_ngcontent-%COMP%".replace(R4,t)}(l),this.hostAttr=function Ite(t){return"_nghost-%COMP%".replace(R4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Ate=(()=>{var t;class e extends nM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const lM=["alt","control","meta","shift"],Tte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ste={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Dte=(()=>{var t;class e extends nM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ho().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),lM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Tte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),lM.forEach(a=>{a!==s&&(0,Ste[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const dM=[{provide:fs,useValue:"browser"},{provide:cT,useValue:function Rte(){A4.makeCurrent()},multi:!0},{provide:Zr,useFactory:function Pte(){return function yq(t){xv=t}(document),document},deps:[]}],kte=rR(fZ,"browser",dM),Nte=new Ce(""),fM=[{provide:Mg,useClass:class mte{addToWindow(e){Vt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Vt.getAllAngularRootElements=()=>e.getAllRootElements(),Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(r=>{const i=Vt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ho().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:J7,useClass:Qy,deps:[mt,Xy,Mg]},{provide:Qy,useClass:Qy,deps:[mt,Xy,Mg]}],hM=[{provide:Pv,useValue:"root"},{provide:Qs,useFactory:function Mte(){return new Qs},deps:[]},{provide:T4,useClass:Ate,multi:!0,deps:[Zr,mt,fs]},{provide:T4,useClass:Dte,multi:!0,deps:[Zr]},oM,rM,tM,{provide:gT,useExisting:oM},{provide:QR,useClass:_te,deps:[]},[]];let Nr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:ng,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Nte,12))},t.\u0275mod=wt({type:t}),t.\u0275inj=It({providers:[...hM,...fM],imports:[Hee,hZ]}),e})(),k4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Fte(){return new k4(Re(Zr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let O4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new(r||t):Re(mM),i},providedIn:"root"}),e})(),mM=(()=>{var t;class e extends O4{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Ai.NONE:return i;case Ai.HTML:return ds(i,"HTML")?ai(i):X5(this._doc,String(i)).toString();case Ai.STYLE:return ds(i,"Style")?ai(i):i;case Ai.SCRIPT:if(ds(i,"Script"))return ai(i);throw new re(5200,!1);case Ai.URL:return ds(i,"URL")?ai(i):X0(String(i));case Ai.RESOURCE_URL:if(ds(i,"ResourceURL"))return ai(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function Aq(t){return new Eq(t)}(r)}bypassSecurityTrustStyle(r){return function Tq(t){return new Cq(t)}(r)}bypassSecurityTrustScript(r){return function Sq(t){return new xq(t)}(r)}bypassSecurityTrustUrl(r){return function Dq(t){return new Iq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function Rq(t){return new bq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Hte(t){return new mM(t.get(Zr))}(Re(Mn)),i},providedIn:"root"}),e})();class F4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class vM{constructor(){this._orbit=0,this._ground=0,this._workers=new F4,this._soldiers=new F4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class V4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let zte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new vM,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new V4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class yM{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new F4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var Zn=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(Zn||{});class Ute{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class fi{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ut=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ut||{});class EM{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let jte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new yM,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=Zn.RESOURCE;break;case 1:s=Zn.SURFACE;break;case 2:s=Zn.FLEET;break;default:s=Zn.UNKNOWN}});let o=new Ute(r,s);if(s!==Zn.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new EM(c.split("Owner:")[1].trim(),""):new EM("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===Zn.RESOURCE||s===Zn.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===Zn.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new V4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===Zn.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new V4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new fi(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ut.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ut.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ut.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ut.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ut.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ut.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ut.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ut.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ut.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ut.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ut.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ut.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ut.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),$te=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new vM;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Fl;class Wi{constructor(){this.planetListExtractor=W(zte),this.planetScanExtractor=W(jte),this.navigationSystemPlanetsExtractor=W($te),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getCountDownMinutes(){return parseInt(document.querySelector("#countdownField").textContent.trim().split(/:/)[0])}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function If(t){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ct(t,e,n){return(e=function qte(t){var e=function Gte(t,e){if("object"!==If(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==If(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===If(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CM(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){CM(s,r,i,o,a,"next",c)}function a(c){CM(s,r,i,o,a,"throw",c)}o(void 0)})}}(Fl=Wi).\u0275fac=function(e){return new(e||Fl)},Fl.\u0275prov=be({token:Fl,factory:Fl.\u0275fac,providedIn:"platform"}),Qt([Er(0,Gt())],Wi.prototype,"username",null);const xM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},B4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Qte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jg=function(t){return function(t){const e=xM(t);return B4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Zg=function(t){try{return B4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const e1=()=>{try{return bM().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},wM=t=>{var e,n;return null===(n=null===(e=e1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},AM=()=>{var t;return null===(t=e1())||void 0===t?void 0:t.config},TM=t=>{var e;return null===(e=e1())||void 0===e?void 0:e[`_${t}`]};class Vl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ln(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function bf(){try{return"object"==typeof indexedDB}catch{return!1}}function z4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function SM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function lne(t,e){return t.replace(une,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ki(i,`${this.serviceName}: ${o} (${i}).`,r)}}const une=/\{\$([^}]+)}/g;function wf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(RM(s)&&RM(o)){if(!wf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RM(t){return null!==t&&"object"==typeof t}function Af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class hne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function pne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=U4),void 0===i.error&&(i.error=U4),void 0===i.complete&&(i.complete=U4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U4(){}const gne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},mne=1e3,_ne=2,vne=144e5,yne=.5;function $4(t,e=mne,n=_ne){const r=e*Math.pow(n,t),i=Math.round(yne*r*(Math.random()-.5)*2);return Math.min(vne,r+i)}function ln(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class Cne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ine(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ga?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const G4=[];var ut=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ut||{});const MM={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},wne=ut.INFO,Ane={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Tne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Ane[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Df{constructor(e){this.name=e,this._logLevel=wne,this._logHandler=Tne,this._userLogHandler=null,G4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?MM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const Sne=(t,e)=>e.some(n=>t instanceof n);let PM,kM;const NM=new WeakMap,q4=new WeakMap,OM=new WeakMap,W4=new WeakMap,K4=new WeakMap;let Y4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return q4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||OM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function One(t){return"function"==typeof t?function Nne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rne(){return kM||(kM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Q4(this),e),jo(NM.get(this))}:function(...e){return jo(t.apply(Q4(this),e))}:function(e,...n){const r=t.call(Q4(this),e,...n);return OM.set(r,e.sort?e.sort():[e]),jo(r)}}(t):(t instanceof IDBTransaction&&function Pne(t){if(q4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});q4.set(t,e)}(t),Sne(t,function Dne(){return PM||(PM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Y4):t)}function jo(t){if(t instanceof IDBRequest)return function Mne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NM.set(n,t)}).catch(()=>{}),K4.set(e,t),e}(t);if(W4.has(t))return W4.get(t);const e=One(t);return e!==t&&(W4.set(t,e),K4.set(e,t)),e}const Q4=t=>K4.get(t),Vne=["get","getKey","getAll","getAllKeys","count"],Lne=["put","add","delete","clear"],X4=new Map;function FM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(X4.get(e))return X4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vne.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return X4.set(e,s),s}!function kne(t){Y4=t(Y4)}(t=>({...t,get:(e,n,r)=>FM(e,n)||t.get(e,n,r),has:(e,n)=>!!FM(e,n)||t.has(e,n)}));class Bne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Hne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const J4="@firebase/app",qa=new Df("@firebase/app"),n1="[DEFAULT]",fre={[J4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wa=new Map,r1=new Map;function hre(t,e){try{t.container.addComponent(e)}catch(n){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){const e=t.name;if(r1.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;r1.set(e,t);for(const n of Wa.values())hre(n,t);return!0}function Es(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const io=new Uo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}const Ll="10.5.2";function LM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:n1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw io.create("bad-app-name",{appName:String(i)});if(n||(n=AM()),!n)throw io.create("no-options");const s=Wa.get(i);if(s){if(wf(n,s.options)&&wf(r,s.config))return s;throw io.create("duplicate-app",{appName:i})}const o=new bne(i);for(const c of r1.values())o.addComponent(c);const a=new gre(n,r,o);return Wa.set(i,a),a}function Bl(t=n1){const e=Wa.get(t);if(!e&&t===n1&&AM())return LM();if(!e)throw io.create("no-app",{appName:t});return e}function BM(){return Array.from(Wa.values())}function un(t,e,n){var r;let i=null!==(r=fre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qa.warn(a.join(" "))}Mi(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mre="firebase-heartbeat-database",_re=1,Rf="firebase-heartbeat-store";let e6=null;function HM(){return e6||(e6=function Fne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(jo(o.result),c.oldVersion,c.newVersion,jo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(mre,_re,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rf)}}).catch(t=>{throw io.create("idb-open",{originalErrorMessage:t.message})})),e6}function t6(){return(t6=v(function*(t){try{return yield(yield HM()).transaction(Rf).objectStore(Rf).get(UM(t))}catch(e){if(e instanceof Ki)qa.warn(e.message);else{const n=io.create("idb-get",{originalErrorMessage:e?.message});qa.warn(n.message)}}})).apply(this,arguments)}function zM(t,e){return n6.apply(this,arguments)}function n6(){return(n6=v(function*(t,e){try{const r=(yield HM()).transaction(Rf,"readwrite");yield r.objectStore(Rf).put(e,UM(t)),yield r.done}catch(n){if(n instanceof Ki)qa.warn(n.message);else{const r=io.create("idb-set",{originalErrorMessage:n?.message});qa.warn(r.message)}}})).apply(this,arguments)}function UM(t){return`${t.name}!${t.options.appId}`}class Cre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ire(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=jM(),{heartbeatsToSend:r,unsentEntries:i}=function xre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$M(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$M(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function jM(){return(new Date).toISOString().substring(0,10)}class Ire{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!bf()&&z4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function vre(t){return t6.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function $M(t){return Jg(JSON.stringify({version:2,heartbeats:t})).length}!function bre(t){Mi(new hi("platform-logger",e=>new Bne(e),"PRIVATE")),Mi(new hi("heartbeat",e=>new Cre(e),"PRIVATE")),un(J4,"0.9.22",t),un(J4,"0.9.22","esm2017"),un("fire-js","")}(""),un("firebase","10.5.2","app");class Tre extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const i1={setInterval(t,e,...n){const{delegate:r}=i1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=i1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class GM extends Tre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return i1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&i1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,j(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const qM={now:()=>(qM.delegate||Date).now(),delegate:void 0};class Mf{constructor(e,n=Mf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Mf.now=qM.now;class WM extends Mf{constructor(e,n=Mf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Rre=new class Dre extends WM{}(class Sre extends GM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Mre=new WM(GM);function er(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Be((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ye}const $o=new gl("ANGULARFIRE2_VERSION");function s1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const o1=(t,e)=>{const n=e?[e]:BM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class r6{constructor(){return o1(KM)}}const KM="app-check";function Hl(){}class YM{constructor(e,n=Rre){Ct(this,"zone",void 0),Ct(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class kre{constructor(e){Ct(this,"zone",void 0),Ct(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hl,{},Hl,Hl)),n.pipe(er({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pf=(()=>{var t;class e{constructor(r){Ct(this,"ngZone",void 0),Ct(this,"outsideAngular",void 0),Ct(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new YM(Zone.current)),this.insideAngular=r.run(()=>new YM(Zone.current,Mre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(mt))}),Ct(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function zl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ka(t){return zl().ngZone.run(()=>t())}function Ore(t){return function Fre(t){return function(n){return(n=n.lift(new kre(t.ngZone))).pipe(u0(t.outsideAngular),l0(t.insideAngular))}}(zl())(t)}const Vre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ka(()=>t.apply(void 0,r))},In=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ka(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hl,{},Hl,Hl))),r[s]=Vre(r[s],n));const i=function Nre(t){return zl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof he){const s=zl();return i.pipe(u0(s.outsideAngular),l0(s.insideAngular))}return Ka(()=>i)}return i instanceof he?i.pipe(Ore):i instanceof Promise?Ka(()=>new Promise((s,o)=>i.then(a=>Ka(()=>s(a)),a=>Ka(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ka(()=>i)};class Ya{constructor(e){return e}}class kf{constructor(){return BM()}}const i6=new Ce("angularfire2._apps"),Bre={provide:Ya,useFactory:function Lre(t){return t&&1===t.length?t[0]:new Ya(Bl())},deps:[[new Gt,i6]]},Hre={provide:kf,deps:[[new Gt,i6]]};function zre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ya(r)}}let Ure=(()=>{var t;class e{constructor(r){un("angularfire",$o.full,"core"),un("angularfire",$o.full,"app"),un("angular",mT.full,r.toString())}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(fs))}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[Bre,Hre]})),e})();function so(t,...e){return{ngModule:Ure,providers:[{provide:i6,useFactory:zre(t),multi:!0,deps:[mt,Mn,Pf,...e]}]}}const oo=In(Bl,!0),ao=In(LM,!0);const jre=function QM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},XM=new Uo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),a1=new Df("@firebase/auth");function c1(t,...e){a1.logLevel<=ut.ERROR&&a1.error(`Auth (${Ll}): ${t}`,...e)}function ei(t,...e){throw s6(t,...e)}function pi(t,...e){return s6(t,...e)}function JM(t,e,n){const r=Object.assign(Object.assign({},jre()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}function s6(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XM.create(t,...e)}function me(t,e,...n){if(!t)throw s6(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw c1(e),new Error(e)}function co(t,e){t||Cs(e)}function Nf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ZM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Of{constructor(e,n){this.shortDelay=e,this.longDelay=n,co(n>e,"Short delay should be less than long delay!"),this.isMobile=function ine(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}()||function one(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Gre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function o6(){return"http:"===ZM()||"https:"===ZM()}()||H4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function a6(t,e){co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kre=new Of(3e4,6e4);function Zt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function sn(t,e,n,r){return c6.apply(this,arguments)}function c6(){return(c6=v(function*(t,e,n,r,i={}){return tP(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Af(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),eP.fetch()(nP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tP(t,e,n){return l6.apply(this,arguments)}function l6(){return(l6=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wre),e);try{const i=new Qre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ff(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Ff(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Ff(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Ff(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JM(t,u,l);ei(t,u)}}catch(i){if(i instanceof Ki)throw i;ei(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function lo(t,e,n,r){return u6.apply(this,arguments)}function u6(){return(u6=v(function*(t,e,n,r,i={}){const s=yield sn(t,e,n,r,i);return"mfaPendingCredential"in s&&ei(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function nP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?a6(t.config,i):`${t.config.apiScheme}://${i}`}function Yre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),Kre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}function iP(t){return void 0!==t&&void 0!==t.enterprise}class sP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function oP(t,e){return f6.apply(this,arguments)}function f6(){return(f6=v(function*(t,e){return sn(t,"GET","/v2/recaptchaConfig",Zt(t,e))})).apply(this,arguments)}function h6(){return(h6=v(function*(t,e){return sn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function g6(){return(g6=v(function*(t,e){return sn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function m6(){return(m6=v(function*(t,e=!1){const n=ln(t),r=yield n.getIdToken(e),i=l1(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Vf(_6(i.auth_time)),issuedAtTime:Vf(_6(i.iat)),expirationTime:Vf(_6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function _6(t){return 1e3*Number(t)}function l1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return c1("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zg(n);return i?JSON.parse(i):(c1("Failed to decode base64 JWT payload"),null)}catch(i){return c1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uo(t,e){return v6.apply(this,arguments)}function v6(){return(v6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ki&&function rie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class iie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class aP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vf(this.lastLoginAt),this.creationTime=Vf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lf(t){return y6.apply(this,arguments)}function y6(){return y6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield uo(t,function eie(t,e){return g6.apply(this,arguments)}(n,{idToken:r}));me(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function aie(t){return t.map(e=>{var{providerId:n}=e,r=ar(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function oie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),y6.apply(this,arguments)}function E6(){return(E6=v(function*(t){const e=ln(t);yield Lf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function C6(){return(C6=v(function*(t,e){const n=yield tP(t,{},v(function*(){const r=Af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function nie(t){const e=l1(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return me(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function cie(t,e){return C6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bf;return r&&(me("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(me("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(me("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bf,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function Go(t,e){me("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ar(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield uo(n,n.stsTokenManager.getToken(n.auth,e));return me(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function tie(t){return m6.apply(this,arguments)}(this,e)}reload(){return function sie(t){return E6.apply(this,arguments)}(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Lf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield uo(e,function Jre(t,e){return h6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:$,emailVerified:Q,isAnonymous:pe,providerData:ke,stsTokenManager:Xe}=n;me($&&Xe,e,"internal-error");const nn=Bf.fromJSON(this.name,Xe);me("string"==typeof $,e,"internal-error"),Go(d,e.name),Go(f,e.name),me("boolean"==typeof Q,e,"internal-error"),me("boolean"==typeof pe,e,"internal-error"),Go(h,e.name),Go(p,e.name),Go(g,e.name),Go(y,e.name),Go(D,e.name),Go(w,e.name);const Fn=new Qa({uid:$,auth:e,email:f,emailVerified:Q,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:nn,createdAt:D,lastLoginAt:w});return ke&&Array.isArray(ke)&&(Fn.providerData=ke.map(ba=>Object.assign({},ba))),y&&(Fn._redirectEventId=y),Fn}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Bf;i.updateFromServerResponse(n);const s=new Qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Lf(s),s})()}}const cP=new Map;function fo(t){co(t instanceof Function,"Expected a class definition");let e=cP.get(t);return e?(co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cP.set(t,e),e)}const lP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function u1(t,e,n){return`firebase:${t}:${e}:${n}`}class jl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=u1(this.userKey,i.apiKey,s),this.fullPersistenceKey=u1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Qa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new jl(fo(lP),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||fo(lP);const o=u1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Qa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new jl(s,e,r)):new jl(s,e,r)})()}}function uP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gP(e))return"Blackberry";if(mP(e))return"Webos";if(x6(e))return"Safari";if((e.includes("chrome/")||fP(e))&&!e.includes("edge/"))return"Chrome";if(pP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dP(t=Ln()){return/firefox\//i.test(t)}function x6(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fP(t=Ln()){return/crios\//i.test(t)}function hP(t=Ln()){return/iemobile/i.test(t)}function pP(t=Ln()){return/android/i.test(t)}function gP(t=Ln()){return/blackberry/i.test(t)}function mP(t=Ln()){return/webos/i.test(t)}function d1(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _P(t=Ln()){return d1(t)||pP(t)||mP(t)||gP(t)||/windows phone/i.test(t)||hP(t)}function vP(t,e=[]){let n;switch(t){case"Browser":n=uP(Ln());break;case"Worker":n=`${uP(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}class fie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function I6(){return(I6=v(function*(t,e={}){return sn(t,"GET","/v2/passwordPolicy",Zt(t,e))})).apply(this,arguments)}class gie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class mie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new fie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=fo(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield jl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return me(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Lf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function qre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?ln(e):null;return r&&me(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function hie(t){return I6.apply(this,arguments)}(e),r=new gie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&fo(e)||n._popupRedirectResolver;me(r,n,"argument-error"),n.redirectPersistenceManager=yield jl.create(n,[fo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function $re(t,...e){a1.logLevel<=ut.WARN&&a1.warn(`Auth (${Ll}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function bn(t){return ln(t)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function fne(t,e){const n=new hne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function b6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function _ie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function EP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class CP{constructor(e){this.type="recaptcha-enterprise",this.auth=bn(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){oP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new sP(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;iP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&iP(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));b6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function xP(t,e,n){return w6.apply(this,arguments)}function w6(){return(w6=v(function*(t,e,n,r=!1){const i=new CP(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function A6(){return A6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield xP(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield xP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),A6.apply(this,arguments)}function IP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class S6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}function AP(t,e){return R6.apply(this,arguments)}function R6(){return(R6=v(function*(t,e){return sn(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Sie(t,e){return P6.apply(this,arguments)}function P6(){return(P6=v(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithPassword",Zt(t,e))})).apply(this,arguments)}function L6(){return(L6=v(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithEmailLink",Zt(t,e))})).apply(this,arguments)}function B6(){return(B6=v(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithEmailLink",Zt(t,e))})).apply(this,arguments)}class Hf extends S6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function f1(t,e,n,r){return A6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sie);case"emailLink":return function kie(t,e){return L6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:ei(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return AP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Nie(t,e){return B6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:ei(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ho(t,e){return H6.apply(this,arguments)}function H6(){return(H6=v(function*(t,e){return lo(t,"POST","/v1/accounts:signInWithIdp",Zt(t,e))})).apply(this,arguments)}class $l extends S6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ar(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $l(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ho(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Af(n)}return e}}class Uf{constructor(e){var n,r,i,s,o,a;const c=Tf(Sf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function zie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);me(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Uie(t){const e=Tf(Sf(t)).link,n=e?Tf(Sf(e)).deep_link_id:null,r=Tf(Sf(t)).deep_link_id;return(r?Tf(Sf(r)).link:null)||r||n||e||t}(e);try{return new Uf(n)}catch{return null}}}let TP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Hf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Uf.parseLink(r);return me(i,"argument-error"),Hf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class qo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class SP extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let jie=(()=>{class t extends SP{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return $l._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield Qa._fromIdTokenResponse(e,r,i),o=RP(r);return new Pi({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=RP(r);return new Pi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function RP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class g1 extends Ki{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,g1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new g1(e,n,r,i)}}function MP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?g1._fromErrorAndOperation(t,s,e,r):s})}function Q6(){return(Q6=v(function*(t,e,n=!1){const r=yield uo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pi._forOperation(t,"link",r)})).apply(this,arguments)}function J6(){return(J6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield uo(t,MP(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=l1(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),Pi._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&ei(r,"user-mismatch"),s}})).apply(this,arguments)}function NP(t,e){return Z6.apply(this,arguments)}function Z6(){return(Z6=v(function*(t,e,n=!1){const r="signIn",i=yield MP(t,r,e),s=yield Pi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function t3(){return(t3=v(function*(t,e){return NP(bn(t),e)})).apply(this,arguments)}function u3(){return(u3=v(function*(t){const e=bn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Qie(t,e,n){return function e3(t,e){return t3.apply(this,arguments)}(ln(t),TP.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function l3(t){return u3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const v1="__sak";class FP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(v1,"1"),this.storage.removeItem(v1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pse=(()=>{class t extends FP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dse(){const t=Ln();return x6(t)||d1(t)}()&&function die(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_P(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function uie(){return function ane(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),VP=(()=>{class t extends FP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let mse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function gse(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function y1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class _se{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=y1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function wn(){return window}function P3(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function k3(){return(k3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const LP="firebaseLocalStorageDb",E1="firebaseLocalStorage",BP="fbase_key";class $f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function C1(t,e){return t.transaction([E1],e?"readwrite":"readonly").objectStore(E1)}function N3(){const t=indexedDB.open(LP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(E1,{keyPath:BP})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(E1)?e(r):(r.close(),yield function Ise(){const t=indexedDB.deleteDatabase(LP);return new $f(t).toPromise()}(),e(yield N3()))}))})}function HP(t,e,n){return O3.apply(this,arguments)}function O3(){return(O3=v(function*(t,e,n){const r=C1(t,!0).put({[BP]:e,value:n});return new $f(r).toPromise()})).apply(this,arguments)}function F3(){return(F3=v(function*(t,e){const n=C1(t,!1).get(e),r=yield new $f(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zP(t,e){const n=C1(t,!0).delete(e);return new $f(n).toPromise()}const Tse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield N3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return P3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=mse._getInstance(function Cse(){return P3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function yse(){return k3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new _se(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Ese(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield N3();return yield HP(n,v1,"1"),yield zP(n,v1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>HP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function bse(t,e){return F3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>zP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=C1(o,!1).getAll();return new $f(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ja(t,e){return e?fo(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}EP("rcb"),new Of(3e4,6e4);class G3 extends S6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jse(t){return NP(t.auth,new G3(t),t.bypassAuthState)}function $se(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function kP(t,e){return J6.apply(this,arguments)}(n,new G3(t),t.bypassAuthState)}function Gse(t){return q3.apply(this,arguments)}function q3(){return(q3=v(function*(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),function Y6(t,e){return Q6.apply(this,arguments)}(n,new G3(t),t.bypassAuthState)})).apply(this,arguments)}class jP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jse;case"linkViaPopup":case"linkViaRedirect":return Gse;case"reauthViaPopup":case"reauthViaRedirect":return $se;default:ei(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qse=new Of(2e3,1e4);function Wse(t,e,n){return W3.apply(this,arguments)}function W3(){return(W3=v(function*(t,e,n){const r=bn(t);!function Ul(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&ei(t,"argument-error"),JM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,qo);const i=Ja(r,n);return new Q3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Q3=(()=>{class t extends jP{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return me(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){co(1===n.filter.length,"Popup operations only handle one event");const r=y1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(pi(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,qse.get())};n()}}return t.currentPopupAction=null,t})();const Kse="pendingRedirect",Gf=new Map;class Yse extends jP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Gf.get(n.auth._key());if(!r){try{const s=(yield function Qse(t,e){return X3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Gf.set(n.auth._key(),r)}return n.bypassAuthState||Gf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function X3(){return(X3=v(function*(t,e){const n=function GP(t){return u1(Kse,t.config.apiKey,t.name)}(e),r=function $P(t){return fo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Xse(t,e){Gf.set(t._key(),e)}function qP(t,e){return iE.apply(this,arguments)}function iE(){return(iE=v(function*(t,e,n=!1){const r=bn(t),i=Ja(r,e),o=yield new Yse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class noe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function roe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KP(e))}saveEventToCache(e){this.cachedEventUids.add(KP(e)),this.lastProcessedEventTime=Date.now()}}function KP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function oE(){return(oE=v(function*(t,e={}){return sn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const soe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ooe=/^https?/;function aE(){return aE=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function ioe(t){return oE.apply(this,arguments)}(t);for(const n of e)try{if(coe(n))return}catch{}ei(t,"unauthorized-domain")}),aE.apply(this,arguments)}function coe(t){const e=Nf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ooe.test(n))return!1;if(soe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const loe=new Of(3e4,6e4);function QP(){const t=wn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let I1=null;const foe=new Of(5e3,15e3),hoe="__/auth/iframe",poe="emulator/auth/iframe",goe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},moe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _oe(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a6(e,poe):`https://${t.config.authDomain}/${hoe}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=moe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Af(r).slice(1)}`}function cE(){return cE=v(function*(t){const e=yield function doe(t){return I1=I1||function uoe(t){return new Promise((e,n)=>{var r,i,s;function o(){QP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QP(),n(pi(t,"network-request-failed"))},timeout:loe.get()})}if(null!==(i=null===(r=wn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=wn().gapi)||void 0===s||!s.load){const a=EP("iframefcb");return wn()[a]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},b6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw I1=null,e})}(t),I1}(t),n=wn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:_oe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:goe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=pi(t,"network-request-failed"),c=wn().setTimeout(()=>{o(a)},foe.get());function l(){wn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),cE.apply(this,arguments)}const yoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class XP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Aoe="__/auth/handler",Toe="emulator/auth/handler",Soe=encodeURIComponent("fac");function JP(t,e,n,r,i,s){return lE.apply(this,arguments)}function lE(){return(lE=v(function*(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof qo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function dne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof SP){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Soe}=${encodeURIComponent(c)}`:"";return`${function Doe({config:t}){return t.emulator?a6(t,Toe):`https://${t.authDomain}/${Aoe}`}(t)}?${Af(a).slice(1)}${l}`})).apply(this,arguments)}const uE="webStorageSupport",Moe=class Roe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VP,this._completeRedirectFn=qP,this._overrideRedirectResult=Xse}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;co(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield JP(e,n,r,Nf(),i);return function boe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},yoe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ln().toLowerCase();n&&(a=fP(l)?"_blank":n),dP(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function lie(t=Ln()){var e;return d1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function woe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new XP(null);const d=window.open(e||"",a,u);me(d,t,"popup-blocked");try{d.focus()}catch{}return new XP(d)}(e,a,y1())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function vse(t){wn().location.href=t}(yield JP(e,n,r,Nf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(co(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function voe(t){return cE.apply(this,arguments)}(e),i=new noe(e);return r.register("authEvent",s=>(me(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uE,{type:uE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[uE];void 0!==o&&n(!!o),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function aoe(t){return aE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _P()||x6()||d1()}};var t9="@firebase/auth";class Poe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Foe=TM("authIdTokenMaxAge")||300;let r9=null;const Voe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Foe)return;const s=r?.token;r9!==s&&(r9=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Loe(t=Bl()){const e=Es(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function xie(t,e){const n=Es(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(wf(n.getOptions(),e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Moe,persistence:[Tse,pse,VP]}),r=TM("authTokenSyncURL");if(r){const s=Voe(r);(function sse(t,e,n){ln(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function ise(t,e,n,r){ln(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=wM("auth");return i&&function bie(t,e,n){const r=bn(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=IP(e),{host:o,port:a}=function wie(t){const e=IP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:bP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Aie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Boe(t){return new he(function(e){var n=function ose(t,e,n,r){return ln(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Noe(t){Mi(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vP(t)},l=new mie(r,i,s,c);return function Iie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new hi("auth-internal",e=>{const n=bn(e.getProvider("auth").getImmediate());return new Poe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(t9,"1.3.2",function koe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),un(t9,"1.3.2","esm2017")}("Browser");class qf{constructor(e){return e}}class s9{constructor(){return o1("auth")}}const fE=new Ce("angularfire2.auth-instances");function Uoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qf(r)}}const joe={provide:s9,deps:[[new Gt,fE]]},$oe={provide:qf,useFactory:function zoe(t,e){const n=s1("auth",t,e);return n&&new qf(n)},deps:[[new Gt,fE],Ya]};let Goe=(()=>{var t;class e{constructor(){un("angularfire",$o.full,"auth")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[$oe,joe]})),e})();function Wo(t,...e){return{ngModule:Goe,providers:[{provide:fE,useFactory:Uoe(t),multi:!0,deps:[mt,Mn,Pf,kf,[new Gt,r6],...e]}]}}const o9=In(Boe,!0),Ko=In(Loe,!0),qoe=In(Qie,!0),Woe=In(Wse,!0);var xe,Koe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={},hE=hE||{},We=Koe||self;function w1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Wf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pE="closure_uid_"+(1e9*Math.random()>>>0),Qoe=0;function Xoe(t,e,n){return t.call.apply(t.bind,arguments)}function Joe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function hr(t,e,n){return(hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xoe:Joe).apply(null,arguments)}function A1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yo(){this.s=this.s,this.o=this.o}Yo.prototype.s=!1,Yo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Yoe(t){Object.prototype.hasOwnProperty.call(t,pE)&&t[pE]||(t[pE]=++Qoe)}(this)},Yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function c9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(w1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var eae=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return t}();function Kf(t){return/^[\s\xa0]*$/.test(t)}function T1(){var t=We.navigator;return t&&(t=t.userAgent)?t:""}function xs(t){return-1!=T1().indexOf(t)}function mE(t){return mE[" "](t),t}mE[" "]=function(){};var vE,t,nae=xs("Opera"),Gl=xs("Trident")||xs("MSIE"),l9=xs("Edge"),_E=l9||Gl,u9=xs("Gecko")&&!(-1!=T1().toLowerCase().indexOf("webkit")&&!xs("Edge"))&&!(xs("Trident")||xs("MSIE"))&&!xs("Edge"),rae=-1!=T1().toLowerCase().indexOf("webkit")&&!xs("Edge");function d9(){var t=We.document;return t?t.documentMode:void 0}e:{var yE="",EE=(t=T1(),u9?/rv:([^\);]+)(\)|;)/.exec(t):l9?/Edge\/([\d\.]+)/.exec(t):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):rae?/WebKit\/(\S+)/.exec(t):nae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(EE&&(yE=EE?EE[1]:""),Gl){var CE=d9();if(null!=CE&&CE>parseFloat(yE)){vE=String(CE);break e}}vE=yE}var iae=We.document&&Gl&&(d9()||parseInt(vE,10))||void 0;function Yf(t,e){if(pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u9){e:{try{mE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:sae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yf.$.h.call(this)}}Bn(Yf,pr);var sae={2:"touch",3:"pen",4:"mouse"};Yf.prototype.h=function(){Yf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qf="closure_listenable_"+(1e6*Math.random()|0),oae=0;function aae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oae,this.fa=this.ia=!1}function S1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function IE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h9(t){const e={};for(const n in t)e[n]=t[n];return e}const p9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<p9.length;s++)n=p9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function D1(t){this.src=t,this.g={},this.h=0}function bE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=a9(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(S1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function wE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}D1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=wE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new aae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var AE="closure_lm_"+(1e6*Math.random()|0),TE={};function m9(t,e,n,r,i){if(r&&r.once)return v9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)m9(t,e[s],n,r,i);return null}return n=ME(n),t&&t[Qf]?t.O(e,n,Wf(r)?!!r.capture:!!r,i):_9(t,e,n,!1,r,i)}function _9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wf(i)?!!i.capture:!!i,a=DE(t);if(a||(t[AE]=a=new D1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function lae(){const e=uae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(E9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function v9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v9(t,e[s],n,r,i);return null}return n=ME(n),t&&t[Qf]?t.P(e,n,Wf(r)?!!r.capture:!!r,i):_9(t,e,n,!0,r,i)}function y9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y9(t,e[s],n,r,i);else r=Wf(r)?!!r.capture:!!r,n=ME(n),t&&t[Qf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=wE(s=t.g[e],n,r,i))&&(S1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=DE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wE(e,n,r,i)),(n=-1<t?e[t]:null)&&SE(n))}function SE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Qf])bE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(E9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=DE(e))?(bE(n,t),0==n.h&&(n.src=null,e[AE]=null)):S1(t)}}}function E9(t){return t in TE?TE[t]:TE[t]="on"+t}function uae(t,e){if(t.fa)t=!0;else{e=new Yf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&SE(t),t=n.call(r,e)}return t}function DE(t){return(t=t[AE])instanceof D1?t:null}var RE="__closure_events_fn_"+(1e9*Math.random()>>>0);function ME(t){return"function"==typeof t?t:(t[RE]||(t[RE]=function(e){return t.handleEvent(e)}),t[RE])}function Hn(){Yo.call(this),this.i=new D1(this),this.S=this,this.J=null}function tr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new pr(e,t);else if(e instanceof pr)e.target=e.target||t;else{var i=e;g9(e=new pr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=R1(o,r,!0,e)&&i}if(i=R1(o=e.g=t,r,!0,e)&&i,i=R1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=R1(o=e.g=n[s],r,!1,e)&&i}function R1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&bE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Bn(Hn,Yo),Hn.prototype[Qf]=!0,Hn.prototype.removeEventListener=function(t,e,n,r){y9(this,t,e,n,r)},Hn.prototype.N=function(){if(Hn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)S1(n[r]);delete t.g[e],t.h--}}this.J=null},Hn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Hn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var PE=We.JSON.stringify;function fae(){var t=kE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C9=new class dae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pae,t=>t.reset());class pae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mae(t){We.setTimeout(()=>{throw t},0)}let Xf,Jf=!1,kE=new class hae{constructor(){this.h=this.g=null}add(e,n){const r=C9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},x9=()=>{const t=We.Promise.resolve(void 0);Xf=()=>{t.then(_ae)}};var _ae=()=>{for(var t;t=fae();){try{t.h.call(t.g)}catch(n){mae(n)}var e=C9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jf=!1};function M1(t,e){Hn.call(this),this.h=t||1,this.g=e||We,this.j=hr(this.qb,this),this.l=Date.now()}function NE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function OE(t,e,n){if("function"==typeof t)n&&(t=hr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=hr(t.handleEvent,t)}return 2147483647<Number(e)?-1:We.setTimeout(t,e||0)}function I9(t){t.g=OE(()=>{t.g=null,t.i&&(t.i=!1,I9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Bn(M1,Hn),(xe=M1.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tr(this,"tick"),this.ga&&(NE(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){M1.$.N.call(this),NE(this),delete this.g};class vae extends Yo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I9(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(t){Yo.call(this),this.h=t,this.g={}}Bn(Zf,Yo);var b9=[];function w9(t,e,n,r){Array.isArray(n)||(n&&(b9[0]=n.toString()),n=b9);for(var i=0;i<n.length;i++){var s=m9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function A9(t){IE(t.g,function(e,n){this.g.hasOwnProperty(n)&&SE(e)},t),t.g={}}function P1(){this.g=!0}function ql(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return PE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Zf.prototype.N=function(){Zf.$.N.call(this),A9(this)},Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P1.prototype.Ea=function(){this.g=!1},P1.prototype.info=function(){};var Za={},T9=null;function k1(){return T9=T9||new Hn}function S9(t){pr.call(this,Za.Ta,t)}function eh(t){const e=k1();tr(e,new S9(e))}function D9(t,e){pr.call(this,Za.STAT_EVENT,t),this.stat=e}function Or(t){const e=k1();tr(e,new D9(e,t))}function R9(t,e){pr.call(this,Za.Ua,t),this.size=e}function th(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){t()},e)}Za.Ta="serverreachability",Bn(S9,pr),Za.STAT_EVENT="statevent",Bn(D9,pr),Za.Ua="timingevent",Bn(R9,pr);var N1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},M9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function FE(){}function k9(){}FE.prototype.h=null;var BE,nh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VE(){pr.call(this,"d")}function LE(){pr.call(this,"c")}function O1(){}function rh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zf(this),this.P=Iae,this.V=new M1(t=_E?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N9}function N9(){this.i=null,this.g="",this.h=!1}Bn(VE,pr),Bn(LE,pr),Bn(O1,FE),O1.prototype.g=function(){return new XMLHttpRequest},O1.prototype.i=function(){return{}},BE=new O1;var Iae=45e3,HE={},F1={};function zE(t,e,n){t.L=1,t.v=H1(po(e)),t.s=n,t.S=!0,O9(t,null)}function O9(t,e){t.G=Date.now(),ih(t),t.A=po(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),G9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new N9,t.g=gk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vae(hr(t.Pa,t,t.g),t.O)),w9(t.U,t.g,"readystatechange",t.nb),e=t.I?h9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),eh(),function yae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function F9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function V9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=bae(t,n),i==F1){4==e&&(t.o=4,Or(14),r=!1),ql(t.j,t.m,null,"[Incomplete Response]");break}if(i==HE){t.o=4,Or(15),ql(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ql(t.j,t.m,i,null),UE(t,i)}F9(t)&&i!=F1&&i!=HE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Or(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YE(e),e.M=!0,Or(11))):(ql(t.j,t.m,n,"[Invalid Chunked Response]"),ec(t),sh(t))}function bae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?F1:(n=Number(e.substring(n,r)),isNaN(n)?HE:(r+=1)+n>e.length?F1:(e=e.slice(r,r+n),t.C=r+n,e))}function ih(t){t.Y=Date.now()+t.P,L9(t,t.P)}function L9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=th(hr(t.lb,t),e)}function V1(t){t.B&&(We.clearTimeout(t.B),t.B=null)}function sh(t){0==t.l.H||t.J||dk(t.l,t)}function ec(t){V1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,NE(t.V),A9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function UE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||jE(n.i,t)))if(!t.K&&jE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;q1(n),$1(n)}KE(n),Or(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=th(hr(n.ib,n),6e3));if(1>=K9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nc(n,11)}else if((t.K||n.g==t)&&q1(n),!Kf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($E(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=pk(r,r.J?r.pa:null,r.Y),o.K){Y9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(V1(a),ih(a)),r.g=o}else lk(r);0<n.j.length&&G1(n)}else"stop"!=l[0]&&"close"!=l[0]||nc(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nc(n,7):WE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}eh()}catch{}}function B9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(w1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Aae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(w1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function wae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(w1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(xe=rh.prototype).setTimeout=function(t){this.P=t},xe.nb=function(t){t=t.target;const e=this.M;e&&3==Is(t)?e.l():this.Pa(t)},xe.Pa=function(t){try{if(t==this.g)e:{const u=Is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||_E||this.g&&(this.h.h||this.g.ja()||rk(this.g)))){this.J||4!=u||7==e||eh(),V1(this);var n=this.g.da();this.ca=n;t:if(F9(this)){var r=rk(this.g);t="";var i=r.length,s=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ec(this),sh(this);var o="";break t}this.h.i=new We.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Eae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Or(12),ec(this),sh(this);break e}ql(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UE(this,n)}this.S?(V9(this,u,o),_E&&this.i&&3==u&&(w9(this.U,this.V,"tick",this.mb),this.V.start())):(ql(this.j,this.m,o,null),UE(this,o)),4==u&&ec(this),this.i&&!this.J&&(4==u?dk(this.l,this):(this.i=!1,ih(this)))}else(function $ae(t){const e={};t=(t.g&&2<=Is(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Kf(t[r]))continue;var n=gae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function cae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),ec(this),sh(this)}}}catch{}},xe.mb=function(){if(this.g){var t=Is(this.g),e=this.g.ja();this.C<e.length&&(V1(this),V9(this,t,e),this.i&&4!=t&&ih(this))}},xe.cancel=function(){this.J=!0,ec(this)},xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Cae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(eh(),Or(17)),ec(this),this.o=2,sh(this)):L9(this,this.Y-t)};var H9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof tc){this.h=t.h,L1(this,t.j),this.s=t.s,this.g=t.g,B1(this,t.m),this.l=t.l;var e=t.i,n=new ch;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),z9(this,n),this.o=t.o}else t&&(e=String(t).match(H9))?(this.h=!1,L1(this,e[1]||"",!0),this.s=oh(e[2]||""),this.g=oh(e[3]||"",!0),B1(this,e[4]),this.l=oh(e[5]||"",!0),z9(this,e[6]||"",!0),this.o=oh(e[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}function po(t){return new tc(t)}function L1(t,e,n){t.j=n?oh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function B1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function z9(t,e,n){e instanceof ch?(t.i=e,function kae(t,e){e&&!t.j&&(Qo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(j9(this,r),G9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ah(e,Mae)),t.i=new ch(e,t.h))}function qt(t,e,n){t.i.set(e,n)}function H1(t){return qt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ah(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}tc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ah(e,U9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ah(e,U9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ah(n,"/"==n.charAt(0)?Rae:Dae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ah(n,Pae)),t.join("")};var U9=/[#\/\?@]/g,Dae=/[#\?:]/g,Rae=/[#\?]/g,Mae=/[#\?@]/g,Pae=/#/g;function ch(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Tae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function j9(t,e){Qo(t),e=Wl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $9(t,e){return Qo(t),e=Wl(t,e),t.g.has(e)}function G9(t,e,n){j9(t,e),0<n.length&&(t.i=null,t.g.set(Wl(t,e),gE(n)),t.h+=n.length)}function Wl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q9(t){this.l=t||Oae,t=We.PerformanceNavigationTiming?0<(t=We.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=ch.prototype).add=function(t,e){Qo(this),this.i=null,t=Wl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},xe.forEach=function(t,e){Qo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},xe.ta=function(){Qo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},xe.Z=function(t){Qo(this);let e=[];if("string"==typeof t)$9(this,t)&&(e=e.concat(this.g.get(Wl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},xe.set=function(t,e){return Qo(this),this.i=null,$9(this,t=Wl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Oae=10;function W9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function K9(t){return t.h?1:t.g?t.g.size:0}function jE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $E(t,e){t.g?t.g.add(e):t.h=e}function Y9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Q9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gE(t.i)}q9.prototype.cancel=function(){if(this.i=Q9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Fae=class{stringify(t){return We.JSON.stringify(t,void 0)}parse(t){return We.JSON.parse(t,void 0)}};function Vae(){this.g=new Fae}function Lae(t,e,n){const r=n||"";try{B9(t,function(i,s){let o=i;Wf(i)&&(o=PE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function z1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lh(t){this.l=t.ec||null,this.j=t.ob||!1}function U1(t,e){Hn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=GE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bn(lh,FE),lh.prototype.g=function(){return new U1(this.l,this.j)},lh.prototype.i=function(t){return function(){return t}}({}),Bn(U1,Hn);var GE=0;function X9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function uh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dh(t)}function dh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=U1.prototype).open=function(t,e){if(this.readyState!=GE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dh(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uh(this)),this.readyState=GE},xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;X9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uh(this):dh(this),3==this.readyState&&X9(this)}},xe.Za=function(t){this.g&&(this.response=this.responseText=t,uh(this))},xe.Ya=function(t){this.g&&(this.response=t,uh(this))},xe.ka=function(){this.g&&uh(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(U1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Hae=We.JSON.parse;function dn(t){Hn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J9,this.L=this.M=!1}Bn(dn,Hn);var J9="",zae=/^https?$/i,Uae=["POST","PUT"];function Z9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ek(t),j1(t)}function ek(t){t.F||(t.F=!0,tr(t,"complete"),tr(t,"error"))}function tk(t){if(t.h&&typeof hE<"u"&&(!t.C[1]||4!=Is(t)||2!=t.da()))if(t.v&&4==Is(t))OE(t.La,0,t);else if(tr(t,"readystatechange"),4==Is(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(H9)[1]||null;!i&&We.self&&We.self.location&&(i=We.self.location.protocol.slice(0,-1)),r=!zae.test(i?i.toLowerCase():"")}n=r}if(n)tr(t,"complete"),tr(t,"success");else{t.m=6;try{var s=2<Is(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ek(t)}}finally{j1(t)}}}function j1(t,e){if(t.g){nk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||tr(t,"ready");try{n.onreadystatechange=r}catch{}}}function nk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(We.clearTimeout(t.A),t.A=null)}function Is(t){return t.g?t.g.readyState:0}function rk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case J9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(t){let e="";return IE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function qE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ik(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qt(t,e,n))}function fh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sk(t){this.Ga=0,this.j=[],this.l=new P1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fh("baseRetryDelayMs",5e3,t),this.hb=fh("retryDelaySeedMs",1e4,t),this.eb=fh("forwardChannelMaxRetries",2,t),this.xa=fh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new q9(t&&t.concurrentRequestLimit),this.Ja=new Vae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WE(t){if(ok(t),3==t.H){var e=t.W++,n=po(t.I);if(qt(n,"SID",t.K),qt(n,"RID",e),qt(n,"TYPE","terminate"),hh(t,n),(e=new rh(t,t.l,e)).L=2,e.v=H1(po(n)),n=!1,We.navigator&&We.navigator.sendBeacon)try{n=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&We.Image&&((new Image).src=e.v,n=!0),n||(e.g=gk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ih(e)}hk(t)}function $1(t){t.g&&(YE(t),t.g.cancel(),t.g=null)}function ok(t){$1(t),t.u&&(We.clearTimeout(t.u),t.u=null),q1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&We.clearTimeout(t.m),t.m=null)}function G1(t){if(!W9(t.i)&&!t.m){t.m=!0;var e=t.Na;Xf||x9(),Jf||(Xf(),Jf=!0),kE.add(e,t),t.C=0}}function ak(t,e){var n;n=e?e.m:t.W++;const r=po(t.I);qt(r,"SID",t.K),qt(r,"RID",n),qt(r,"AID",t.V),hh(t,r),t.o&&t.s&&qE(r,t.o,t.s),n=new rh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ck(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$E(t.i,n),zE(n,r,e)}function hh(t,e){t.na&&IE(t.na,function(n,r){qt(e,r,n)}),t.h&&B9({},function(n,r){qt(e,r,n)})}function ck(t,e,n){n=Math.min(t.j.length,n);var r=t.h?hr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Lae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xf||x9(),Jf||(Xf(),Jf=!0),kE.add(e,t),t.A=0}}function KE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=th(hr(t.Ma,t),fk(t,t.A)),t.A++,0))}function YE(t){null!=t.B&&(We.clearTimeout(t.B),t.B=null)}function uk(t){t.g=new rh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=po(t.wa);qt(e,"RID","rpc"),qt(e,"SID",t.K),qt(e,"AID",t.V),qt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qt(e,"TO",t.qa),qt(e,"TYPE","xmlhttp"),hh(t,e),t.o&&t.s&&qE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=H1(po(e)),n.s=null,n.S=!0,O9(n,t)}function q1(t){null!=t.v&&(We.clearTimeout(t.v),t.v=null)}function dk(t,e){var n=null;if(t.g==e){q1(t),YE(t),t.g=null;var r=2}else{if(!jE(t.i,e))return;n=e.F,Y9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;tr(r=k1(),new R9(r,n)),G1(t)}else lk(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Gae(t,e){return!(K9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=th(hr(t.Na,t,e),fk(t,t.C)),t.C++,0)))}(t,e)||2==r&&KE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nc(t,5);break;case 4:nc(t,10);break;case 3:nc(t,6);break;default:nc(t,2)}}function fk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=hr(t.pb,t);n||(n=new tc("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||L1(n,"https"),H1(n)),function Bae(t,e){const n=new P1;if(We.Image){const r=new Image;r.onload=A1(z1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=A1(z1,n,r,"TestLoadImage: error",!1,e),r.onabort=A1(z1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=A1(z1,n,r,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Or(2);t.H=0,t.h&&t.h.za(e),hk(t),ok(t)}function hk(t){if(t.H=0,t.ma=[],t.h){const e=Q9(t.i);(0!=e.length||0!=t.j.length)&&(c9(t.ma,e),c9(t.ma,t.j),t.i.i.length=0,gE(t.j),t.j.length=0),t.h.ya()}}function pk(t,e,n){var r=n instanceof tc?po(n):new tc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),B1(r,r.m);else{var i=We.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tc(null);r&&L1(s,r),e&&(s.g=e),i&&B1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&qt(r,n,e),qt(r,"VER",t.ra),hh(t,r),r}function gk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(n&&t.Ha&&!t.va?new lh({ob:!0}):t.va)).Oa(t.J),e}function mk(){}function W1(){if(Gl&&!(10<=Number(iae)))throw Error("Environmental error: no available transport.")}function gi(t,e){Hn.call(this),this.g=new sk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Kl(this)}function _k(t){VE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vk(){LE.call(this),this.status=1}function Kl(t){this.g=t}function Qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function QE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Tt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(xe=dn.prototype).Oa=function(t){this.M=t},xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BE.g(),this.C=function P9(t){return t.h||(t.h=t.i())}(this.u?this.u:BE),this.g.onreadystatechange=hr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Z9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=We.FormData&&t instanceof We.FormData,!(0<=a9(Uae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nk(this),0<this.B&&((this.L=function jae(t){return Gl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hr(this.ua,this)):this.A=OE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Z9(this,s)}},xe.ua=function(){typeof hE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tr(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,tr(this,"complete"),tr(this,"abort"),j1(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j1(this,!0)),dn.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?tk(this):this.kb())},xe.kb=function(){tk(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hae(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=sk.prototype).ra=8,xe.H=1,xe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new rh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=h9(s),g9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ck(this,i,e),qt(n=po(this.I),"RID",t),qt(n,"CVER",22),this.F&&qt(n,"X-HTTP-Session-Id",this.F),hh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ik(s)))+"&"+e:this.o&&qE(n,this.o,s)),$E(this.i,i),this.bb&&qt(n,"TYPE","init"),this.P?(qt(n,"$req",e),qt(n,"SID","null"),i.aa=!0,zE(i,n,null)):zE(i,n,e),this.H=2}}else 3==this.H&&(t?ak(this,t):0==this.j.length||W9(this.i)||ak(this))},xe.Ma=function(){if(this.u=null,uk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=th(hr(this.jb,this),t)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Or(10),$1(this),uk(this))},xe.ib=function(){null!=this.v&&(this.v=null,$1(this),KE(this),Or(19))},xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Or(2)):(this.l.info("Failed to ping google.com"),Or(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=mk.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},W1.prototype.g=function(t,e){return new gi(t,e)},Bn(gi,Hn),gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Or(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pk(t,null,t.Y),G1(t)},gi.prototype.close=function(){WE(this.g)},gi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=PE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&G1(e)},gi.prototype.N=function(){this.g.h=null,delete this.j,WE(this.g),delete this.g,gi.$.N.call(this)},Bn(_k,VE),Bn(vk,LE),Bn(Kl,mk),Kl.prototype.Ba=function(){tr(this.g,"a")},Kl.prototype.Aa=function(t){tr(this.g,new _k(t))},Kl.prototype.za=function(t){tr(this.g,new vk)},Kl.prototype.ya=function(){tr(this.g,"b")},Bn(Qi,function qae(){this.blockSize=-1}),Qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)QE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){QE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){QE(this,r),i=0;break}}this.h=i,this.i+=e},Qi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Wae={};function XE(t){return-128<=t&&128>t?function tae(t,e){var n=Wae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Tt([0|e],0>e?-1:0)}):new Tt([0|t],0>t?-1:0)}function bs(t){if(isNaN(t)||!isFinite(t))return Yl;if(0>t)return nr(bs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=JE;return new Tt(e,0)}var JE=4294967296,Yl=XE(0),ZE=XE(1),Ek=XE(16777216);function go(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ki(t){return-1==t.h}function nr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Tt(n,~t.h).add(ZE)}function K1(t,e){return t.add(nr(e))}function Y1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ph(t,e){this.g=t,this.h=e}function Q1(t,e){if(go(e))throw Error("division by zero");if(go(t))return new ph(Yl,Yl);if(ki(t))return e=Q1(nr(t),e),new ph(nr(e.g),nr(e.h));if(ki(e))return e=Q1(t,nr(e)),new ph(nr(e.g),e.h);if(30<t.g.length){if(ki(t)||ki(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ZE,r=e;0>=r.X(t);)n=Ck(n),r=Ck(r);var i=Ql(n,1),s=Ql(r,1);for(r=Ql(r,2),n=Ql(n,2);!go(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ql(r,1),n=Ql(n,1)}return e=K1(t,i.R(e)),new ph(i,e)}for(i=Yl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=bs(n)).R(e);ki(o)||0<o.X(t);)o=(s=bs(n-=r)).R(e);go(s)&&(s=ZE),i=i.add(s),t=K1(t,o)}return new ph(i,t)}function Ck(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Tt(n,t.h)}function Ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Tt(i,t.h)}(xe=Tt.prototype).ea=function(){if(ki(this))return-nr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:JE+r)*e,e*=JE}return t},xe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(go(this))return"0";if(ki(this))return"-"+nr(this).toString(t);for(var e=bs(Math.pow(t,6)),n=this,r="";;){var i=Q1(n,e).g,s=((0<(n=K1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(go(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},xe.X=function(t){return ki(t=K1(this,t))?-1:go(t)?0:1},xe.abs=function(){return ki(this)?nr(this):this},xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Tt(n,-2147483648&n[n.length-1]?-1:0)},xe.R=function(t){if(go(this)||go(t))return Yl;if(ki(this))return ki(t)?nr(this).R(nr(t)):nr(nr(this).R(t));if(ki(t))return nr(this.R(nr(t)));if(0>this.X(Ek)&&0>t.X(Ek))return bs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Y1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Y1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Y1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Y1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Tt(n,0)},xe.gb=function(t){return Q1(this,t).h},xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Tt(n,this.h&t.h)},xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Tt(n,this.h|t.h)},xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Tt(n,this.h^t.h)},W1.prototype.createWebChannel=W1.prototype.g,gi.prototype.send=gi.prototype.u,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,N1.NO_ERROR=0,N1.TIMEOUT=8,N1.HTTP_ERROR=6,M9.COMPLETE="complete",k9.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",Hn.prototype.listen=Hn.prototype.O,dn.prototype.listenOnce=dn.prototype.P,dn.prototype.getLastError=dn.prototype.Sa,dn.prototype.getLastErrorCode=dn.prototype.Ia,dn.prototype.getStatus=dn.prototype.da,dn.prototype.getResponseJson=dn.prototype.Wa,dn.prototype.getResponseText=dn.prototype.ja,dn.prototype.send=dn.prototype.ha,dn.prototype.setWithCredentials=dn.prototype.Oa,Qi.prototype.digest=Qi.prototype.l,Qi.prototype.reset=Qi.prototype.reset,Qi.prototype.update=Qi.prototype.j,Tt.prototype.add=Tt.prototype.add,Tt.prototype.multiply=Tt.prototype.R,Tt.prototype.modulo=Tt.prototype.gb,Tt.prototype.compare=Tt.prototype.X,Tt.prototype.toNumber=Tt.prototype.ea,Tt.prototype.toString=Tt.prototype.toString,Tt.prototype.getBits=Tt.prototype.D,Tt.fromNumber=bs,Tt.fromString=function yk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return nr(yk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bs(Math.pow(e,8)),r=Yl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=bs(Math.pow(e,s)),r=r.R(s).add(bs(o))):r=(r=r.R(n)).add(bs(o))}return r};var Kae=Yi.createWebChannelTransport=function(){return new W1},Yae=Yi.getStatEventTarget=function(){return k1()},e8=Yi.ErrorCode=N1,Qae=Yi.EventType=M9,Xae=Yi.Event=Za,xk=Yi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jae=Yi.FetchXmlHttpFactory=lh,X1=Yi.WebChannel=k9,Zae=Yi.XhrIo=dn,ece=Yi.Md5=Qi,Xl=Yi.Integer=Tt;const Ik="@firebase/firestore";class zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let Jl="10.5.2";const Xo=new Df("@firebase/firestore");function Zl(){return Xo.logLevel}function ie(t,...e){if(Xo.logLevel<=ut.DEBUG){const n=e.map(t8);Xo.debug(`Firestore (${Jl}): ${t}`,...n)}}function vn(t,...e){if(Xo.logLevel<=ut.ERROR){const n=e.map(t8);Xo.error(`Firestore (${Jl}): ${t}`,...n)}}function mi(t,...e){if(Xo.logLevel<=ut.WARN){const n=e.map(t8);Xo.warn(`Firestore (${Jl}): ${t}`,...n)}}function t8(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw vn(e),new Error(e)}function Me(t,e){t||Te()}function _e(t,e){return t}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class bk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class nce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rce{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me("string"==typeof r.accessToken),new bk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new zn(e)}}class ice{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ice(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me("string"==typeof n.token),this.R=n.token,new wk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ace(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ak{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=ace(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new on(0,0))}static max(){return new Ne(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===gh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends gh{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const cce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends gh{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return cce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(pt.fromString(e))}static fromName(e){return new ve(pt.fromString(e).popFirst(5))}static empty(){return new ve(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new pt(e.slice()))}}function Dk(t){return new _i(t.readTime,t.key,-1)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(Ne.min(),ve.empty(),-1)}static max(){return new _i(Ne.max(),ve.empty(),-1)}}function r8(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:$e(t.largestBatchId,e.largestBatchId))}const Rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jo(t){return i8.apply(this,arguments)}function i8(){return i8=v(function*(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Rk)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),i8.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Zo(t){return"IndexedDbTransactionError"===t.name}let vi=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _h(t){return null==t}function vh(t){return 0===t&&1/t==-1/0}function Bk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class jt{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=s??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1,rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zk(this.data.getIterator())}getIteratorFrom(e){return new zk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class zk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Mt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Uk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Uk("Invalid base64 string: "+s):s}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const Nce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(Me(!!t),"string"==typeof t){let e=0;const n=Nce.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mo(t){return"string"==typeof t?Nn.fromBase64String(t):Nn.fromUint8Array(t)}function tm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nm(t){const e=t.mapValue.fields.__previous_value__;return tm(e)?nm(e):e}function yh(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}class Oce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tm(t)?4:qk(t)?9007199254740991:10:Te()}function As(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yh(t).isEqual(yh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ta(i.timestampValue),a=ta(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,mo(t.bytesValue).isEqual(mo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return fn(i.geoPointValue.latitude)===fn(s.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return fn(i.integerValue)===fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=fn(i.doubleValue),a=fn(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],As);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bk(o)!==Bk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!As(o[c],a[c])))return!1;return!0}(t,e);default:return Te()}var s}function Eh(t,e){return void 0!==(t.values||[]).find(n=>As(n,e))}function ia(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=fn(s.integerValue||s.doubleValue),c=fn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return jk(t.timestampValue,e.timestampValue);case 4:return jk(yh(t),yh(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=mo(s),c=mo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=$e(a[l],c[l]);if(0!==u)return u}return $e(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=$e(fn(s.latitude),fn(o.latitude));return 0!==a?a:$e(fn(s.longitude),fn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ia(a[l],c[l]);if(u)return u}return $e(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===na.mapValue&&o===na.mapValue)return 0;if(s===na.mapValue)return 1;if(o===na.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=$e(c[d],u[d]);if(0!==f)return f;const h=ia(a[c[d]],l[u[d]]);if(0!==h)return h}return $e(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function jk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $e(t,e);const n=ta(t),r=ta(e),i=$e(n.seconds,r.seconds);return 0!==i?i:$e(n.nanos,r.nanos)}function iu(t){return a8(t)}function a8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mo(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=a8(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${a8(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function ac(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c8(t){return!!t&&"integerValue"in t}function Ch(t){return!!t&&"arrayValue"in t}function $k(t){return!!t&&"nullValue"in t}function Gk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ir(xh(this.value))}}function Yk(t){const e=[];return ea(t.fields,(n,r)=>{const i=new en([n]);if(sm(r)){const s=Yk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ti(e)}class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Ne.min(),Ne.min(),Ne.min(),ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ne.min(),Ne.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ne.min(),Ne.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sa{constructor(e,n){this.position=e,this.inclusive=n}}function Qk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(o.referenceValue),n.key):ia(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Xk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!As(t.position[n],e.position[n]))return!1;return!0}class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Jk{}class at extends Jk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Bce(e,n,r):"array-contains"===n?new Uce(e,r):"in"===n?new iN(e,r):"not-in"===n?new jce(e,r):"array-contains-any"===n?new $ce(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Hce(e,r):new zce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ia(n,this.value)):null!==n&&ra(this.value)===ra(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends Jk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new St(e,n)}matches(e){return su(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function su(t){return"and"===t.op}function u8(t){return function Zk(t){for(const e of t.filters)if(e instanceof St)return!1;return!0}(t)&&su(t)}function d8(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(u8(t))return t.filters.map(e=>d8(e)).join(",");{const e=t.filters.map(n=>d8(n)).join(",");return`${t.op}(${e})`}}function eN(t,e){return t instanceof at?(r=t,(i=e)instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&As(r.value,i.value)):t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&eN(o,i.filters[a]),!0)}(t,e):void Te();var r,i}function nN(t){return t instanceof at?`${(n=t).field.canonicalString()} ${n.op} ${iu(n.value)}`:t instanceof St?function(n){return n.op.toString()+" {"+n.getFilters().map(nN).join(" ,")+"}"}(t):"Filter";var n}class Bce extends at{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hce extends at{constructor(e,n){super(e,"in",n),this.keys=rN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zce extends at{constructor(e,n){super(e,"not-in",n),this.keys=rN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Uce extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ch(n)&&Eh(n.arrayValue,this.value)}}class iN extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Eh(this.value.arrayValue,n)}}class jce extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Eh(this.value.arrayValue,n)}}class $ce extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}class Gce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function f8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gce(t,e,n,r,i,s,o)}function cc(t){const e=_e(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>iu(r)).join(",")),e.ce=n}return e.ce}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xk(t.startAt,e.startAt)&&Xk(t.endAt,e.endAt)}function om(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class _o{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function ou(t){return new _o(t)}function cN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function h8(t){return null!==t.collectionGroup}function au(t){const e=_e(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Mt(en.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ih(s,r))}),n.has(en.keyField().canonicalString())||e.le.push(new Ih(en.keyField(),r))}return e.le}function Fr(t){const e=_e(t);return e.he||(e.he=function lN(t,e){if("F"===t.limitType)return f8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ih(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sa(t.startAt.position,t.startAt.inclusive):null;return f8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,au(t))),e.he}function p8(t,e){const n=t.filters.concat([e]);return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cm(t,e,n){return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return bh(Fr(t),Fr(e))&&t.limitType===e.limitType}function uN(t){return`${cc(Fr(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nN(i)).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>iu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>iu(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of au(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Qk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,au(r),i)||r.endAt&&!function(o,a,c){const l=Qk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,au(r),i)));var r,i}function fN(t){return(e,n)=>{let r=!1;for(const i of au(t)){const s=qce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function qce(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?ia(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Hk(this.inner)}size(){return this.innerSize}}const Wce=new jt(ve.comparator);function ni(){return Wce}const hN=new jt(ve.comparator);function Th(...t){let e=hN;for(const n of t)e=e.insert(n.key,n);return e}function pN(t){let e=hN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return Sh()}function gN(){return Sh()}function Sh(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kce=new jt(ve.comparator),Yce=new Mt(ve.comparator);function Ze(...t){let e=Yce;for(const n of t)e=e.add(n);return e}const Qce=new Mt($e);function mN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function _N(t){return{integerValue:""+t}}function vN(t,e){return function Pk(t){return"number"==typeof t&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?_N(e):mN(t,e)}class lm{constructor(){this._=void 0}}function Xce(t,e,n){return t instanceof lu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tm(s)&&(s=nm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lc?EN(t,e):t instanceof uc?CN(t,e):function(i,s){const o=yN(i,s),a=xN(o)+xN(i.Ie);return c8(o)&&c8(i.Ie)?_N(a):mN(i.serializer,a)}(t,e)}function Jce(t,e,n){return t instanceof lc?EN(t,e):t instanceof uc?CN(t,e):n}function yN(t,e){return t instanceof uu?c8(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class lu extends lm{}class lc extends lm{constructor(e){super(),this.elements=e}}function EN(t,e){const n=IN(e);for(const r of t.elements)n.some(i=>As(i,r))||n.push(r);return{arrayValue:{values:n}}}class uc extends lm{constructor(e){super(),this.elements=e}}function CN(t,e){let n=IN(e);for(const r of t.elements)n=n.filter(i=>!As(i,r));return{arrayValue:{values:n}}}class uu extends lm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xN(t){return fn(t.integerValue||t.doubleValue)}function IN(t){return Ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ele{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function um(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dm{}function bN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new fu(t.key,tn.none()):new du(t.key,t.data,tn.none());{const n=t.data,r=ir.empty();let i=new Mt(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new yo(t.key,r,new ti(i.toArray()),tn.none())}}function tle(t,e,n){t instanceof du?function(i,s,o){const a=i.value.clone(),c=TN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(i,s,o){if(!um(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=TN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(AN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Rh(t,e,n,r){return t instanceof du?function(s,o,a,c){if(!um(s.precondition,o))return a;const l=s.value.clone(),u=SN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(s,o,a,c){if(!um(s.precondition,o))return a;const l=SN(s.fieldTransforms,c,o),u=o.data;return u.setAll(AN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,um(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function nle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yN(r.transform,i||null);null!=s&&(null===n&&(n=ir.empty()),n.set(r.field,s))}return n||null}function wN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&eu(r,i,(s,o)=>function Zce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof lc&&i instanceof lc||r instanceof uc&&i instanceof uc?eu(r.elements,i.elements,As):r instanceof uu&&i instanceof uu?As(r.Ie,i.Ie):r instanceof lu&&i instanceof lu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class du extends dm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yo extends dm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TN(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Jce(o,a,n[i]))}return r}function SN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Xce(s,o,e))}return r}class fu extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m8 extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tle(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=bN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,(n,r)=>wN(n,r))&&eu(this.baseMutations,e.baseMutations,(n,r)=>wN(n,r))}}class v8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=Kce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new v8(e,n,r,i)}}class y8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ile{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,gt;function RN(t){if(void 0===t)return vn("GRPC error has no .code"),z.UNKNOWN;switch(t){case An.OK:return z.OK;case An.CANCELLED:return z.CANCELLED;case An.UNKNOWN:return z.UNKNOWN;case An.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case An.INTERNAL:return z.INTERNAL;case An.UNAVAILABLE:return z.UNAVAILABLE;case An.UNAUTHENTICATED:return z.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case An.NOT_FOUND:return z.NOT_FOUND;case An.ALREADY_EXISTS:return z.ALREADY_EXISTS;case An.PERMISSION_DENIED:return z.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case An.ABORTED:return z.ABORTED;case An.OUT_OF_RANGE:return z.OUT_OF_RANGE;case An.UNIMPLEMENTED:return z.UNIMPLEMENTED;case An.DATA_LOSS:return z.DATA_LOSS;default:return Te()}}(gt=An||(An={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";const sle=new Xl([4294967295,4294967295],0);function PN(t){const e=function MN(){return new TextEncoder}().encode(t),n=new ece;return n.update(e),new Uint8Array(n.digest())}function kN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xl([n,r],0),new Xl([i,s],0)]}class E8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mh(`Invalid padding: ${n}`);if(r<0)throw new Mh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Mh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Mh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Xl.fromNumber(r)));return 1===i.compare(sle)&&(i=new Xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=PN(e),[r,i]=kN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new E8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=PN(e),[r,i]=kN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(Ne.min(),i,new jt($e),ni(),Ze())}}class kh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kh(r,n,Ze(),Ze(),Ze())}}class hm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class NN{constructor(e,n){this.targetId=e,this.fe=n}}class ON{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FN{constructor(){this.ge=0,this.pe=LN(),this.ye=Nn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new kh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=LN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ole{constructor(e){this.Le=e,this.ke=new Map,this.qe=ni(),this.Qe=VN(),this.Ke=new jt($e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(om(s))if(0===r){const o=new ve(s.path);this.We(n,o,Wt.newNoDocument(o,Ne.min()))}else Me(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=mo(r).toUint8Array()}catch(c){if(c instanceof Uk)return mi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new E8(o,i,s)}catch(c){return mi(c instanceof Mh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&om(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Wt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ze();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ph(e,n,this.Ke,this.qe,r);return this.qe=ni(),this.Qe=VN(),this.Ke=new jt($e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new FN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Mt($e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new FN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function VN(){return new jt(ve.comparator)}function LN(){return new jt(ve.comparator)}const ale={asc:"ASCENDING",desc:"DESCENDING"},cle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lle={and:"AND",or:"OR"};class ule{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C8(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dle(t,e){return hu(t,e.toTimestamp())}function yn(t){return Me(!!t),Ne.fromTimestamp(function(n){const r=ta(n);return new on(r.seconds,r.nanos)}(t))}function x8(t,e){return(r=t,new pt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function HN(t){const e=pt.fromString(t);return Me(YN(e)),e}function Nh(t,e){return x8(t.databaseId,e.path)}function Ss(t,e){const n=HN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(UN(n))}function I8(t,e){return x8(t.databaseId,e)}function Oh(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UN(t){return Me(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function jN(t,e,n){return{name:Nh(t,e),fields:n.value.mapValue.fields}}function GN(t,e){return{documents:[I8(t,e.path)]}}function w8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=I8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=I8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return KN(St.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:oa((d=l).field),direction:mle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=C8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function qN(t){let e=function zN(t){const e=HN(t);return 4===e.length?pt.emptyPath():UN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=WN(d);return f instanceof St&&u8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new Ih(pu((p=f).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,_h(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new sa((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new sa(d.values||[],!d.before)}(n.endAt)),function aN(t,e,n,r,i,s,o,a){return new _o(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function WN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pu(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pu(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pu(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pu(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?at.create(pu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return St.create(n.compositeFilter.filters.map(r=>WN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function mle(t){return ale[t]}function _le(t){return cle[t]}function vle(t){return lle[t]}function oa(t){return{fieldPath:t.canonicalString()}}function pu(t){return en.fromServerFormat(t.fieldPath)}function KN(t){return t instanceof at?function(n){if("=="===n.op){if(Gk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NAN"}};if($k(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Gk(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NAN"}};if($k(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(n.field),op:_le(n.op),value:n.value}}}(t):t instanceof St?function(n){const r=n.getFilters().map(i=>KN(i));return 1===r.length?r[0]:{compositeFilter:{op:vle(n.op),filters:r}}}(t):Te()}function yle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Eo{constructor(e,n,r,i,s=Ne.min(),o=Ne.min(),a=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QN{constructor(e){this.ut=e}}function A8(t){const e=qN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cm(e,e.limit,"L"):e}class pc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(fn(e.integerValue));else if("doubleValue"in e){const r=fn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),vh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(mo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?qk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}pc.St=new pc;class Tle{constructor(){this.on=new P8}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(_i.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class P8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(pt.comparator)).toArray()}}new Uint8Array(0);class mr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class mc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new mc(0)}static Nn(){return new mc(-1)}}class kle{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Rh(r.mutation,i,ti.empty(),on.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Th();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ni();const o=Sh(),a=Sh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof yo)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Rh(u.mutation,l,u.mutation.getFieldMask(),on.now())):o.set(l.key,ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Fle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new jt((o,a)=>o-a),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||ti.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Ze()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=gN();u.forEach(f=>{if(!s.has(f)){const h=bN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):h8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Ts());let a=-1,c=s;return o.next(l=>P.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ze())).next(u=>({batchId:a,changes:pN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Th();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,c=>{const l=(d=n,f=c.child(s),new _o(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Wt.newInvalidDocument(u)))});let a=Th();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Rh(u.mutation,l,ti.empty(),on.now()),Ah(n,l)&&(a=a.insert(c,l))}),a})}}class Vle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:yn(i.createTime)}),P.resolve();var i}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:A8(i.bundledQuery),readTime:yn(i.readTime)}),P.resolve();var i}}class Lle{constructor(){this.overlays=new jt(ve.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Ts(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new jt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Ts(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ts(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y8(n,r));let s=this.lr.get(n);void 0===s&&(s=Ze(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class k8{constructor(){this.hr=new Mt(jn.Pr),this.Ir=new Mt(jn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new jn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new pt([])),r=new jn(n,e),i=new jn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new pt([])),r=new jn(n,e),i=new jn(n,e+1);let s=Ze();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||$e(e.gr,n.gr)}static Tr(e,n){return $e(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class Ble{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Mt(jn.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new _8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt($e);return n.forEach(i=>{const s=new jn(i,0),o=new jn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new jn(new ve(s),0);let a=new Mt($e);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Me(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new jn(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Hle{constructor(e){this.Cr=e,this.docs=new jt(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ni();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ni();const o=n.path,a=new ve(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||r8(Dk(u),r)<=0||(i.has(u.key)||Ah(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zle(this)}getSize(e){return P.resolve(this.size)}}class zle extends kle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ule{constructor(e){this.persistence=e,this.Fr=new vo(n=>cc(n),bh),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new k8,this.targetCount=0,this.Nr=mc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}class N8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new vi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ule(this),this.indexManager=new Tle,this.remoteDocumentCache=new Hle(r=>this.referenceDelegate.Qr(r)),this.serializer=new QN(n),this.Kr=new Vle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ble(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new jle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class jle extends dce{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Gr=new k8,this.zr=null}static jr(e){return new Cm(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class L8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new L8(e,n.fromCache,r,i)}}class Gle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Gle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Zl()<=ut.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(Zl()<=ut.DEBUG&&ie("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Zl()<=ut.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):P.resolve())}zi(e,n){if(cN(n))return P.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=cm(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ze(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,cm(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return cN(n)||i.isEqual(Ne.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(Zl()<=ut.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.Xi(e,o,n,function Sk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new on(n+1,0):new on(n,r));return new _i(i,ve.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Mt(fN(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Zl()<=ut.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Gi.getDocumentsMatchingQuery(e,n,_i.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class qle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new jt($e),this.ns=new vo(s=>cc(s),bh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function TO(t,e){return B8.apply(this,arguments)}function B8(){return B8=v(function*(t,e){const n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ze();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),B8.apply(this,arguments)}function SO(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Yle(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eu(t,e,n){return H8.apply(this,arguments)}function H8(){return H8=v(function*(t,e,n){const r=_e(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zo(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),H8.apply(this,arguments)}function bm(t,e,n){const r=_e(t);let i=Ne.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=_e(c),f=d.ns.get(u);return void 0!==f?P.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?s:Ze())).next(a=>(function PO(t,e,n){let r=t.rs.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function dN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class G8{constructor(){this.activeTargetIds=function g8(){return Qce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OO{constructor(){this.eo=new G8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new G8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jle{ro(e){}shutdown(){}}class FO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tm=null;function W8(){return null===Tm?Tm=268435456+Math.round(2147483648*Math.random()):Tm++,"0x"+Tm.toString(16)}const Zle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eue{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const _r="WebChannelConnection";class tue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=W8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw mi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Jl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Zle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=W8();return new Promise((o,a)=>{const c=new Zae;c.setWithCredentials(!0),c.listenOnce(Qae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case e8.NO_ERROR:const u=c.getResponseJson();ie(_r,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case e8.TIMEOUT:ie(_r,`RPC '${e}' ${s} timed out`),a(new se(z.DEADLINE_EXCEEDED,"Request time out"));break;case e8.HTTP_ERROR:const d=c.getStatus();if(ie(_r,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(y){const D=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(D)>=0?D:z.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(z.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(_r,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(_r,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=W8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kae(),a=Yae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Jae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(_r,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new eue({co:y=>{h?ie(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ie(_r,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(_r,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,D,w)=>{y.listen(D,$=>{try{w($)}catch(Q){setTimeout(()=>{throw Q},0)}})};return g(d,X1.EventType.OPEN,()=>{h||ie(_r,`RPC '${e}' stream ${i} transport opened.`)}),g(d,X1.EventType.CLOSE,()=>{h||(h=!0,ie(_r,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,X1.EventType.ERROR,y=>{h||(h=!0,mi(_r,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new se(z.UNAVAILABLE,"The operation could not be completed")))}),g(d,X1.EventType.MESSAGE,y=>{var D;if(!h){const w=y.data[0];Me(!!w);const Q=w.error||(null===(D=w[0])||void 0===D?void 0:D.error);if(Q){ie(_r,`RPC '${e}' stream ${i} received error:`,Q);const pe=Q.status;let ke=function(Fn){const ba=An[Fn];if(void 0!==ba)return RN(ba)}(pe),Xe=Q.message;void 0===ke&&(ke=z.INTERNAL,Xe="Unknown error status: "+pe+" with message "+Q.message),h=!0,p.Ro(new se(ke,Xe)),d.close()}else ie(_r,`RPC '${e}' stream ${i} received:`,w),p.Vo(w)}}),g(a,Xae.STAT_EVENT,y=>{y.stat===xk.PROXY?ie(_r,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===xk.NOPROXY&&ie(_r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Sm(){return typeof document<"u"?document:null}function $h(t){return new ule(t,!0)}class K8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class LO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new K8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===z.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nue extends LO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function hle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Me(void 0===u||"string"==typeof u),Nn.fromBase64String(u||"")):(Me(void 0===u||u instanceof Uint8Array),Nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?z.UNKNOWN:RN(l.code);return new se(u,l.message||"")}(o);n=new ON(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ss(t,r.document.name),s=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):Ne.min(),a=new ir({mapValue:{fields:r.document.fields}}),c=Wt.newFoundDocument(i,s,o,a);n=new hm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ss(t,r.document),s=r.readTime?yn(r.readTime):Ne.min(),o=Wt.newNoDocument(i,s);n=new hm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ss(t,r.document);n=new hm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new ile(i,s);n=new NN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?yn(o.readTime):Ne.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Oh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=om(c)?{documents:GN(s,c)}:{query:w8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BN(s,o.resumeToken);const l=C8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=hu(s,o.snapshotVersion.toTimestamp());const l=C8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function gle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Oh(this.serializer),n.removeTarget=e,this.e_(n)}}class rue extends LO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function ple(t,e){return t&&t.length>0?(Me(void 0!==e),t.map(n=>function(i,s){let o=yn(i.updateTime?i.updateTime:s);return o.isEqual(Ne.min())&&(o=yn(s)),new ele(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.I_(r,n)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Oh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Fh(t,e){let n;if(e instanceof du)n={update:jN(t,e.key,e.value)};else if(e instanceof fu)n={delete:Nh(t,e.key)};else if(e instanceof yo)n={update:jN(t,e.key,e.data),updateMask:yle(e.fieldMask)};else{if(!(e instanceof m8))return Te();n={verify:Nh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:dle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Te()),n;var s}(this.serializer,r))};this.e_(n)}}class iue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(z.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(z.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class oue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class aue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;ua(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=_e(u);d.C_.add(4),yield Cu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Gh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new oue(r,i)}}function Gh(t){return Q8.apply(this,arguments)}function Q8(){return Q8=v(function*(t){if(ua(t))for(const e of t.v_)yield e(!0)}),Q8.apply(this,arguments)}function Cu(t){return X8.apply(this,arguments)}function X8(){return X8=v(function*(t){for(const e of t.v_)yield e(!1)}),X8.apply(this,arguments)}function Dm(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),eC(n)?Z8(n):Iu(n).Ho()&&J8(n,e))}function qh(t,e){const n=_e(t),r=Iu(n);n.D_.delete(e),r.Ho()&&BO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ua(n)&&n.M_.set("Unknown"))}function J8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Iu(t).u_(e)}function BO(t,e){t.x_.Oe(e),Iu(t).c_(e)}function Z8(t){t.x_=new ole({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Iu(t).start(),t.M_.g_()}function eC(t){return ua(t)&&!Iu(t).jo()&&t.D_.size>0}function ua(t){return 0===_e(t).C_.size}function HO(t){t.x_=void 0}function cue(t){return tC.apply(this,arguments)}function tC(){return tC=v(function*(t){t.D_.forEach((e,n)=>{J8(t,e)})}),tC.apply(this,arguments)}function lue(t,e){return nC.apply(this,arguments)}function nC(){return nC=v(function*(t,e){HO(t),eC(t)?(t.M_.w_(e),Z8(t)):t.M_.set("Unknown")}),nC.apply(this,arguments)}function uue(t,e,n){return rC.apply(this,arguments)}function rC(){return rC=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof ON&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rm(t,r)}else if(e instanceof hm?t.x_.$e(e):e instanceof NN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ne.min()))try{const r=yield SO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Nn.EMPTY_BYTE_STRING,u.snapshotVersion)),BO(s,c);const d=new Eo(u.target,c,l,u.sequenceNumber);J8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield Rm(t,r)}var r}),rC.apply(this,arguments)}function Rm(t,e,n){return iC.apply(this,arguments)}function iC(){return iC=v(function*(t,e,n){if(!Zo(e))throw e;t.C_.add(1),yield Cu(t),t.M_.set("Offline"),n||(n=()=>SO(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Gh(t)}))}),iC.apply(this,arguments)}function zO(t,e){return e().catch(n=>Rm(t,n,e))}function xu(t){return sC.apply(this,arguments)}function sC(){return sC=v(function*(t){const e=_e(t),n=da(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;due(e);)try{const i=yield Yle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,fue(e,i)}catch(i){yield Rm(e,i)}UO(e)&&jO(e)}),sC.apply(this,arguments)}function due(t){return ua(t)&&t.b_.length<10}function fue(t,e){t.b_.push(e);const n=da(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function UO(t){return ua(t)&&!da(t).jo()&&t.b_.length>0}function jO(t){da(t).start()}function hue(t){return oC.apply(this,arguments)}function oC(){return oC=v(function*(t){da(t).E_()}),oC.apply(this,arguments)}function pue(t){return aC.apply(this,arguments)}function aC(){return aC=v(function*(t){const e=da(t);for(const n of t.b_)e.P_(n.mutations)}),aC.apply(this,arguments)}function gue(t,e,n){return cC.apply(this,arguments)}function cC(){return cC=v(function*(t,e,n){const r=t.b_.shift(),i=v8.from(r,e,n);yield zO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xu(t)}),cC.apply(this,arguments)}function mue(t,e){return lC.apply(this,arguments)}function lC(){return lC=v(function*(t,e){var n;e&&da(t).h_&&(yield(n=v(function*(i,s){if(function DN(t){switch(t){default:return Te();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}(a=s.code)&&a!==z.ABORTED){const o=i.b_.shift();da(i).Yo(),yield zO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield xu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),UO(t)&&jO(t)}),lC.apply(this,arguments)}function $O(t,e){return uC.apply(this,arguments)}function uC(){return uC=v(function*(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=ua(n);n.C_.add(3),yield Cu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Gh(n)}),uC.apply(this,arguments)}function fC(){return fC=v(function*(t,e){const n=_e(t);e?(n.C_.delete(2),yield Gh(n)):e||(n.C_.add(2),yield Cu(n),n.M_.set("Unknown"))}),fC.apply(this,arguments)}function Iu(t){return t.O_||(t.O_=function(n,r,i){const s=_e(n);return s.A_(),new nue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:cue.bind(null,t),Io:lue.bind(null,t),a_:uue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),eC(t)?Z8(t):t.M_.set("Unknown")):(yield t.O_.stop(),HO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function da(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.A_(),new rue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:hue.bind(null,t),Io:mue.bind(null,t),T_:pue.bind(null,t),I_:gue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield xu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class hC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new hC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(t,e){if(vn("AsyncQueue",`${e}: ${t}`),Zo(t))return new se(z.UNAVAILABLE,`${e}: ${t}`);throw t}class wu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Th(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new wu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class GO{constructor(){this.B_=new jt(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Au{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Au(e,n,wu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class _ue{constructor(){this.k_=void 0,this.listeners=[]}}class vue{constructor(){this.queries=new vo(e=>uN(e),wh),this.onlineState="Unknown",this.q_=new Set}}function gC(){return gC=v(function*(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _ue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=bu(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&vC(n)}),gC.apply(this,arguments)}function _C(){return _C=v(function*(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),_C.apply(this,arguments)}function yue(t,e){const n=_e(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&vC(n)}function Eue(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function vC(t){t.q_.forEach(e=>{e.next()})}class yC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class KO{constructor(e){this.key=e}}class YO{constructor(e){this.key=e}}class QO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ze(),this.mutatedKeys=Ze(),this._a=fN(e),this.aa=new wu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new GO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Ah(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Au(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new GO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ze(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new YO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new KO(r))}),n}da(e){this.ia=e.ls,this.oa=Ze();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Au.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Iue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bue{constructor(e){this.key=e,this.Ra=!1}}class wue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vo(a=>uN(a),wh),this.fa=new Map,this.ga=new Set,this.pa=new jt(ve.comparator),this.ya=new Map,this.wa=new k8,this.Sa={},this.ba=new Map,this.Da=mc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Aue(t,e){return EC.apply(this,arguments)}function EC(){return EC=v(function*(t,e){const n=function jC(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Due.bind(null,e),e.Va.a_=yue.bind(null,e.eventManager),e.Va.Fa=Eue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function yu(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Eo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Fr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function CC(t,e,n,r,i){return xC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Dm(n.remoteStore,o)}return i}),EC.apply(this,arguments)}function xC(){return xC=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(y,D,w,$){let Q=D.view.ca(w);Q.Zi&&(Q=yield bm(y.localStore,D.query,!1).then(({documents:Xe})=>D.view.ca(Xe,Q)));const pe=$&&$.targetChanges.get(D.targetId),ke=D.view.applyChanges(Q,y.isPrimaryClient,pe);return PC(y,D.targetId,ke.Ta),ke.snapshot}),function g(y,D,w,$){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield bm(t.localStore,e,!0),o=new QO(e,s.ls),a=o.ca(s.documents),c=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);PC(t,n,l.Ta);const u=new Iue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),xC.apply(this,arguments)}function Tue(t,e){return IC.apply(this,arguments)}function IC(){return IC=v(function*(t,e){const n=_e(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!wh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qh(n.remoteStore,r.targetId),Tu(n,r.targetId)}).catch(Jo))):(Tu(n,r.targetId),yield Eu(n.localStore,r.targetId,!0))}),IC.apply(this,arguments)}function bC(){return bC=v(function*(t,e,n){const r=function $C(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=_e(o),l=on.now(),u=a.reduce((h,p)=>h.add(p.key),Ze());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ni(),g=Ze();return c.ss.getEntries(h,u).next(y=>{p=y,p.forEach((D,w)=>{w.isValidDocument()||(g=g.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const D=[];for(const w of a){const $=nle(w,d.get(w.key).overlayedDocument);null!=$&&D.push(new yo(w.key,$,Yk($.value.mapValue),tn.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,D,a)}).next(y=>{f=y;const D=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,y.batchId,D)})}).then(()=>({batchId:f.batchId,changes:pN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new jt($e)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Co(r,i.changes),yield xu(r.remoteStore)}catch(i){const s=bu(i,"Failed to persist write");n.reject(s)}}),bC.apply(this,arguments)}function XO(t,e){return wC.apply(this,arguments)}function wC(){return wC=v(function*(t,e){const n=_e(t);try{const r=yield function Kle(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,y,D;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Nn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),y=h,D=u,(0===(g=f).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=ni(),l=Ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function DO(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ni();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Ne.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Me(o.Ra):i.removedDocuments.size>0&&(Me(o.Ra),o.Ra=!1))}),yield Co(n,r,e)}catch(r){yield Jo(r)}}),wC.apply(this,arguments)}function JO(t,e,n){const r=_e(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&vC(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Due(t,e,n){return AC.apply(this,arguments)}function AC(){return AC=v(function*(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new jt(ve.comparator);o=o.insert(s,Wt.newNoDocument(s,Ne.min()));const a=Ze().add(s),c=new Ph(Ne.min(),new Map,new jt($e),o,a);yield XO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),kC(r)}else yield Eu(r.localStore,e,!1).then(()=>Tu(r,e,n)).catch(Jo)}),AC.apply(this,arguments)}function Rue(t,e){return TC.apply(this,arguments)}function TC(){return TC=v(function*(t,e){const n=_e(t),r=e.batch.batchId;try{const i=yield function Wle(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=P.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const y=l.docVersions.get(p);Me(null!==y),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ze();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);MC(n,r,null),RC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Co(n,i)}catch(i){yield Jo(i)}}),TC.apply(this,arguments)}function Mue(t,e,n){return SC.apply(this,arguments)}function SC(){return SC=v(function*(t,e,n){const r=_e(t);try{const i=yield function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Me(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);MC(r,e,n),RC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Co(r,i)}catch(i){yield Jo(i)}}),SC.apply(this,arguments)}function RC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function MC(t,e,n){const r=_e(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Tu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||ZO(t,r)})}function ZO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(qh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),kC(t))}function PC(t,e,n){for(const r of n)r instanceof KO?(t.wa.addReference(r.key,e),kue(t,r)):r instanceof YO?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||ZO(t,r.key)):Te()}function kue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),kC(t))}function kC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(pt.fromString(e)),r=t.Da.next();t.ya.set(r,new bue(n)),t.pa=t.pa.insert(n,r),Dm(t.remoteStore,new Eo(Fr(ou(n.path)),r,"TargetPurposeLimboResolution",vi._e))}}function Co(t,e,n){return NC.apply(this,arguments)}function NC(){return NC=v(function*(t,e,n){const r=_e(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=L8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=_e(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,h=>P.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>P.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Zo(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,y)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),NC.apply(this,arguments)}function Nue(t,e){return OC.apply(this,arguments)}function OC(){return OC=v(function*(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield TO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Co(n,r._s)}var s}),OC.apply(this,arguments)}function Oue(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return Ze().add(r.key);{let i=Ze();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Mm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=$h(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function AO(t,e,n,r){return new qle(t,e,n,r)}(this.persistence,new wO,e.initialUser,this.serializer)}createPersistence(e){return new N8(Cm.jr,this.serializer)}createSharedClientState(e){return new OO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Su{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>JO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Nue.bind(null,r.syncEngine),yield function dC(t,e){return fC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vue}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=new tue(e.databaseInfo);return new iue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>JO(this.syncEngine,n,0),a=FO.D()?new FO:new Jle,new aue(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new wue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=_e(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Cu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Kue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=Ak.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=bu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function km(t,e){return GC.apply(this,arguments)}function GC(){return GC=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield TO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),GC.apply(this,arguments)}function qC(t,e){return WC.apply(this,arguments)}function WC(){return WC=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function KC(t){return YC.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$O(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$O(e.remoteStore,s)),t._onlineComponents=e}),WC.apply(this,arguments)}function YC(){return YC=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function sF(t){return"FirebaseError"===t.name?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),yield km(t,new Mm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield km(t,new Mm);return t._offlineComponents}),YC.apply(this,arguments)}function Nm(t){return QC.apply(this,arguments)}function QC(){return QC=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield qC(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield qC(t,new Su))),t._onlineComponents}),QC.apply(this,arguments)}function Ru(t){return JC.apply(this,arguments)}function JC(){return JC=v(function*(t){const e=yield Nm(t),n=e.eventManager;return n.onListen=Aue.bind(null,e.syncEngine),n.onUnlisten=Tue.bind(null,e.syncEngine),n}),JC.apply(this,arguments)}function dF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const fF=new Map;function ZC(t,e,n){if(!n)throw new se(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hF(t){if(!ve.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pF(t){if(ve.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Om(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(t);throw new se(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class mF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function sde(t,e,n,r){if(!0===e&&!0===r)throw new se(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new tce;switch(r.type){case"firstParty":return new sce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),fF.delete(n),r.terminate())}(this),Promise.resolve()}}class sr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ds extends sr{constructor(e,n,r){super(e,n,ou(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ve(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function ade(t,e,...n){if(t=ln(t),ZC("collection","path",e),t instanceof Wh){const r=pt.fromString(e,...n);return pF(r),new Ds(t,null,r)}{if(!(t instanceof En||t instanceof Ds))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return pF(r),new Ds(t.firestore,null,r)}}function _F(t,e,...n){if(t=ln(t),1===arguments.length&&(e=Ak.newId()),ZC("doc","path",e),t instanceof Wh){const r=pt.fromString(e,...n);return hF(r),new En(t,null,new ve(r))}{if(!(t instanceof En||t instanceof Ds))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return hF(r),new En(t.firestore,t instanceof Ds?t.converter:null,new ve(r))}}class cde{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new K8(this,"async_queue_retry"),this.iu=()=>{const n=Sm();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Sm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Sm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new kn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Zo(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,vn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=hC.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ex(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class $t extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yF(this),this._firestoreClient.terminate()}}function ude(t,e){const r="string"==typeof t?t:e||"(default)",i=Es("object"==typeof t?t:Bl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=wM("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function ode(t,e,n,r={}){var i;const s=(t=ct(t,Wh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=zn.MOCK_USER;else{a=function rne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jg(JSON.stringify({alg:"none",type:"JWT"})),Jg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(l)}t._authCredentials=new nce(new bk(a,c))}}(i,...s)}return i}function Cn(t){return t._firestoreClient||yF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Oce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Kue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(Nn.fromBase64String(e))}catch(n){throw new se(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vc(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tx{constructor(e){this._methodName=e}}class nx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}const fde=/^__.*__$/;class hde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class xF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Fm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Lm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(IF(this.Iu)&&fde.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class pde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}pu(e,n,r,i=!1){return new Fm({Iu:e,methodName:n,gu:r,path:en.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new pde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);sx("Data must be an object, but it was:",o,r);const a=SF(r,o);let c,l;if(s.merge)c=new ti(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Qh(e,d,n);if(!o.contains(f))throw new se(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);RF(u,f)||u.push(f)}c=new ti(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new hde(new ir(a),c,l)}class Yh extends tx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function yc(t,e){if(DF(t=ln(t)))return sx("Unsupported field value:",e,t),SF(t,e);if(t instanceof tx)return function(r,i){if(!IF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=yc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=ln(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return vN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=on.fromDate(r);return{timestampValue:hu(i.serializer,s)}}if(r instanceof on){const s=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hu(i.serializer,s)}}if(r instanceof nx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:BN(i.serializer,r._byteString)};if(r instanceof En){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Om(r)}`)}(t,e)}function SF(t,e){const n={};return Hk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{const s=yc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function DF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof on||t instanceof nx||t instanceof vc||t instanceof En||t instanceof tx)}function sx(t,e,n){if(!DF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Om(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Qh(t,e,n){if((e=ln(e))instanceof Mu)return e._internalPath;if("string"==typeof e)return Vm(t,e);throw Lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const vde=new RegExp("[~\\*/\\[\\]]");function Vm(t,e,n){if(e.search(vde)>=0)throw Lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw Lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(z.INVALID_ARGUMENT,a+t+c)}function RF(t,e){return t.some(n=>n.isEqual(e))}class ox{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yde extends ox{data(){return super.data()}}function Bm(t,e){return"string"==typeof e?Vm(t,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}class ax{}class PF extends ax{}function Ede(t,e,...n){let r=[];e instanceof ax&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof ku).length,a=s.filter(c=>c instanceof Xh).length;if(o>1||o>0&&a>0)throw new se(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xh extends PF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xh(e,n,r)}_apply(e){const n=this._parse(e);return FF(e._query,n),new sr(e.firestore,e.converter,p8(e._query,n))}_parse(e){const n=Pu(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){OF(d,u);const h=[];for(const p of d)h.push(NF(c,s,p));f={arrayValue:{values:h}}}else f=NF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||OF(d,u),f=function TF(t,e,n,r=!1){return yc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return at.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cde(t,e,n){const r=e,i=Bm("where",t);return Xh._create(i,r,n)}class ku extends ax{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ku(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:St.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)FF(o,c),o=p8(o,c)}(e._query,n),new sr(e.firestore,e.converter,p8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hm extends PF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){return new sr(e.firestore,e.converter,cm(e._query,this._limit,this._limitType))}}function xde(t){return function gF(t,e){if(e<=0)throw new se(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Hm._create("limit",t,"F")}function NF(t,e,n){if("string"==typeof(n=ln(n))){if(""===n)throw new se(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h8(e)&&-1!==n.indexOf("/"))throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ve.isDocumentKey(r))throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ac(t,new ve(r))}if(n instanceof En)return ac(t,n._key);throw new se(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(n)}.`)}function OF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(z.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ide{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nx(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const n=ta(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);Me(YN(r));const i=new oc(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nu extends ox{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jm extends Nu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jm(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ec(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ec(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:wde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class fa extends Ide{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Ade(t,e,n){t=ct(t,En);const r=ct(t.firestore,$t),i=function lx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Jh(r,[rx(Pu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,tn.none())])}function Tde(t,e,n,...r){t=ct(t,En);const i=ct(t.firestore,$t),s=Pu(i);let o;return o="string"==typeof(e=ln(e))||e instanceof Mu?function AF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Qh(e,r,n)],c=[i];if(s.length%2!=0)throw new se(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Qh(e,s[f])),c.push(s[f+1]);const l=[],u=ir.empty();for(let f=a.length-1;f>=0;--f)if(!RF(l,a[f])){const h=a[f];let p=c[f];p=ln(p);const g=o.Ru(h);if(p instanceof Yh)l.push(h);else{const y=yc(p,g);null!=y&&(l.push(h),u.set(h,y))}}const d=new ti(l);return new xF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function wF(t,e,n,r){const i=t.pu(1,e,n);sx("Data must be an object, but it was:",i,r);const s=[],o=ir.empty();ea(r,(c,l)=>{const u=Vm(e,c,n);l=ln(l);const d=i.Ru(u);if(l instanceof Yh)s.push(u);else{const f=yc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new ti(s);return new xF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Jh(i,[o.toMutation(t._key,tn.exists(!0))])}function Jh(t,e){return function(r,i){const s=new kn;return r.asyncQueue.enqueueAndForget(v(function*(){return function Sue(t,e,n){return bC.apply(this,arguments)}(yield function XC(t){return Nm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Cn(t),e)}!function(e,n=!0){Jl=Ll,Mi(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $t(new rce(r.getProvider("auth-internal")),new oce(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),un(Ik,"4.3.2",e),un(Ik,"4.3.2","esm2017")}();var qm=function(){return qm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},qm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var zde={includeMetadataChanges:!1};function hx(t,e){return void 0===e&&(e=zde),new he(function(n){var r=function Sde(t,...e){var n,r,i;t=ln(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||ex(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ex(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof En)l=ct(t.firestore,$t),u=ou(t._key.path),c={next:d=>{e[o]&&e[o](function ux(t,e,n){const r=n.docs.get(e._key),i=new fa(t);return new Nu(t,i,e._key,r,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ct(t,sr);l=ct(d.firestore,$t),u=d._query;const f=new fa(l);c={next:h=>{e[o]&&e[o](new Ou(l,f,d,h))},error:e[o+1],complete:e[o+2]},function MF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const y=new Pm(g),D=new yC(h,y,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function pC(t,e){return gC.apply(this,arguments)}(yield Ru(f),D)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function mC(t,e){return _C.apply(this,arguments)}(yield Ru(f),D)}))}}(Cn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function jde(t,e){return void 0===e&&(e={}),function Ude(t){return hx(t,{includeMetadataChanges:!0})}(t).pipe(Je(function(n){return zF(n,e)}))}function zF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?qm(qm({},r),((n={})[e.idField]=t.id,n)):r}function Yde(t,e){return void 0===e&&(e={}),function Kde(t){return hx(t,{includeMetadataChanges:!0}).pipe(Je(function(e){return e.docs}))}(t).pipe(Je(function(n){return n.map(function(r){return zF(r,e)})}))}class Rs{constructor(e){return e}}const GF="firestore",mx=new Ce("angularfire2.firestore-instances");function Zde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Rs(r)}}const efe={provide:class Xde{constructor(){return o1(GF)}},deps:[[new Gt,mx]]},tfe={provide:Rs,useFactory:function Jde(t,e){const n=s1(GF,t,e);return n&&new Rs(n)},deps:[[new Gt,mx],Ya]};let nfe=(()=>{var t;class e{constructor(){un("angularfire",$o.full,"fst")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[tfe,efe]})),e})();function Cc(t,...e){return{ngModule:nfe,providers:[{provide:mx,useFactory:Zde(t),multi:!0,deps:[mt,Mn,Pf,kf,[new Gt,s9],[new Gt,r6],...e]}]}}const Zh=In(Yde,!0),ep=In(jde,!0),Ji=In(ade,!0),vr=In(_F,!0),xc=In(ude,!0),qF=In(xde,!0),tp=In(Ede,!0),Fu=In(Ade,!0),np=In(Tde,!0),_x=In(Cde,!0);class Wm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Vu,vx=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(vx||{}),nt=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.JS_VERSION="js-version",t.PLAYERS_RANKINGS_SORT="players-rankings-sort",t}(nt||{});class WF{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Vr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new WF(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(WF,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(nt.REMOTE_METADATA)}localMetadata(){return this.get(nt.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Vu=Vr).\u0275fac=function(e){return new(e||Vu)},Vu.\u0275prov=be({token:Vu,factory:Vu.\u0275fac,providedIn:"platform"}),Qt([Er(2,Gt())],Vr.prototype,"cache",null),Qt([Er(1,Gt())],Vr.prototype,"get",null);var Lu,yx=L(874);class Ms{constructor(){this.localStorageService=W(Vr),this._authState=new Rt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(nt.USER))return!1;let n=this.localStorageService.get(nt.USER).session.timeToken,r=this.localStorageService.get(nt.USER).session.refreshToken,i=Date.parse(yx.AES.decrypt(n,r).toString(yx.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Wm(s,this.localStorageService.get(nt.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(nt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=o9(e).subscribe(r=>{if(null!=r){let i=Zh(tp(Ji(n,"valid-users"),_x("email","==",r.email),qF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:vx.USER},s[0]);o.enabled?(this.localStorageService.cache(nt.USER,{session:{timeToken:yx.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new Wm(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(nt.USER),this._authState.emit(new Wm(!1,null))})}}signInWithEmailAndPassword(e,n,r){qoe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Woe(e,new jie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(nt.USER),this._refreshInProgress=!0,this._authState.emit(new Wm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Ps(t,e){return Be((n,r)=>{let i=0;n.subscribe(it(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ex(...t){return function ife(){return c0(1)}()(Wn(t,md(t)))}function KF(...t){const e=md(t);return Be((n,r)=>{(e?Ex(t,n,e):Ex(t,n)).subscribe(r)})}(Lu=Ms).\u0275fac=function(e){return new(e||Lu)},Lu.\u0275prov=be({token:Lu,factory:Lu.\u0275fac,providedIn:"platform"}),Qt([Er(0,Gt())],Ms.prototype,"checkLoginValidity",null);const ofe=(t,e)=>e.some(n=>t instanceof n);let YF,QF;const XF=new WeakMap,Cx=new WeakMap,JF=new WeakMap,xx=new WeakMap,Ix=new WeakMap;let bx={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Cx.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hfe(t){return"function"==typeof t?function ffe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cfe(){return QF||(QF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(wx(this),e),ha(XF.get(this))}:function(...e){return ha(t.apply(wx(this),e))}:function(e,...n){const r=t.call(wx(this),e,...n);return JF.set(r,e.sort?e.sort():[e]),ha(r)}}(t):(t instanceof IDBTransaction&&function ufe(t){if(Cx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cx.set(t,e)}(t),ofe(t,function afe(){return YF||(YF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,bx):t)}function ha(t){if(t instanceof IDBRequest)return function lfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ha(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XF.set(n,t)}).catch(()=>{}),Ix.set(e,t),e}(t);if(xx.has(t))return xx.get(t);const e=hfe(t);return e!==t&&(xx.set(t,e),Ix.set(e,t)),e}const wx=t=>Ix.get(t),gfe=["get","getKey","getAll","getAllKeys","count"],mfe=["put","add","delete","clear"],Ax=new Map;function ZF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ax.get(e))return Ax.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gfe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Ax.set(e,s),s}!function dfe(t){bx=t(bx)}(t=>({...t,get:(e,n,r)=>ZF(e,n)||t.get(e,n,r),has:(e,n)=>!!ZF(e,n)||t.has(e,n)}));const eV="@firebase/installations",Tx="0.6.4",tV=1e4,nV=`w:${Tx}`,rV="FIS_v2",_fe="https://firebaseinstallations.googleapis.com/v1",vfe=36e5,xo=new Uo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function iV(t){return t instanceof Ki&&t.code.includes("request-failed")}function Sx({projectId:t}){return`${_fe}/projects/${t}/installations`}function sV(t){return{token:t.token,requestStatus:2,expiresIn:xfe(t.expiresIn),creationTime:Date.now()}}function Dx(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=v(function*(t,e){const r=(yield e.json()).error;return xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Rx.apply(this,arguments)}function oV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mx(t){return Px.apply(this,arguments)}function Px(){return Px=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Px.apply(this,arguments)}function xfe(t){return Number(t.replace("s","000"))}function kx(){return kx=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Sx(t),i=oV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:rV,appId:t.appId,sdkVersion:nV})},c=yield Mx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:sV(l.authToken)}}throw yield Dx("Create Installation",c)}),kx.apply(this,arguments)}function cV(t){return new Promise(e=>{setTimeout(e,t)})}const Afe=/^[cdef][\w-]{21}$/,Nx="";function Tfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Sfe(t){return function wfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Afe.test(n)?n:Nx}catch{return Nx}}function Bu(t){return`${t.appName}!${t.appId}`}const Hu=new Map;function lV(t,e){const n=Bu(t);uV(n,e),function Mfe(t,e){const n=function dV(){return!Ic&&"BroadcastChannel"in self&&(Ic=new BroadcastChannel("[Firebase] FID Change"),Ic.onmessage=t=>{uV(t.data.key,t.data.fid)}),Ic}();n&&n.postMessage({key:t,fid:e}),function fV(){0===Hu.size&&Ic&&(Ic.close(),Ic=null)}()}(n,e)}function uV(t,e){const n=Hu.get(t);if(n)for(const r of n)r(e)}let Ic=null;const Pfe="firebase-installations-database",kfe=1,bc="firebase-installations-store";let Ox=null;function Fx(){return Ox||(Ox=function pfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ha(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ha(o.result),c.oldVersion,c.newVersion,ha(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Pfe,kfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bc)}})),Ox}function Km(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=v(function*(t,e){const n=Bu(t),i=(yield Fx()).transaction(bc,"readwrite"),s=i.objectStore(bc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&lV(t,e.fid),e}),Vx.apply(this,arguments)}function Lx(t){return Bx.apply(this,arguments)}function Bx(){return Bx=v(function*(t){const e=Bu(t),r=(yield Fx()).transaction(bc,"readwrite");yield r.objectStore(bc).delete(e),yield r.done}),Bx.apply(this,arguments)}function rp(t,e){return Hx.apply(this,arguments)}function Hx(){return Hx=v(function*(t,e){const n=Bu(t),i=(yield Fx()).transaction(bc,"readwrite"),s=i.objectStore(bc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&lV(t,a.fid),a}),Hx.apply(this,arguments)}function zx(t){return Ux.apply(this,arguments)}function Ux(){return Ux=v(function*(t){let e;const n=yield rp(t.appConfig,r=>{const i=function Nfe(t){return pV(t||{fid:Tfe(),registrationStatus:0})}(r),s=function Ofe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ffe(t,e){return jx.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Vfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Nx?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Ux.apply(this,arguments)}function jx(){return jx=v(function*(t,e){try{const n=yield function bfe(t,e){return kx.apply(this,arguments)}(t,e);return Km(t.appConfig,n)}catch(n){throw iV(n)&&409===n.customData.serverCode?yield Lx(t.appConfig):yield Km(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),jx.apply(this,arguments)}function Vfe(t){return $x.apply(this,arguments)}function $x(){return $x=v(function*(t){let e=yield hV(t.appConfig);for(;1===e.registrationStatus;)yield cV(100),e=yield hV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield zx(t);return r||n}return e}),$x.apply(this,arguments)}function hV(t){return rp(t,e=>{if(!e)throw xo.create("installation-not-found");return pV(e)})}function pV(t){return function Lfe(t){return 1===t.registrationStatus&&t.registrationTime+tV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Gx(){return Gx=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Hfe(t,{fid:e}){return`${Sx(t)}/${e}/authTokens:generate`}(t,n),i=function aV(t,{refreshToken:e}){const n=oV(t);return n.append("Authorization",function Ife(t){return`${rV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:nV,appId:t.appId}})},c=yield Mx(()=>fetch(r,a));if(c.ok)return sV(yield c.json());throw yield Dx("Generate Auth Token",c)}),Gx.apply(this,arguments)}function qx(t){return Wx.apply(this,arguments)}function Wx(){return Wx=v(function*(t,e=!1){let n;const r=yield rp(t.appConfig,s=>{if(!mV(s))throw xo.create("not-registered");const o=s.authToken;if(!e&&function jfe(t){return 2===t.requestStatus&&!function $fe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vfe}(t)}(o))return s;if(1===o.requestStatus)return n=function zfe(t,e){return Kx.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw xo.create("app-offline");const a=function Gfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ufe(t,e){return Yx.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Wx.apply(this,arguments)}function Kx(){return Kx=v(function*(t,e){let n=yield gV(t.appConfig);for(;1===n.authToken.requestStatus;)yield cV(100),n=yield gV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?qx(t,e):r}),Kx.apply(this,arguments)}function gV(t){return rp(t,e=>{if(!mV(e))throw xo.create("not-registered");return function qfe(t){return 1===t.requestStatus&&t.requestTime+tV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Yx(){return Yx=v(function*(t,e){try{const n=yield function Bfe(t,e){return Gx.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Km(t.appConfig,r),n}catch(n){if(!iV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Km(t.appConfig,r)}else yield Lx(t.appConfig);throw n}}),Yx.apply(this,arguments)}function mV(t){return void 0!==t&&2===t.registrationStatus}function Qx(){return Qx=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield zx(e);return r?r.catch(console.error):qx(e).catch(console.error),n.fid}),Qx.apply(this,arguments)}function Xx(){return Xx=v(function*(t,e=!1){const n=t;return yield function Yfe(t){return Jx.apply(this,arguments)}(n),(yield qx(n,e)).token}),Xx.apply(this,arguments)}function Jx(){return Jx=v(function*(t){const{registrationPromise:e}=yield zx(t);e&&(yield e)}),Jx.apply(this,arguments)}function tI(t){return xo.create("missing-app-config-values",{valueName:t})}const _V="installations",ehe=t=>{const e=t.getProvider("app").getImmediate(),n=function Jfe(t){if(!t||!t.options)throw tI("App Configuration");if(!t.name)throw tI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Es(e,"heartbeat"),_delete:()=>Promise.resolve()}},the=t=>{const n=Es(t.getProvider("app").getImmediate(),_V).getImmediate();return{getId:()=>function Wfe(t){return Qx.apply(this,arguments)}(n),getToken:i=>function Kfe(t){return Xx.apply(this,arguments)}(n,i)}};(function nhe(){Mi(new hi(_V,ehe,"PUBLIC")),Mi(new hi("installations-internal",the,"PRIVATE"))})(),un(eV,Tx),un(eV,Tx,"esm2017");const Ym="analytics",rhe="firebase_id",ihe="origin",she=6e4,ohe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nI="https://www.googletagmanager.com/gtag/js",$n=new Df("@firebase/analytics"),Lr=new Uo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function che(t){if(!t.startsWith(nI)){const e=Lr.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function vV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rI(){return rI=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield vV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){$n.error(a)}t("config",i,s)}),rI.apply(this,arguments)}function iI(){return iI=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield vV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){$n.error(s)}}),iI.apply(this,arguments)}const _he=30,yV=new class yhe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ehe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function sI(){return sI=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ehe(r)},s=ohe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Lr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),sI.apply(this,arguments)}function oI(){return oI=v(function*(t,e=yV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Lr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Lr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new whe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:she),EV({appId:r,apiKey:i,measurementId:s},o,a,e)}),oI.apply(this,arguments)}function EV(t,e,n){return aI.apply(this,arguments)}function aI(){return aI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yV){var s;const{appId:o,measurementId:a}=t;try{yield function Ihe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Che(t){return sI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function bhe(t){if(!(t instanceof Ki&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?$4(n,i.intervalMillis,_he):$4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),$n.debug(`Calling attemptFetch again in ${u} millis`),EV(t,d,r,i)}}),aI.apply(this,arguments)}class whe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cI,gI;function lI(){return lI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),lI.apply(this,arguments)}function dI(){return dI=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),dI.apply(this,arguments)}function mI(){return mI=v(function*(){if(!bf())return $n.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield z4()}catch(t){return $n.warn(Lr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),mI.apply(this,arguments)}function _I(){return _I=v(function*(t,e,n,r,i,s,o){var a;const c=function xhe(t){return oI.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>$n.error(h)),e.push(c);const l=function Phe(){return mI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function mhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(nI)&&n.src.includes(t))return n;return null})(s)||function uhe(t,e){const n=function lhe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:che}),r=document.createElement("script"),i=`${nI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),gI&&(i("consent","default",gI),function CV(t){gI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[ihe]="firebase",f.update=!0,null!=d&&(f[rhe]=d),i("config",u.measurementId,f),cI&&(i("set",cI),function xV(t){cI=t}(void 0)),u.measurementId}),_I.apply(this,arguments)}class Nhe{constructor(e){this.app=e}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},IV=[];const bV={};let AV,Ns,Qm="dataLayer",vI=!1;function Fhe(t,e,n){!function Ohe(){const t=[];if(H4()&&t.push("This is a browser extension environment."),SM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Lr.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}();const r=t.options.appId;if(!r)throw Lr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Lr.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[r])throw Lr.create("already-exists",{id:r});if(!vI){!function dhe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Qm);const{wrappedGtag:s,gtagCore:o}=function ghe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function phe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function hhe(t,e,n,r,i){return iI.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function fhe(t,e,n,r,i,s){return rI.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){$n.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ks,IV,bV,Qm,"gtag");Ns=s,AV=o,vI=!0}return ks[r]=function khe(t,e,n,r,i,s,o){return _I.apply(this,arguments)}(t,IV,bV,e,AV,Qm,n),new Nhe(t)}function Vhe(t=Bl()){const e=Es(t=ln(t),Ym);return e.isInitialized()?e.getImmediate():function Lhe(t,e={}){const n=Es(t,Ym);if(n.isInitialized()){const i=n.getImmediate();if(wf(e,n.getOptions()))return i;throw Lr.create("already-initialized")}return n.initialize({options:e})}(t)}function Bhe(){return yI.apply(this,arguments)}function yI(){return(yI=v(function*(){if(H4()||!SM()||!bf())return!1;try{return yield z4()}catch{return!1}})).apply(this,arguments)}function Hhe(t,e,n){t=ln(t),function She(t,e,n,r){return dI.apply(this,arguments)}(Ns,ks[t.app.options.appId],e,n).catch(r=>$n.error(r))}function TV(t,e,n,r){t=ln(t),function Ahe(t,e,n,r,i){return lI.apply(this,arguments)}(Ns,ks[t.app.options.appId],e,n,r).catch(i=>$n.error(i))}const SV="@firebase/analytics";!function zhe(){Mi(new hi(Ym,(e,{options:n})=>Fhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Mi(new hi("analytics-internal",function t(e){try{const n=e.getProvider(Ym).getImmediate();return{logEvent:(r,i,s)=>TV(n,r,i,s)}}catch(n){throw Lr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),un(SV,"0.10.0"),un(SV,"0.10.0","esm2017")}();const ip=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:jhe}=Array,{getPrototypeOf:$he,prototype:Ghe,keys:qhe}=Object;function RV(t){if(1===t.length){const e=t[0];if(jhe(e))return{args:e,keys:null};if(function Whe(t){return t&&"object"==typeof t&&$he(t)===Ghe}(e)){const n=qhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Khe}=Array;function MV(t){return Je(e=>function Yhe(t,e){return Khe(e)?t(...e):t(e)}(t,e))}function PV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kV(...t){const e=md(t),n=Mw(t),{args:r,keys:i}=RV(t);if(0===r.length)return Wn([],e);const s=new he(function Qhe(t,e,n=ye){return r=>{NV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)NV(e,()=>{const l=Wn(t[c],e);let u=!1;l.subscribe(it(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>PV(i,o):ye));return n?s.pipe(MV(n)):s}function NV(t,e,n){t?js(n,t,e):e()}function OV(t){return new he(e=>{lr(t()).subscribe(e)})}function sp(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function CI(){return Be((t,e)=>{let n=null;t._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class FV extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return CI()(this)}}function zu(t){return t<=0?()=>is:Be((e,n)=>{let r=0;e.subscribe(it(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xm(t){return Be((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function VV(t=Xhe){return Be((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Xhe(){return new ip}function wc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ps((i,s)=>t(i,s,r)):ye,zu(1),n?Xm(e):VV(()=>new ip))}function op(t,e){return R(e)?qn(t,e,1):qn(t,1)}function Ac(t){return Be((e,n)=>{let s,r=null,i=!1;r=e.subscribe(it(n,void 0,void 0,o=>{s=lr(t(o,Ac(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xI(t){return t<=0?()=>is:Be((e,n)=>{let r=[];e.subscribe(it(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ap(t){return Be((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const et="primary",cp=Symbol("RouteTitle");class rpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Uu(t){return new rpe(t)}function ipe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Os(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!LV(t[i],e[i]))return!1;return!0}function LV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function BV(t){return t.length>0?t[t.length-1]:null}function pa(t){return function Uhe(t){return!!t&&(t instanceof he||R(t.lift)&&R(t.subscribe))}(t)?t:nf(t)?Wn(Promise.resolve(t)):He(t)}const ope={exact:function UV(t,e,n){if(!Tc(t.segments,e.segments)||!Jm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UV(t.children[r],e.children[r],n))return!1;return!0},subset:jV},HV={exact:function ape(t,e){return Os(t,e)},subset:function cpe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LV(t[n],e[n]))},ignored:()=>!0};function zV(t,e,n){return ope[n.paths](t.root,e.root,n.matrixParams)&&HV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jV(t,e,n){return $V(t,e,e.segments,n)}function $V(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Tc(i,n)||e.hasChildren()||!Jm(i,n,r))}if(t.segments.length===n.length){if(!Tc(t.segments,n)||!Jm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!jV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Tc(t.segments,i)&&Jm(t.segments,i,r)&&t.children[et])&&$V(t.children[et],e,s,r)}}function Jm(t,e,n){return e.every((r,i)=>HV[n](t[i].parameters,r.parameters))}class ju{constructor(e=new Dt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return dpe.serialize(this)}}class Dt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zm(this)}}class lp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return WV(this)}}function Tc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let up=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new II},providedIn:"root"}),e})();class II{parse(e){const n=new xpe(e);return new ju(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${dp(e.root,!0)}`,r=function ppe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${e2(n)}=${e2(i)}`).join("&"):`${e2(n)}=${e2(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function fpe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const dpe=new II;function Zm(t){return t.segments.map(e=>WV(e)).join("/")}function dp(t,e){if(!t.hasChildren())return Zm(t);if(e){const n=t.children[et]?dp(t.children[et],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==et&&r.push(`${i}:${dp(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function upe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===et&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==et&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===et?[dp(t.children[et],!1)]:[`${i}:${dp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[et]?`${Zm(t)}/${n[0]}`:`${Zm(t)}/(${n.join("//")})`}}function GV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function e2(t){return GV(t).replace(/%3B/gi,";")}function bI(t){return GV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function t2(t){return decodeURIComponent(t)}function qV(t){return t2(t.replace(/\+/g,"%20"))}function WV(t){return`${bI(t.path)}${function hpe(t){return Object.keys(t).map(e=>`;${bI(e)}=${bI(t[e])}`).join("")}(t.parameters)}`}const gpe=/^[^\/()?;#]+/;function wI(t){const e=t.match(gpe);return e?e[0]:""}const mpe=/^[^\/()?;=#]+/,vpe=/^[^=?&#]+/,Epe=/^[^&#]+/;class xpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[et]=new Dt(e,n)),r}parseSegment(){const e=wI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new lp(t2(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function _pe(t){const e=t.match(mpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=wI(this.remaining);i&&(r=i,this.capture(r))}e[t2(n)]=t2(r)}parseQueryParam(e){const n=function ype(t){const e=t.match(vpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Cpe(t){const e=t.match(Epe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=qV(n),s=qV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=et);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[et]:new Dt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function KV(t){return t.segments.length>0?new Dt([],{[et]:t}):t}function YV(t){const e={};for(const r of Object.keys(t.children)){const s=YV(t.children[r]);if(r===et&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ipe(t){if(1===t.numberOfChildren&&t.children[et]){const e=t.children[et];return new Dt(t.segments.concat(e.segments),e.children)}return t}(new Dt(t.segments,e))}function Sc(t){return t instanceof ju}function QV(t){let e;const i=KV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new Dt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function XV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return AI(i,i,i,n,r);const s=function wpe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ZV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new ZV(n,e,r)}(e);if(s.toRoot())return AI(i,i,new Dt([],{}),n,r);const o=function Ape(t,e,n){if(t.isAbsolute)return new r2(e,!0,0);if(!n)return new r2(e,!1,NaN);if(null===n.parent)return new r2(n,!0,0);const r=n2(t.commands[0])?0:1;return function Tpe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new r2(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?hp(o.segmentGroup,o.index,s.commands):eL(o.segmentGroup,o.index,s.commands);return AI(i,o.segmentGroup,a,n,r)}function n2(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fp(t){return"object"==typeof t&&null!=t&&t.outlets}function AI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:JV(t,e,n);const a=KV(YV(o));return new ju(a,s,i)}function JV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:JV(s,e,n)}),new Dt(t.segments,r)}class ZV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&n2(r[0]))throw new re(4003,!1);const i=r.find(fp);if(i&&i!==BV(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r2{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function eL(t,e,n){if(t||(t=new Dt([],{})),0===t.segments.length&&t.hasChildren())return hp(t,e,n);const r=function Dpe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(fp(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!nL(c,l,o))return s;r+=2}else{if(!nL(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Dt(t.segments.slice(0,r.pathIndex),{});return s.children[et]=new Dt(t.segments.slice(r.pathIndex),t.children),hp(s,0,i)}return r.match&&0===i.length?new Dt(t.segments,{}):r.match&&!t.hasChildren()?TI(t,e,n):r.match?hp(t,0,i):TI(t,e,n)}function hp(t,e,n){if(0===n.length)return new Dt(t.segments,{});{const r=function Spe(t){return fp(t[0])?t[0].outlets:{[et]:t}}(n),i={};if(Object.keys(r).some(s=>s!==et)&&t.children[et]&&1===t.numberOfChildren&&0===t.children[et].segments.length){const s=hp(t.children[et],e,n);return new Dt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=eL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Dt(t.segments,i)}}function TI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(fp(s)){const c=Rpe(s.outlets);return new Dt(r,c)}if(0===i&&n2(n[0])){r.push(new lp(t.segments[e].path,tL(n[0]))),i++;continue}const o=fp(s)?s.outlets[et]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&n2(a)?(r.push(new lp(o,tL(a))),i+=2):(r.push(new lp(o,{})),i++)}return new Dt(r,{})}function Rpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=TI(new Dt([],{}),0,r))}),e}function tL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nL(t,e,n){return t==n.path&&Os(e,n.parameters)}const pp="imperative";class Fs{constructor(e,n){this.id=e,this.url=n}}class SI extends Fs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $u extends Fs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gp extends Fs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mp extends Fs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class s2 extends Fs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rL extends Fs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mpe extends Fs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ppe extends Fs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kpe extends Fs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Npe extends Fs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ope{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DI{}class RI{constructor(e){this.url=e}}class Hpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _p,this.attachRef=null}}let _p=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Hpe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class sL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=MI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=MI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=PI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PI(e,this._root).map(n=>n.value)}}function MI(t,e){if(t===e.value)return e;for(const n of e.children){const r=MI(t,n);if(r)return r}return null}function PI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=PI(t,n);if(r.length)return r.unshift(e),r}return[]}class Io{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Gu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oL extends sL{constructor(e,n){super(e),this.snapshot=n,kI(this,e)}toString(){return this.snapshot.toString()}}function aL(t,e){const n=function zpe(t,e){const o=new o2([],{},{},"",{},et,e,null,{});return new lL("",new Io(o,[]))}(0,e),r=new Ci([new lp("",{})]),i=new Ci({}),s=new Ci({}),o=new Ci({}),a=new Ci(""),c=new qu(r,i,o,a,s,et,e,n.root);return c.snapshot=n.root,new oL(new Io(c,[]),n)}class qu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Je(l=>l[cp]))??He(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(e=>Uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(e=>Uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Upe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class o2{get title(){return this.data?.[cp]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lL extends sL{constructor(e,n){super(n),this.url=e,kI(this,n)}toString(){return uL(this._root)}}function kI(t,e){e.value._routerState=t,e.children.forEach(n=>kI(t,n))}function uL(t){const e=t.children.length>0?` { ${t.children.map(uL).join(", ")} } `:"";return`${t.value}${e}`}function NI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Os(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Os(e.params,n.params)||t.paramsSubject.next(n.params),function spe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Os(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Os(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function OI(t,e){const n=Os(t.params,e.params)&&function lpe(t,e){return Tc(t,e)&&t.every((n,r)=>Os(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||OI(t.parent,e.parent))}let dL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=W(_p),this.location=W($i),this.changeDetector=W(vs),this.environmentInjector=W(Ti),this.inputBinder=W(a2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new jpe(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ir]}),e})();class jpe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qu?this.route:e===_p?this.childContexts:this.parent.get(e,n)}}const a2=new Ce("");function vp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Gpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vp(t,r,i);return vp(t,r)})}(t,e,n);return new Io(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vp(t,a)),o}}const r=function qpe(t){return new qu(new Ci(t.url),new Ci(t.params),new Ci(t.queryParams),new Ci(t.fragment),new Ci(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>vp(t,s));return new Io(r,i)}}const FI="ngNavigationCancelingError";function hL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function pL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[FI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function gL(t){return t&&t[FI]}let VI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["ng-component"]],standalone:!0,features:[n7],decls:1,vars:0,template:function(r,i){1&r&&Le(0,"router-outlet")},dependencies:[dL],encapsulation:2}),e})();function LI(t){const e=t.children&&t.children.map(LI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==et&&(n.component=VI),n}function Zi(t){return t.outlet||et}function yp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class e0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),NI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Gu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Gu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new iL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Lpe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(NI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=yp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class mL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class c2{constructor(e,n){this.component=e,this.route=n}}function t0e(t,e,n){const r=t._root;return Ep(r,e?e._root:null,n,[r.value])}function Wu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Fj(t){return null!==h0(t)}(t)?e.get(t):t:r}function Ep(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Gu(e);return t.children.forEach(o=>{(function r0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function i0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tc(t.url,e.url)||!Os(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!OI(t,e)||!Os(t.queryParams,e.queryParams);default:return!OI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ep(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new c2(a.outlet.component,o))}else o&&Cp(e,a,i),i.canActivateChecks.push(new mL(r)),Ep(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Cp(a,n.getContext(o),i)),i}function Cp(t,e,n){const r=Gu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Cp(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new c2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function xp(t){return"function"==typeof t}function _L(t){return t instanceof ip||"EmptyError"===t?.name}const l2=Symbol("INITIAL_VALUE");function Ku(){return xi(t=>kV(t.map(e=>e.pipe(zu(1),KF(l2)))).pipe(Je(e=>{for(const n of e)if(!0!==n){if(n===l2)return l2;if(!1===n||n instanceof ju)return n}return!0}),Ps(e=>e!==l2),zu(1)))}function vL(t){return function ce(...t){return Fe(t)}(er(e=>{if(Sc(e))throw hL(0,e)}),Je(e=>!0===e))}class u2{constructor(e){this.segmentGroup=e||null}}class yL{constructor(e){this.urlTree=e}}function Yu(t){return sp(new u2(t))}function EL(t){return sp(new yL(t))}class b0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return He(r);if(i.numberOfChildren>1||!i.children[et])return sp(new re(4e3,!1));i=i.children[et]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ju(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Dt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const BI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w0e(t,e,n,r,i){const s=HI(t,e,n);return s.matched?(r=function Kpe(t,e){return t.providers&&!t._injector&&(t._injector=t7(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function C0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?He(i.map(o=>{const a=Wu(o,t);return pa(function u0e(t){return t&&xp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ku(),vL()):He(!0)}(r,e,n).pipe(Je(o=>!0===o?s:{...BI}))):He(s)}function HI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...BI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ipe)(n,t,e);if(!i)return{...BI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function CL(t,e,n,r){return n.length>0&&function S0e(t,e,n){return n.some(r=>d2(t,e,r)&&Zi(r)!==et)}(t,n,r)?{segmentGroup:new Dt(e,T0e(r,new Dt(n,t.children))),slicedSegments:[]}:0===n.length&&function D0e(t,e,n){return n.some(r=>d2(t,e,r))}(t,n,r)?{segmentGroup:new Dt(t.segments,A0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Dt(t.segments,t.children),slicedSegments:n}}function A0e(t,e,n,r,i){const s={};for(const o of r)if(d2(t,n,o)&&!i[Zi(o)]){const a=new Dt([],{});s[Zi(o)]=a}return{...i,...s}}function T0e(t,e){const n={};n[et]=e;for(const r of t)if(""===r.path&&Zi(r)!==et){const i=new Dt([],{});n[Zi(r)]=i}return n}function d2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class k0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new b0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=CL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,et).pipe(Ac(n=>{if(n instanceof yL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof u2?this.noMatchError(n):n}),Je(n=>{const r=new o2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),i=new Io(r,n),s=new lL("",i),o=function bpe(t,e,n=null,r=null){return XV(QV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,et).pipe(Ac(r=>{throw r instanceof u2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=cL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Wn(i).pipe(op(s=>{const o=r.children[s],a=function Jpe(t,e){const n=t.filter(r=>Zi(r)===e);return n.push(...t.filter(r=>Zi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Zhe(t,e){return Be(function Jhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(it(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Xm(null),function epe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ps((i,s)=>t(i,s,r)):ye,xI(1),n?Xm(e):VV(()=>new ip))}(),qn(s=>{if(null===s)return Yu(r);const o=xL(s);return function N0e(t){t.sort((e,n)=>e.value.outlet===et?-1:n.value.outlet===et?1:e.value.outlet.localeCompare(n.value.outlet))}(o),He(o)}))}processSegment(e,n,r,i,s,o){return Wn(n).pipe(op(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ac(c=>{if(c instanceof u2)return He(null);throw c}))),wc(a=>!!a),Ac(a=>{if(_L(a))return function M0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?He([]):Yu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function R0e(t,e,n,r){return!!(Zi(t)===r||r!==et&&d2(e,n,t))&&("**"===t.path||HI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Yu(i):Yu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(qn(o=>{const a=new Dt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=HI(n,i,s);if(!a)return Yu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?EL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(qn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?BV(i).parameters:{};a=He({snapshot:new o2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IL(r),Zi(r),r.component??r._loadedComponent??null,r,bL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=w0e(n,r,i,e).pipe(Je(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new o2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IL(r),Zi(r),r.component??r._loadedComponent??null,r,bL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(xi(c=>null===c?Yu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(xi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=CL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Je(D=>null===D?null:[new Io(d,D)]));if(0===l.length&&0===g.length)return He([new Io(d,[])]);const y=Zi(r)===s;return this.processSegment(u,l,p,g,y?et:s,!0).pipe(Je(D=>[new Io(d,D)]))}))))}getChildConfig(e,n,r){return n.children?He({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?He({routes:n._loadedRoutes,injector:n._loadedInjector}):function E0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?He(!0):He(i.map(o=>{const a=Wu(o,t);return pa(function o0e(t){return t&&xp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ku(),vL())}(e,n,r).pipe(qn(i=>i?this.configLoader.loadChildren(e,n).pipe(er(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function I0e(t){return sp(pL(!1,3))}())):He({routes:[],injector:e})}}function O0e(t){const e=t.value.routeConfig;return e&&""===e.path}function xL(t){const e=[],n=new Set;for(const r of t){if(!O0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=xL(r.children);e.push(new Io(r.value,i))}return e.filter(r=>!n.has(r))}function IL(t){return t.data||{}}function bL(t){return t.resolve||{}}function wL(t){return"string"==typeof t.title||null===t.title}function zI(t){return xi(e=>{const n=t(e);return n?Wn(n).pipe(Je(()=>e)):He(e)})}const f2=new Ce("ROUTES");let AL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(yJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return He(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=pa(r.loadComponent()).pipe(Je(TL),er(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ap(()=>{this.componentLoaders.delete(r)})),s=new FV(i,()=>new ne).pipe(CI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return He({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function U0e(t,e,n,r){return pa(t.loadChildren()).pipe(Je(TL),qn(i=>i instanceof ZD||Array.isArray(i)?He(i):Wn(e.compileModuleAsync(i))),Je(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(f2,[],{optional:!0,self:!0}).flat()),{routes:o.map(LI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(ap(()=>{this.childrenLoaders.delete(i)})),a=new FV(o,()=>new ne).pipe(CI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function TL(t){return function j0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let h2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=W(AL),this.environmentInjector=W(Ti),this.urlSerializer=W(up),this.rootContexts=W(_p),this.inputBindingEnabled=null!==W(a2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Fpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Ope(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Ci({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ps(o=>0!==o.id),Je(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),xi(o=>{this.currentTransition=o;let a=!1,c=!1;return He(o).pipe(er(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new mp(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),is}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return He(l).pipe(xi(h=>{const p=this.transitions?.getValue();return this.events.next(new SI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?is:Promise.resolve(h)}),function F0e(t,e,n,r,i,s){return qn(o=>function P0e(t,e,n,r,i,s,o="emptyOnly"){return new k0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Je(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),er(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new rL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:y,extras:D}=l,w=new SI(h,this.urlSerializer.serialize(p),g,y);this.events.next(w);const $=aL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:$,urlAfterRedirects:p,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},He(o)}{const h="";return this.events.next(new mp(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),is}}),er(l=>{const u=new Mpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Je(l=>(this.currentTransition=o={...l,guards:t0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function f0e(t,e){return qn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?He({...n,guardsResult:!0}):function h0e(t,e,n,r){return Wn(t).pipe(qn(i=>function y0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(a=>{const c=yp(e)??i,l=Wu(a,c);return pa(function l0e(t){return t&&xp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(wc())})).pipe(Ku()):He(!0)}(i.component,i.route,n,e,r)),wc(i=>!0!==i,!0))}(o,r,i,t).pipe(qn(a=>a&&function s0e(t){return"boolean"==typeof t}(a)?function p0e(t,e,n,r){return Wn(e).pipe(op(i=>Ex(function m0e(t,e){return null!==t&&e&&e(new Vpe(t)),He(!0)}(i.route.parent,r),function g0e(t,e){return null!==t&&e&&e(new Bpe(t)),He(!0)}(i.route,r),function v0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function n0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>OV(()=>He(o.guards.map(c=>{const l=yp(o.node)??n,u=Wu(c,l);return pa(function c0e(t){return t&&xp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(wc())})).pipe(Ku())));return He(s).pipe(Ku())}(t,i.path,n),function _0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return He(!0);const i=r.map(s=>OV(()=>{const o=yp(e)??n,a=Wu(s,o);return pa(function a0e(t){return t&&xp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(wc())}));return He(i).pipe(Ku())}(t,i.route,n))),wc(i=>!0!==i,!0))}(r,s,t,e):He(a)),Je(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),er(l=>{if(o.guardsResult=l.guardsResult,Sc(l.guardsResult))throw hL(0,l.guardsResult);const u=new Ppe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ps(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),zI(l=>{if(l.guards.canActivateChecks.length)return He(l).pipe(er(u=>{const d=new kpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xi(u=>{let d=!1;return He(u).pipe(function V0e(t,e){return qn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return He(n);let s=0;return Wn(i).pipe(op(o=>function L0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!wL(i)&&(s[cp]=i.title),function B0e(t,e,n,r){const i=function H0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return He({});const s={};return Wn(i).pipe(qn(o=>function z0e(t,e,n,r){const i=yp(e)??r,s=Wu(t,i);return pa(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(wc(),er(a=>{s[o]=a}))),xI(1),function tpe(t){return Je(()=>t)}(s),Ac(o=>_L(o)?is:sp(o)))}(s,t,e,r).pipe(Je(o=>(t._resolvedData=o,t.data=cL(t,n).resolve,i&&wL(i)&&(t.data[cp]=i.title),null)))}(o.route,r,t,e)),er(()=>s++),xI(1),qn(o=>s===i.length?He(n):is))})}(r.paramsInheritanceStrategy,this.environmentInjector),er({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),er(u=>{const d=new Npe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),zI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(er(h=>{d.component=h}),Je(()=>{})));for(const h of d.children)f.push(...u(h));return f};return kV(u(l.targetSnapshot.root)).pipe(Xm(),zu(1))}),zI(()=>this.afterPreactivation()),Je(l=>{const u=function $pe(t,e,n){const r=vp(t,e._root,n?n._root:void 0);return new oL(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),er(()=>{this.events.next(new DI)}),((t,e,n,r)=>Je(i=>(new e0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),zu(1),er({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $u(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function npe(t){return Be((e,n)=>{lr(t).subscribe(it(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(er(l=>{throw l}))),ap(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ac(l=>{if(c=!0,gL(l))this.events.next(new gp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Wpe(t){return gL(t)&&Sc(t.url)}(l)?this.events.next(new RI(l.url)):o.resolve(!1);else{this.events.next(new s2(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return is}))}))}cancelNavigationTransition(r,i,s){const o=new gp(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function SL(t){return t!==pp}let DL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===et);return i}getResolvedTitleForRoute(r){return r.data[cp]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W($0e)},providedIn:"root"}),e})(),$0e=(()=>{var t;class e extends DL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(k4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),G0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(W0e)},providedIn:"root"}),e})();class q0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let W0e=(()=>{var t;class e extends q0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Jn(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const UI=new Ce("",{providedIn:"root",factory:()=>({})});let K0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(Y0e)},providedIn:"root"}),e})(),Y0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Ip=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ip||{});function Q0e(t){throw t}function X0e(t,e,n){return e.parse("/")}const J0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=W(K7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=W(UI,{optional:!0})||{},this.pendingTasks=W(Dg),this.errorHandler=this.options.errorHandler||Q0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||X0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=W(K0e),this.routeReuseStrategy=W(G0e),this.titleStrategy=W(DL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=W(f2,{optional:!0})?.flat()??[],this.navigationTransitions=W(h2),this.urlSerializer=W(up),this.location=W(a4),this.componentInputBindingEnabled=!!W(a2,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=W(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ju,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(ML(i)&&this._events.next(i));if(i instanceof SI)SL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof mp)this.rawUrlTree=s.rawUrl;else if(i instanceof rL){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof DI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof gp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof RI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SL(s.source)};this.scheduleNavigation(o,pp,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof s2&&this.restoreHistory(s,!0),i instanceof $u&&(this.navigated=!0),ML(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pp,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(LI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=QV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return XV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Sc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,pp,null,i)}navigate(r,i={skipLocationChange:!1}){return function ege(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...J0e}:!1===i?{...Z0e}:i,Sc(r))return zV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return zV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function RL(t,e){t.events.pipe(Ps(n=>n instanceof $u||n instanceof gp||n instanceof s2||n instanceof mp),Je(n=>n instanceof $u||n instanceof mp?Ip.COMPLETE:n instanceof gp&&(0===n.code||1===n.code)?Ip.REDIRECTING:Ip.FAILED),Ps(n=>n!==Ip.REDIRECTING),zu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ML(t){return!(t instanceof DI||t instanceof RI)}class Qu{constructor(e){return e}}const LL="analytics",qI="__angularfire_symbol__analyticsIsSupportedValue",BL="__angularfire_symbol__analyticsIsSupported";globalThis[BL]||=Bhe().then(t=>globalThis[qI]=t).catch(()=>globalThis[qI]=!1);const p2={async:()=>globalThis[BL],sync:()=>{const t=globalThis[qI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},HL=p2.async,lge=In(Vhe,!0),bp=In(TV,!0),uge=In(Hhe,!0);let zL=(()=>{var t;class e{constructor(r,i,s){let o;Ct(this,"initialized",void 0),Ct(this,"disposables",[]),un("angularfire",$o.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),HL().then(()=>{const a=s.get(Qu);a?this.disposables=[o9(r).subscribe(c=>{uge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(qf),Re(mt),Re(Mn))}),Ct(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const UL="firebase_screen_id",WI="outlet",wp="screen_class",jL="screen_name";let xge=Math.floor(Math.random()*(2**32-1))-2**31;const KI={},Ige=t=>{const e=[t[wp],t[WI]].join("#");if(KI.hasOwnProperty(e))return KI[e];{const n=xge++;return KI[e]=n,n}},bge=(t,e,n)=>t.events.pipe(Ps(i=>i instanceof iL)).pipe(xi(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return He(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[jL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[WI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===VI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return He({...u,[wp]:d});if(d){const f=n.resolveComponentFactory(d);return He({...u,[wp]:f.selector})}return He(null)}),Ps(i=>!!i),Je(i=>({firebase_screen_class:i[wp],[UL]:Ige(i),...i})),function rfe(t,e,n,r){return Be((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new tt(s,p=>{try{const g=t(p);let y=a.get(g);if(!y){a.set(g,y=r?r():new ne);const D=function h(p,g){const y=new he(D=>{u++;const w=g.subscribe(D);return()=>{w.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return y.key=p,y}(g,y);if(s.next(D),n){const w=it(y,()=>{y.complete(),w?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(lr(n(D)).subscribe(w))}}y.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[WI]),qn(i=>i.pipe(Nw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),KF(void 0),function sfe(){return Be((t,e)=>{let n,r=!1;t.subscribe(it(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Je(([s,o])=>s?{firebase_previous_class:s[wp],firebase_previous_screen:s[jL],firebase_previous_id:s[UL],...o}:o))));let wge=(()=>{var t;class e{constructor(r,i,s,o,a,c){Ct(this,"disposable",void 0),un("angularfire",$o.full,"screen-tracking"),HL().then(()=>{const l=c.get(Qu);!r||!l||o.runOutsideAngular(()=>{this.disposable=bge(r,i,s).pipe(xi(function(){var u=v(function*(d){return a&&(yield a.initialized),bp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(es,8),Re(k4,8),Re(qd),Re(mt),Re(zL,8),Re(Mn))}),Ct(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const YI=new Ce("angularfire2.analytics-instances");function Tge(t){return(e,n)=>{if(!p2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Qu(r)}}const Sge={provide:class cge{constructor(){return o1(LL)}},deps:[[new Gt,YI]]},Dge={provide:Qu,useFactory:function Age(t,e){if(!p2.sync())return null;const n=s1(LL,t,e);return n&&new Qu(n)},deps:[[new Gt,YI],Ya]};let Rge=(()=>{var t;class e{constructor(r,i){un("angularfire",$o.full,"analytics")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)(Re(wge,8),Re(zL,8))}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[Dge,Sge,{provide:W7,useValue:p2.async,multi:!0}]})),e})();function Mge(t,...e){return{ngModule:Rge,providers:[{provide:YI,useFactory:Tge(t),multi:!0,deps:[mt,Mn,Pf,kf,...e]}]}}let $L=(()=>{var t;class e{constructor(){this.localStorageService=W(Vr),this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(5e3).then(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(nt.USER);this.localStorageService.clearAll(),this.localStorageService.cache(nt.USER,s),this.localStorageService.cache(nt.JS_VERSION,i.dgtVersion),this.localStorageService.cache(nt.LOCAL_METADATA,i),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Pge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&rf("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const kge=["updateNotification"];function Nge(t,e){1&t&&Le(0,"span",25,26)}let Oge=(()=>{var t;class e{constructor(){this.dgAPI=W(Wi),this.changeDetector=W(vs),this.authService=W(Ms),this.changelogService=W($L),this.analytics=W(Qu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");bp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),bp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new he(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&ui(kge,5),2&r){let s;Qr(s=Xr())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(V(0,"div",0)(1,"ul",1)(2,"li",2),vt(3,Nge,2,0,"span",3),Ht(4,"async"),V(5,"a",4),Le(6,"img",5),V(7,"span",6),Y(8,"home"),H()()(),V(9,"li",7)(10,"a",8),Le(11,"img",9),V(12,"span",6),Y(13,"planets"),H()()(),V(14,"li",10)(15,"a",11),Le(16,"img",12),V(17,"span",6),Y(18,"radar"),H()()(),V(19,"li",13)(20,"a",14),Le(21,"img",15),V(22,"span",6),Y(23,"fleets"),H()()(),V(24,"li",16)(25,"a",17),Le(26,"img",18),V(27,"span",6),Y(28,"navigation"),H()()(),V(29,"li",19)(30,"a",20),Le(31,"img",21),V(32,"span",6),Y(33,"research"),H()()(),V(34,"li",22)(35,"a",23),Le(36,"img",24),V(37,"span",6),Y(38,"alliances"),H()()()()()),2&r&&(fe(2),Oe("tabName","home"),fe(1),Oe("ngIf",li(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),fe(6),Oe("tabName","planets"),fe(5),Oe("tabName","radar"),fe(5),Oe("tabName","fleets"),fe(5),Oe("tabName","navigation"),fe(5),Oe("tabName","research"),fe(5),Oe("tabName","alliances"))},dependencies:[ys,Pge,Ef],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const Gn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},QI=new Map,GL={activated:!1,tokenObservers:[]},Fge={initialized:!1,enabled:!1};function hn(t){return QI.get(t)||Object.assign({},GL)}function g2(){return Fge}const XI="https://content-firebaseappcheck.googleapis.com/v1",Hge="exchangeDebugToken",qL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Uge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Vl,yield function jge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Vl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const or=new Uo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function m2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function JI(t){if(!hn(t).activated)throw or.create("use-before-activation",{appName:t.name})}function ZI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=_2(n)+"d:"),r&&(o+=_2(r)+"h:"),o+=_2(i)+"m:"+_2(s)+"s",o}function _2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function v2(t,e){return eb.apply(this,arguments)}function eb(){return eb=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw or.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw or.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw or.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),eb.apply(this,arguments)}function WL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${XI}/projects/${n}/apps/${r}:${Hge}?key=${i}`,body:{debug_token:e}}}const Wge="firebase-app-check-database",Kge=1,Ap="firebase-app-check-store",KL="debug-token";let y2=null;function YL(){return y2||(y2=new Promise((t,e)=>{try{const n=indexedDB.open(Wge,Kge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(or.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ap,{keyPath:"compositeKey"})}}catch(n){e(or.create("storage-open",{originalErrorMessage:n?.message}))}}),y2)}function QL(t,e){return tb.apply(this,arguments)}function tb(){return tb=v(function*(t,e){const r=(yield YL()).transaction(Ap,"readwrite"),s=r.objectStore(Ap).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(or.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),tb.apply(this,arguments)}function XL(t){return nb.apply(this,arguments)}function nb(){return nb=v(function*(t){const n=(yield YL()).transaction(Ap,"readonly"),i=n.objectStore(Ap).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(or.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),nb.apply(this,arguments)}function JL(t){return`${t.options.appId}-${t.name}`}const Tp=new Df("@firebase/app-check");function rb(){return rb=v(function*(t){if(bf()){let e;try{e=yield function Yge(t){return XL(JL(t))}(t)}catch(n){Tp.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),rb.apply(this,arguments)}function ib(t,e){return bf()?function Qge(t,e){return QL(JL(t),e)}(t,e).catch(n=>{Tp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function sb(){return sb=v(function*(){let t;try{t=yield function Jge(){return XL(KL)}()}catch{}if(t)return t;{const e=gne();return function Xge(t){return QL(KL,t)}(e).catch(n=>Tp.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),sb.apply(this,arguments)}function ob(){return g2().enabled}function ab(){return cb.apply(this,arguments)}function cb(){return cb=v(function*(){const t=g2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cb.apply(this,arguments)}const n1e={error:"UNKNOWN_ERROR"};function r1e(t){return B4.encodeString(JSON.stringify(t),!1)}function E2(t){return lb.apply(this,arguments)}function lb(){return lb=v(function*(t,e=!1){const n=t.app;JI(n);const r=hn(n);let s,i=r.token;if(i&&!Xu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Xu(c)?i=c:yield ib(n,void 0))}if(!e&&i&&Xu(i))return{token:i.token};let a,o=!1;if(ob()){r.exchangeTokenPromise||(r.exchangeTokenPromise=v2(WL(n,yield ab()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield ib(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield hn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Tp.warn(c.message):Tp.error(c),s=c}return i?s?a=Xu(i)?{token:i.token,internalError:s}:nB(s):(a={token:i.token},r.token=i,yield ib(n,i)):a=nB(s),o&&tB(n,a),a}),lb.apply(this,arguments)}function ub(){return ub=v(function*(t){const e=t.app;JI(e);const{provider:n}=hn(e);if(ob()){const r=yield ab(),{token:i}=yield v2(WL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),ub.apply(this,arguments)}function db(t,e,n,r){const{app:i}=t,s=hn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Xu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),eB(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>eB(t))}function fb(t,e){const n=hn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eB(t){const{app:e}=t,n=hn(e);let r=n.tokenRefresher;r||(r=function i1e(t){const{app:e}=t;return new Uge(v(function*(){let r;if(r=hn(e).token?yield E2(t,!0):yield E2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=hn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},qL.RETRIAL_MIN_WAIT,qL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tB(t,e){const n=hn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Xu(t){return t.expireTimeMillis-Date.now()>0}function nB(t){return{token:r1e(n1e),error:t}}class s1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=hn(this.app);for(const n of e)fb(this.app,n.next);return Promise.resolve()}}function f1e(t,e){const n=new Vl;hn(t).reCAPTCHAState={initialized:n};const i=function rB(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=m2(!1);return s?C2(t,e,s,i,n):function g1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=m2(!1);if(!o)throw new Error("no recaptcha");C2(t,e,o,i,n)}),n.promise}function C2(t,e,n,r,i){n.ready(()=>{(function p1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{hn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{hn(t).reCAPTCHAState.succeeded=!1}}),s=hn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function hb(){return hb=v(function*(t){JI(t);const n=yield hn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=hn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),hb.apply(this,arguments)}class ts{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function cB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw or.create("throttled",{time:ZI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function iB(t){return hb.apply(this,arguments)}(e._app).catch(a=>{throw or.create("recaptcha-error")});if(null===(n=hn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw or.create("recaptcha-error");let o;try{o=yield v2(function Gge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${XI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function aB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=$4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),or.create("throttled",{time:ZI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=Es(e,"heartbeat"),f1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof ts&&this._siteKey===e._siteKey}}function _1e(t=Bl(),e){const n=Es(t=ln(t),"app-check");if(g2().initialized||function t1e(){const t=bM(),e=g2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Vl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function e1e(){return sb.apply(this,arguments)}())}(),ob()&&ab().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw or.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function v1e(t,e,n){const r=function Vge(t,e){return QI.set(t,e),QI.get(t)}(t,Object.assign({},GL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Zge(t){return rb.apply(this,arguments)}(t).then(i=>(i&&Xu(i)&&(r.token=i,tB(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),hn(t).isTokenAutoRefreshEnabled&&db(r,"INTERNAL",()=>{}),r}const lB="app-check-internal";!function E1e(){Mi(new hi("app-check",t=>function o1e(t,e){return new s1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(lB).initialize()})),Mi(new hi(lB,t=>function a1e(t){return{getToken:e=>E2(t,e),getLimitedUseToken:()=>function ZL(t){return ub.apply(this,arguments)}(t),addTokenListener:e=>db(t,"INTERNAL",e),removeTokenListener:e=>fb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),un("@firebase/app-check","0.8.0")}();class gb{constructor(e){return e}}const mb=new Ce("angularfire2.app-check-instances"),x1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function I1e(t){return(e,n,r)=>{!I4(r)&&x1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new gb(i)}}const b1e={provide:r6,deps:[[new Gt,mb]]},w1e={provide:gb,useFactory:function C1e(t,e){const n=s1(KM,t,e);return n&&new gb(n)},deps:[[new Gt,mb],Ya,fs]};let A1e=(()=>{var t;class e{constructor(){un("angularfire",$o.full,"app-check")}}return t=e,Ct(e,"\u0275fac",function(r){return new(r||t)}),Ct(e,"\u0275mod",wt({type:t})),Ct(e,"\u0275inj",It({providers:[w1e,b1e]})),e})();function wo(t,...e){return{ngModule:A1e,providers:[{provide:mb,useFactory:I1e(t),multi:!0,deps:[mt,Mn,fs,Pf,kf,...e]}]}}const Ao=In(_1e,!0);let T1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[Oge]}),t.\u0275inj=It({imports:[Nr,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Mge(()=>lge())]}),e})();class S1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class D1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class uB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class dB{constructor(){this._resources=new D1e,this._workers=new uB,this._soldiers=new uB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Tn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Tn||{});let fB=(()=>{var t;class e{constructor(){this.dgAPI=W(Wi)}extractStats(){let r=new S1e;return r.stats.set(Tn.ALL,new dB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new dB),r.stats.get(Tn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(Tn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Tn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Tn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Tn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Tn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Tn.METAL:r.stats.get(Tn.ALL).resources.metalStored+=s.stored,r.stats.get(Tn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Tn.MINERAL:r.stats.get(Tn.ALL).resources.mineralStored+=s.stored,r.stats.get(Tn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Tn.FOOD:r.stats.get(Tn.ALL).resources.foodStored+=s.stored,r.stats.get(Tn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Tn.ENERGY:r.stats.get(Tn.ALL).resources.energyStored+=s.stored,r.stats.get(Tn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),R1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Vn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),_b=(()=>{var t;class e{constructor(){this.decimalPipe=W(ro)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Vn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const M1e=function(t){return{"dgt-stats-totals-last-row":t}},Ni=function(t){return{"dgt-padding-bottom-xs":t}};function P1e(t,e){if(1&t&&(V(0,"tr",4)(1,"th",5)(2,"span",6),Y(3),Ht(4,"galaxyNameFormatter"),H(),V(5,"span",7),Y(6),H()(),V(7,"td",8)(8,"div",9),Le(9,"img",10),V(10,"span",11),Y(11),Ht(12,"number"),H()()(),V(13,"td",12)(14,"div",9)(15,"span",11),Y(16),Ht(17,"resourceProductionFormatter"),H()()(),V(18,"td",13)(19,"div",14),Le(20,"img",15),V(21,"span",11),Y(22),Ht(23,"number"),H()()(),V(24,"td",12)(25,"div",14)(26,"span",11),Y(27),Ht(28,"resourceProductionFormatter"),H()()(),V(29,"td",13)(30,"div",16),Le(31,"img",17),V(32,"span",11),Y(33),Ht(34,"number"),H()()(),V(35,"td",12)(36,"div",16)(37,"span",11),Y(38),Ht(39,"resourceProductionFormatter"),H()()(),V(40,"td",13)(41,"div",18),Le(42,"img",19),V(43,"span",11),Y(44),Ht(45,"number"),H()()(),V(46,"td",20)(47,"div",18)(48,"span",11),Y(49),Ht(50,"resourceProductionFormatter"),H()()(),V(51,"td",21)(52,"div",22),Le(53,"img",23),V(54,"span",11),Y(55),Ht(56,"number"),H()()(),V(57,"td",24)(58,"div",25),Le(59,"img",26),V(60,"span",11),Y(61),Ht(62,"number"),H()()(),V(63,"td",27)(64,"div",28),Le(65,"img",29),V(66,"span",11),Y(67),Ht(68,"number"),H()()()()),2&t){const n=e.$implicit,r=e.index,i=Nt();Oe("ngClass",Kr(64,M1e,r==i.panel.stats.size-1)),fe(1),Oe("ngClass",Kr(66,Ni,r==i.panel.stats.size-2)),fe(2),ot(li(4,26,n.key)),fe(3),Ha("[",n.value.count,"]"),fe(1),Oe("ngClass",Kr(68,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(12,28,n.value.resources.metalStored,"1.0","en-US")),fe(2),Oe("ngClass",Kr(70,Ni,r==i.panel.stats.size-2)),fe(3),ot(li(17,32,n.value.resources.metalProduction)),fe(2),Oe("ngClass",Kr(72,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(23,34,n.value.resources.mineralStored,"1.0","en-US")),fe(2),Oe("ngClass",Kr(74,Ni,r==i.panel.stats.size-2)),fe(3),ot(li(28,38,n.value.resources.mineralProduction)),fe(2),Oe("ngClass",Kr(76,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(34,40,n.value.resources.foodStored,"1.0","en-US")),fe(2),Oe("ngClass",Kr(78,Ni,r==i.panel.stats.size-2)),fe(3),ot(li(39,44,n.value.resources.foodProduction)),fe(2),Oe("ngClass",Kr(80,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(45,46,n.value.resources.energyStored,"1.0","en-US")),fe(2),Oe("ngClass",Kr(82,Ni,r==i.panel.stats.size-2)),fe(3),ot(li(50,50,n.value.resources.energyProduction)),fe(2),Oe("ngClass",Kr(84,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(56,52,n.value.resources.ground,"1.0","en-US")),fe(2),Oe("ngClass",Kr(86,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(62,56,n.value.resources.orbit,"1.0","en-US")),fe(2),Oe("ngClass",Kr(88,Ni,r==i.panel.stats.size-2)),fe(4),ot(Yr(68,60,n.value.soldiers.total,"1.0","en-US"))}}let k1e=(()=>{var t;class e{constructor(){this.statsPanelService=W(fB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(V(0,"div",0)(1,"div",1)(2,"table",2),vt(3,P1e,69,90,"tr",3),Ht(4,"keyvalue"),H()()()),2&r&&(fe(3),Oe("ngForOf",li(4,1,i.panel.stats)))},dependencies:[v4,Kg,ro,WR,R1e,_b],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(r){On(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x2(t){return(x2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vb(t,e){return function L1e(t){if(Array.isArray(t))return t}(t)||function H1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||gB(t,e)||function U1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(t){return function V1e(t){if(Array.isArray(t))return yb(t)}(t)||function B1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gB(t)||function z1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gB(t,e){if(t){if("string"==typeof t)return yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(t,e)}}function yb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mB=function(){},Eb={},_B={},vB=null,yB={mark:mB,measure:mB};try{typeof window<"u"&&(Eb=window),typeof document<"u"&&(_B=document),typeof MutationObserver<"u"&&(vB=MutationObserver),typeof performance<"u"&&(yB=performance)}catch{}var w2,A2,T2,S2,D2,EB=(Eb.navigator||{}).userAgent,CB=void 0===EB?"":EB,ga=Eb,Kt=_B,xB=vB,b2=yB,To=!!Kt.documentElement&&!!Kt.head&&"function"==typeof Kt.addEventListener&&"function"==typeof Kt.createElement,IB=~CB.indexOf("MSIE")||~CB.indexOf("Trident/"),So="___FONT_AWESOME___",bB="fa",wB="svg-inline--fa",Dc="data-fa-i2svg",xb="data-fa-pseudo-element",$1e="data-fa-pseudo-element-pending",Ib="data-prefix",bb="data-icon",AB="fontawesome-i2svg",G1e="async",q1e=["HTML","HEAD","STYLE","SCRIPT"],TB=function(){try{return!0}catch{return!1}}(),Yt="classic",pn="sharp",wb=[Yt,pn];function Rp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Yt]}})}var Mp=Rp((On(w2={},Yt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),On(w2,pn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),w2)),Pp=Rp((On(A2={},Yt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),On(A2,pn,{solid:"fass",regular:"fasr",light:"fasl"}),A2)),kp=Rp((On(T2={},Yt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),On(T2,pn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),T2)),W1e=Rp((On(S2={},Yt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),On(S2,pn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),S2)),K1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,SB="fa-layers-text",Y1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Q1e=Rp((On(D2={},Yt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),On(D2,pn,{900:"fass",400:"fasr",300:"fasl"}),D2)),DB=[1,2,3,4,5,6,7,8,9,10],X1e=DB.concat([11,12,13,14,15,16,17,18,19,20]),J1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Rc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Np=new Set;Object.keys(Pp[Yt]).map(Np.add.bind(Np)),Object.keys(Pp[pn]).map(Np.add.bind(Np));var Z1e=[].concat(wb,Dp(Np),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Rc.GROUP,Rc.SWAP_OPACITY,Rc.PRIMARY,Rc.SECONDARY]).concat(DB.map(function(t){return"".concat(t,"x")})).concat(X1e.map(function(t){return"w-".concat(t)})),Op=ga.FontAwesomeConfig||{};Kt&&"function"==typeof Kt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=vb(t,2),r=e[1],i=function tme(t){return""===t||"false"!==t&&("true"===t||t)}(function eme(t){var e=Kt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Op[r]=i)});var RB={styleDefault:"solid",familyDefault:"classic",cssPrefix:bB,replacementClass:wB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Op.familyPrefix&&(Op.cssPrefix=Op.familyPrefix);var Ju=Se(Se({},RB),Op);Ju.autoReplaceSvg||(Ju.observeMutations=!1);var Pe={};Object.keys(RB).forEach(function(t){Object.defineProperty(Pe,t,{enumerable:!0,set:function(n){Ju[t]=n,Fp.forEach(function(r){return r(Pe)})},get:function(){return Ju[t]}})}),Object.defineProperty(Pe,"familyPrefix",{enumerable:!0,set:function(e){Ju.cssPrefix=e,Fp.forEach(function(n){return n(Pe)})},get:function(){return Ju.cssPrefix}}),ga.FontAwesomeConfig=Pe;var Fp=[],Vs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},sme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Vp(){for(var t=12,e="";t-- >0;)e+=sme[62*Math.random()|0];return e}function Zu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Ab(t){return t.classList?Zu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function MB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function R2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Tb(t){return t.size!==Vs.size||t.x!==Vs.x||t.y!==Vs.y||t.rotate!==Vs.rotate||t.flipX||t.flipY}var lme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function PB(){var t=bB,e=wB,n=Pe.cssPrefix,r=Pe.replacementClass,i=lme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var kB=!1;function Sb(){Pe.autoAddCss&&!kB&&(function ime(t){if(t&&To){var e=Kt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Kt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Kt.head.insertBefore(e,r)}}(PB()),kB=!0)}var ume={mixout:function(){return{dom:{css:PB,insertCss:Sb}}},hooks:function(){return{beforeDOMElementCreation:function(){Sb()},beforeI2svg:function(){Sb()}}}},Do=ga||{};Do[So]||(Do[So]={}),Do[So].styles||(Do[So].styles={}),Do[So].hooks||(Do[So].hooks={}),Do[So].shims||(Do[So].shims=[]);var ns=Do[So],NB=[],M2=!1;function Lp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?MB(t):"<".concat(e," ").concat(function ome(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(MB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Lp).join(""),"</").concat(e,">")}function OB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}To&&((M2=(Kt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Kt.readyState))||Kt.addEventListener("DOMContentLoaded",function t(){Kt.removeEventListener("DOMContentLoaded",t),M2=1,NB.map(function(e){return e()})}));var Db=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Rb(t){var e=function pme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function FB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Mb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=FB(e);"function"!=typeof ns.hooks.addPack||i?ns.styles[t]=Se(Se({},ns.styles[t]||{}),s):ns.hooks.addPack(t,FB(e)),"fas"===t&&Mb("fa",e)}var P2,k2,N2,ed=ns.styles,mme=ns.shims,_me=(On(P2={},Yt,Object.values(kp[Yt])),On(P2,pn,Object.values(kp[pn])),P2),Pb=null,VB={},LB={},BB={},HB={},zB={},vme=(On(k2={},Yt,Object.keys(Mp[Yt])),On(k2,pn,Object.keys(Mp[pn])),k2);var UB=function(){var e=function(s){return Db(ed,function(o,a,c){return o[c]=Db(a,s,{}),o},{})};VB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),LB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),zB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in ed||Pe.autoFetchSvg,r=Db(mme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});BB=r.names,HB=r.unicodes,Pb=O2(Pe.styleDefault,{family:Pe.familyDefault})};function kb(t,e){return(VB[t]||{})[e]}function Mc(t,e){return(zB[t]||{})[e]}function jB(t){return BB[t]||{prefix:null,iconName:null}}function _a(){return Pb}(function rme(t){Fp.push(t)})(function(t){Pb=O2(t.styleDefault,{family:Pe.familyDefault})}),UB();var Nb=function(){return{prefix:null,iconName:null,rest:[]}};function O2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Yt:n;return Pp[r][t]||Pp[r][Mp[r][t]]||(t in ns.styles?t:null)||null}var $B=(On(N2={},Yt,Object.keys(kp[Yt])),On(N2,pn,Object.keys(kp[pn])),N2);function F2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(On(e={},Yt,"".concat(Pe.cssPrefix,"-").concat(Yt)),On(e,pn,"".concat(Pe.cssPrefix,"-").concat(pn)),e),o=null,a=Yt;(t.includes(s[Yt])||t.some(function(l){return $B[Yt].includes(l)}))&&(a=Yt),(t.includes(s[pn])||t.some(function(l){return $B[pn].includes(l)}))&&(a=pn);var c=t.reduce(function(l,u){var d=function Eme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function yme(t){return~Z1e.indexOf(t)}(i)?null:i}(Pe.cssPrefix,u);if(ed[u]?(u=_me[a].includes(u)?W1e[a][u]:u,o=u,l.prefix=u):vme[a].indexOf(u)>-1?(o=u,l.prefix=O2(u,{family:a})):d?l.iconName=d:u!==Pe.replacementClass&&u!==s[Yt]&&u!==s[pn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?jB(l.iconName):{},h=Mc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!ed.far&&ed.fas&&!Pe.autoFetchSvg&&(l.prefix="fas")}return l},Nb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===pn&&(ed.fass||Pe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Mc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=_a()||"fas"),c}var Ime=function(){function t(){(function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function O1e(t,e,n){e&&pB(t.prototype,e),n&&pB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Se(Se({},n.definitions[a]||{}),o[a]),Mb(a,o[a]);var c=kp[Yt][a];c&&Mb(c,o[a]),UB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),GB=[],td={},nd={},bme=Object.keys(nd);function Ob(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(td[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Pc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(td[t]||[]).forEach(function(s){s.apply(null,n)})}function Ro(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return nd[t]?nd[t].apply(null,e):void 0}function Fb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||_a();if(e)return e=Mc(n,e)||e,OB(qB.definitions,n,e)||OB(ns.styles,n,e)}var qB=new Ime,Tme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return To?(Pc("beforeI2svg",e),Ro("pseudoElements2svg",e),Ro("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Pe.autoReplaceSvg&&(Pe.autoReplaceSvg=!0),Pe.observeMutations=!0,function fme(t){To&&(M2?setTimeout(t,0):NB.push(t))}(function(){Dme({autoReplaceSvgRoot:n}),Pc("watch",e)})}},yi={noAuto:function(){Pe.autoReplaceSvg=!1,Pe.observeMutations=!1,Pc("noAuto")},config:Pe,dom:Tme,parse:{icon:function(e){if(null===e)return null;if("object"===x2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Mc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=O2(e[0]);return{prefix:r,iconName:Mc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Pe.cssPrefix,"-"))>-1||e.match(K1e))){var i=F2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||_a(),iconName:Mc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=_a();return{prefix:s,iconName:Mc(s,e)||e}}}},library:qB,findIconDefinition:Fb,toHtml:Lp},Dme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Kt:n;(Object.keys(ns.styles).length>0||Pe.autoFetchSvg)&&To&&Pe.autoReplaceSvg&&yi.dom.i2svg({node:r})};function V2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Lp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(To){var r=Kt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Vb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,y=p.height,D="fak"===i,w=[Pe.replacementClass,s?"".concat(Pe.cssPrefix,"-").concat(s):""].filter(function(Fn){return-1===d.classes.indexOf(Fn)}).filter(function(Fn){return""!==Fn||!!Fn}).concat(d.classes).join(" "),$={children:[],attributes:Se(Se({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},Q=D&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};h&&($.attributes[Dc]=""),c&&($.children.push({tag:"title",attributes:{id:$.attributes["aria-labelledby"]||"title-".concat(u||Vp())},children:[c]}),delete $.attributes.title);var pe=Se(Se({},$),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Se(Se({},Q),d.styles)}),ke=r.found&&n.found?Ro("generateAbstractMask",pe)||{children:[],attributes:{}}:Ro("generateAbstractIcon",pe)||{children:[],attributes:{}},nn=ke.attributes;return pe.children=ke.children,pe.attributes=nn,a?function Mme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Se(Se({},i),{},{id:o}),children:r}]}]}(pe):function Rme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Tb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=R2(Se(Se({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(pe)}function WB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Se(Se(Se({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Dc]="");var u=Se({},o.styles);Tb(i)&&(u.transform=function cme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&IB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=R2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Lb=ns.styles;function Bb(t){var e=t[0],n=t[1],s=vb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Rc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Rc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Rc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var kme={found:!1,width:512,height:512};function Hb(t,e){var n=e;return"fa"===e&&null!==Pe.styleDefault&&(e=_a()),new Promise(function(r,i){if(Ro("missingIconAbstract"),"fa"===n){var o=jB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Lb[e]&&Lb[e][t])return r(Bb(Lb[e][t]));(function Nme(t,e){!TB&&!Pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Se(Se({},kme),{},{icon:Pe.showMissingIcons&&t&&Ro("missingIconAbstract")||{}}))})}var KB=function(){},zb=Pe.measurePerformance&&b2&&b2.mark&&b2.measure?b2:{mark:KB,measure:KB},Bp='FA "6.4.2"',YB=function(e){zb.mark("".concat(Bp," ").concat(e," ends")),zb.measure("".concat(Bp," ").concat(e),"".concat(Bp," ").concat(e," begins"),"".concat(Bp," ").concat(e," ends"))},Ub={begin:function(e){return zb.mark("".concat(Bp," ").concat(e," begins")),function(){return YB(e)}},end:YB},L2=function(){};function QB(t){return"string"==typeof(t.getAttribute?t.getAttribute(Dc):null)}function Bme(t){return Kt.createElementNS("http://www.w3.org/2000/svg",t)}function Hme(t){return Kt.createElement(t)}function XB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Bme:Hme:n;if("string"==typeof t)return Kt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(XB(o,{ceFn:r}))}),i}var B2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(XB(i),n)}),null===n.getAttribute(Dc)&&Pe.keepOriginalSource){var r=Kt.createComment(function zme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Ab(n).indexOf(Pe.replacementClass))return B2.replace(e);var i=new RegExp("".concat(Pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Pe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Lp(a)}).join("\n");n.setAttribute(Dc,""),n.innerHTML=o}};function JB(t){t()}function ZB(t,e){var n="function"==typeof e?e:L2;if(0===t.length)n();else{var r=JB;Pe.mutateApproach===G1e&&(r=ga.requestAnimationFrame||JB),r(function(){var i=function Lme(){return!0===Pe.autoReplaceSvg?B2.replace:B2[Pe.autoReplaceSvg]||B2.replace}(),s=Ub.begin("mutate");t.map(i),s(),n()})}}var jb=!1;function eH(){jb=!0}function $b(){jb=!1}var H2=null;function tH(t){if(xB&&Pe.observeMutations){var e=t.treeCallback,n=void 0===e?L2:e,r=t.nodeCallback,i=void 0===r?L2:r,s=t.pseudoElementsCallback,o=void 0===s?L2:s,a=t.observeMutationsRoot,c=void 0===a?Kt:a;H2=new xB(function(l){if(!jb){var u=_a();Zu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!QB(d.addedNodes[0])&&(Pe.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Pe.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&QB(d.target)&&~J1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Fme(t){var e=t.getAttribute?t.getAttribute(Ib):null,n=t.getAttribute?t.getAttribute(bb):null;return e&&n}(d.target)){var f=F2(Ab(d.target)),p=f.iconName;d.target.setAttribute(Ib,f.prefix||u),p&&d.target.setAttribute(bb,p)}else(function Vme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pe.replacementClass)})(d.target)&&i(d.target)})}}),To&&H2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function nH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function $me(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=F2(Ab(t));return i.prefix||(i.prefix=_a()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Cme(t,e){return(LB[t]||{})[e]}(i.prefix,t.innerText)||kb(i.prefix,Rb(t.innerText))),!i.iconName&&Pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Gme(t){var e=Zu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pe.autoA11y&&(n?e["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(r||Vp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Ob("parseNodeAttributes",{},t),c=e.styleParser?function jme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Se({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Vs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Wme=ns.styles;function rH(t){var e="nest"===Pe.autoReplaceSvg?nH(t,{styleParser:!1}):nH(t);return~e.extra.classes.indexOf(SB)?Ro("generateLayersText",t,e):Ro("generateSvgReplacementMutation",t,e)}var va=new Set;function iH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!To)return Promise.resolve();var n=Kt.documentElement.classList,r=function(d){return n.add("".concat(AB,"-").concat(d))},i=function(d){return n.remove("".concat(AB,"-").concat(d))},s=Pe.autoFetchSvg?va:wb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Wme));s.includes("fa")||s.push("fa");var o=[".".concat(SB,":not([").concat(Dc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Dc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Zu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Ub.begin("onTree"),l=a.reduce(function(u,d){try{var f=rH(d);f&&u.push(f)}catch(h){TB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){ZB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Kme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;rH(t).then(function(n){n&&ZB([n],e)})}function Yme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Fb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Fb(i||{})),t(r,Se(Se({},n),{},{mask:i}))}}wb.map(function(t){va.add("fa-".concat(t))}),Object.keys(Mp[Yt]).map(va.add.bind(va)),Object.keys(Mp[pn]).map(va.add.bind(va)),va=Dp(va);var Qme=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Vs:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,y=void 0===g?[]:g,D=n.attributes,w=void 0===D?{}:D,$=n.styles,Q=void 0===$?{}:$;if(e){var pe=e.prefix,ke=e.iconName,Xe=e.icon;return V2(Se({type:"icon"},e),function(){return Pc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pe.autoA11y&&(f?w["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(p||Vp()):(w["aria-hidden"]="true",w.focusable="false")),Vb({icons:{main:Bb(Xe),mask:c?Bb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:ke,transform:Se(Se({},Vs),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:w,styles:Q,classes:y}})})}},Xme={mixout:function(){return{icon:Yme(Qme)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=iH,n.nodeCallback=Kme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return iH(void 0===r?Kt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Hb(i,a),u.iconName?Hb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=vb(g,2);h([n,Vb({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=R2(n.styles);return c.length>0&&(i.style=c),Tb(o)&&(l=Ro("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Jme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return V2({type:"layer"},function(){Pc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Pe.cssPrefix,"-layers")].concat(Dp(s)).join(" ")},children:o}]})}}}},Zme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return V2({type:"counter",content:n},function(){return Pc("beforeDOMElementCreation",{content:n,params:r}),function Pme(t){var e=t.content,n=t.title,r=t.extra,i=Se(Se(Se({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=R2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Pe.cssPrefix,"-layers-counter")].concat(Dp(a))}})})}}}},e2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Vs:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return V2({type:"text",content:n},function(){return Pc("beforeDOMElementCreation",{content:n,params:r}),WB({content:n,transform:Se(Se({},Vs),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Pe.cssPrefix,"-layers-text")].concat(Dp(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(IB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Pe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,WB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},t2e=new RegExp('"',"ug"),sH=[1105920,1112319];function oH(t,e){var n="".concat($1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Zu(t.children).filter(function(Xe){return Xe.getAttribute(xb)===e})[0],a=ga.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Y1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?pn:Yt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Pp[f][c[2].toLowerCase()]:Q1e[f][l],p=function n2e(t){var e=t.replace(t2e,""),n=function gme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=sH[0]&&n<=sH[1],i=2===e.length&&e[0]===e[1];return{value:Rb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,y=p.isSecondary,D=c[0].startsWith("FontAwesome"),w=kb(h,g),$=w;if(D){var Q=function xme(t){var e=HB[t],n=kb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Q.iconName&&Q.prefix&&(w=Q.iconName,h=Q.prefix)}if(!w||y||o&&o.getAttribute(Ib)===h&&o.getAttribute(bb)===$)r();else{t.setAttribute(n,$),o&&t.removeChild(o);var pe=function qme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Vs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),ke=pe.extra;ke.attributes[xb]=e,Hb(w,h).then(function(Xe){var nn=Vb(Se(Se({},pe),{},{icons:{main:Xe,mask:Nb()},prefix:h,iconName:$,extra:ke,watchable:!0})),Fn=Kt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Fn,t.firstChild):t.appendChild(Fn),Fn.outerHTML=nn.map(function(ba){return Lp(ba)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function r2e(t){return Promise.all([oH(t,"::before"),oH(t,"::after")])}function i2e(t){return!(t.parentNode===document.head||~q1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(xb)||t.parentNode&&"svg"===t.parentNode.tagName)}function aH(t){if(To)return new Promise(function(e,n){var r=Zu(t.querySelectorAll("*")).filter(i2e).map(r2e),i=Ub.begin("searchPseudoElements");eH(),Promise.all(r).then(function(){i(),$b(),e()}).catch(function(){i(),$b(),n()})})}var cH=!1,lH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Gb={x:0,y:0,width:"100%",height:"100%"};function uH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function c2e(t){return"g"===t.tag?t.children:[t]}var l2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?F2(i.split(" ").map(function(o){return o.trim()})):Nb();return s.prefix||(s.prefix=_a()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function ame(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Se(Se({},Gb),{},{fill:"white"})},g=u.children?{children:u.children.map(uH)}:{},y={tag:"g",attributes:Se({},h.inner),children:[uH(Se({tag:u.tag,attributes:Se(Se({},u.attributes),h.path)},g))]},D={tag:"g",attributes:Se({},h.outer),children:[y]},w="mask-".concat(a||Vp()),$="clip-".concat(a||Vp()),Q={tag:"mask",attributes:Se(Se({},Gb),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,D]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:c2e(f)},Q]};return r.push(pe,{tag:"rect",attributes:Se({fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(w,")")},Gb)}),{children:r,attributes:i}}}};!function wme(t,e){var n=e.mixoutsTo;GB=t,td={},Object.keys(nd).forEach(function(r){-1===bme.indexOf(r)&&delete nd[r]}),GB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===x2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){td[o]||(td[o]=[]),td[o].push(s[o])})}r.provides&&r.provides(nd)})}([ume,Xme,Jme,Zme,e2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=aH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Pe.searchPseudoElements&&aH(void 0===r?Kt:r)}}},{mixout:function(){return{dom:{unwatch:function(){eH(),cH=!0}}}},hooks:function(){return{bootstrap:function(){tH(Ob("mutationObserverCallbacks",{}))},noAuto:function(){!function Ume(){H2&&H2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;cH?$b():tH(Ob("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return lH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=lH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Se({},h.outer),children:[{tag:"g",attributes:Se({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Se(Se({},r.icon.attributes),h.path)}]}]}}}},l2e,{provides:function(e){var n=!1;ga.matchMedia&&(n=ga.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Se(Se({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Se(Se({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Se(Se({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Se(Se({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Se(Se({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Se(Se({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Se(Se({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Se(Se({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Se(Se({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:yi});var h2e=yi.parse,p2e=yi.icon;const g2e=["*"],v2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let C2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),x2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Ir]}),e})(),I2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(hs),te(Rr))},t.\u0275cmp=Dn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Ir],ngContentSelectors:g2e,decls:1,vars:0,template:function(r,i){1&r&&(function FS(t){const e=ee()[mn][ur];if(!e.projection){const r=e.projection=Od(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?pY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function VS(t,e=0,n){const r=ee(),i=ht(),s=vl(i,st+t,16,null,n||null);null===s.projection&&(s.projection=e),j_(),(!r[qs]||Yc())&&32!=(32&s.flags)&&function fq(t,e,n){B5(e[qe],0,e,n,_v(t,n,e),k5(n.parent||e[ur],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),b2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?h2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...v2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=p2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(O4),te(C2e),te(dH),te(x2e,8),te(I2e,8))},t.\u0275cmp=Dn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(wy("innerHTML",i.renderedIconHTML,J5),zi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Ir],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),qb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})(),w2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[k1e]}),t.\u0275inj=It({providers:[ro,fB],imports:[Nr,qb]}),e})(),fH=(()=>{var t;class e{constructor(){this.firestore=W(Rs),this.dgAPI=W(Wi)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(r.type!=Zn.SURFACE&&r.type!=Zn.RESOURCE)return;const i=Ji(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);let s=Zh(tp(i,_x("location","==",r.planetScan.location),qF(1))).subscribe(o=>{let a=Object.assign(new yM,o[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==Zn.RESOURCE||r.type==Zn.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==Zn.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,l)=>{c.abundance=r.planetScan.resources[l].abundance,c.name=r.planetScan.resources[l].name}):a.resources=r.planetScan.resources),r.type==Zn.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),0==o.length?Fu(vr(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):np(vr(i,a.location),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}),s.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function A2e(t,e){1&t&&(V(0,"p",3),Y(1,"Each scan will be cached and shared with your alliance members "),Le(2,"img",4),H())}let T2e=(()=>{var t;class e{constructor(){this.scanService=W(fH),this.authService=W(Ms),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(V(0,"div",0),Le(1,"span",1),H(),vt(2,A2e,3,0,"p",2)),2&r&&(fe(2),Oe("ngIf",i.active))},dependencies:[ys],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),S2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[T2e]}),t.\u0275inj=It({providers:[fH],imports:[Nr,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),hH=(()=>{var t;class e{constructor(){this.firestore=W(Rs),this.dgAPI=W(Wi),this.resourceProductionFormatterPipe=W(_b),this.decimalPipe=W(ro)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Zh(tp(Ji(this.firestore,"scans-g"+i[0].split(/\./)[0]),_x("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ut.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ut.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ut.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Ut.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ut.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ut.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ut.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ut.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ut.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ut.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ut.LEISURE_CENTRE)&&(f+=.4),d.includes(Ut.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function D2e(t,e){1&t&&(V(0,"p",3),Y(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),H())}let R2e=(()=>{var t;class e{constructor(){this.scanService=W(hH),this.authService=W(Ms),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(V(0,"div",0),Le(1,"span",1),H(),vt(2,D2e,2,0,"p",2)),2&r&&(fe(2),Oe("ngIf",i.active))},dependencies:[ys],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),M2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[R2e]}),t.\u0275inj=It({providers:[ro,_b,hH],imports:[Nr,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function P2e(t,e){if(1&t){const n=Sl();V(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Y(6,"DGT Login"),H()()(),V(7,"tr",3)(8,"td"),Le(9,"input",4,5),H(),V(11,"td"),Le(12,"input",6,7),H()(),V(14,"tr",8)(15,"td",2)(16,"button",9),kt("click",function(){br(n);const i=_y(10),s=_y(13);return wr(Nt().signInWithEmailAndPassword(i.value,s.value))}),Y(17,"Login"),H(),V(18,"button",10),kt("click",function(){return br(n),wr(Nt().signInWithGoogle())}),Le(19,"img",11),H()()()()()()}}let k2e=(()=>{var t;class e{constructor(){this.authService=W(Ms),this.auth=W(qf),this.firestore=W(Rs),this.localStorageService=W(Vr),this.changeDetection=W(vs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new he(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(nt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(vt(0,P2e,20,0,"div",0),Ht(1,"async")),2&r&&Oe("ngIf",li(1,1,i.displayLogin))},dependencies:[ys,Ef],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),N2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[k2e]}),t.\u0275inj=It({imports:[Nr,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var U2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let $ye=(()=>{var t;class e{constructor(){this.localStorageService=W(Vr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){const o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(nt.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Bz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(hs),te(Rr))},t.\u0275dir=Ve({type:t}),e})(),kc=(()=>{var t;class e extends Bz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Jn(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[At]}),e})();const Ls=new Ce("NgValueAccessor"),Wye={provide:Ls,useExisting:Ft(()=>j2),multi:!0},Yye=new Ce("CompositionEventMode");let j2=(()=>{var t;class e extends Bz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kye(){const t=Ho()?Ho().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(hs),te(Rr),te(Yye,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&kt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Jt([Wye]),At]}),e})();const yr=new Ce("NgValidators"),Ea=new Ce("NgAsyncValidators");function Qz(t){return null!=t}function Xz(t){return nf(t)?Wn(t):t}function Jz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Zz(t,e){return e.map(n=>n(t))}function eU(t){return t.map(e=>function Xye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Jb(t){return null!=t?function tU(t){if(!t)return null;const e=t.filter(Qz);return 0==e.length?null:function(n){return Jz(Zz(n,e))}}(eU(t)):null}function Zb(t){return null!=t?function nU(t){if(!t)return null;const e=t.filter(Qz);return 0==e.length?null:function(n){return function Gye(...t){const e=Mw(t),{args:n,keys:r}=RV(t),i=new he(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;lr(n[u]).subscribe(it(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?PV(r,a):a),s.complete())}))}});return e?i.pipe(MV(e)):i}(Zz(n,e).map(Xz)).pipe(Je(Jz))}}(eU(t)):null}function rU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ew(t){return t?Array.isArray(t)?t:[t]:[]}function G2(t,e){return Array.isArray(t)?t.includes(e):t===e}function oU(t,e){const n=ew(e);return ew(t).forEach(i=>{G2(n,i)||n.push(i)}),n}function aU(t,e){return ew(e).filter(n=>!G2(t,n))}class cU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Br extends cU{get formDirective(){return null}get path(){return null}}class Ca extends cU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uU=(()=>{var t;class e extends lU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ca,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[At]}),e})(),tw=(()=>{var t;class e extends lU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Br,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[At]}),e})();const Hp="VALID",W2="INVALID",rd="PENDING",zp="DISABLED";function iw(t){return(K2(t)?t.validators:t)||null}function sw(t,e){return(K2(e)?e.asyncValidators:t)||null}function K2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hp}get invalid(){return this.status===W2}get pending(){return this.status==rd}get disabled(){return this.status===zp}get enabled(){return this.status!==zp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aU(e,this._rawAsyncValidators))}hasValidator(e){return G2(this._rawValidators,e)}hasAsyncValidator(e){return G2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Hp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hp||this.status===rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zp:Hp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rd,this._hasOwnPendingAsyncValidator=!0;const n=Xz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?zp:this.errors?W2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rd)?rd:this._anyControlsHaveStatus(W2)?W2:Hp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){K2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function t4e(t){return Array.isArray(t)?Jb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function n4e(t){return Array.isArray(t)?Zb(t):t||null}(this._rawAsyncValidators)}}class ow extends pU{constructor(e,n,r){super(iw(n),sw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function hU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function fU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const id=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>Y2}),Y2="always";function Up(t,e,n=Y2){aw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function s4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gU(t,e)})}(t,e),function a4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function o4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function i4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function J2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aw(t,e){const n=function iU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(rU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function sU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(rU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();J2(e._rawValidators,i),J2(e._rawAsyncValidators,i)}function gU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const f4e={provide:Br,useExisting:Ft(()=>$p)},jp=(()=>Promise.resolve())();let $p=(()=>{var t;class e extends Br{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new ow({},Jb(r),Zb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){jp.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Up(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){jp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){jp.then(()=>{const i=this._findContainer(r.path),s=new ow({});(function mU(t,e){aw(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){jp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){jp.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function _U(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(yr,10),te(Ea,10),te(id,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&kt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([f4e]),At]}),e})();function vU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function yU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const EU=class extends pU{constructor(e=null,n,r){super(iw(n),sw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=yU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},g4e={provide:Ca,useExisting:Ft(()=>dw)},IU=(()=>Promise.resolve())();let dw=(()=>{var t;class e extends Ca{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new EU,this._registered=!1,this.name="",this.update=new Rt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function uw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===j2?n=s:function u4e(t){return Object.getPrototypeOf(t.constructor)===kc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function lw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Up(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){IU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Nl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);IU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Q2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Br,9),te(yr,10),te(Ea,10),te(Ls,10),te(vs,8),te(id,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jt([g4e]),At,Ir]}),e})(),fw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),wU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({}),e})(),B4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({imports:[wU]}),e})(),yw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:id,useValue:r.callSetDisabledState??Y2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({imports:[B4e]}),e})(),z4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Vn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const U4e=["dgtSpinner"],j4e=["dgtMainContainer"];function $4e(t,e){if(1&t&&(V(0,"span",19),Y(1),H()),2&t){const n=Nt().$implicit;fe(1),Ha("[",n.kickEta,"]")}}function G4e(t,e){if(1&t&&(V(0,"span",20),Y(1,"DGT: "),V(2,"span",12),Y(3),H()()),2&t){const n=Nt().$implicit;fe(3),ot(n.dgtVersion)}}const q4e=function(){return["far","circle-xmark"]};function W4e(t,e){if(1&t){const n=Sl();V(0,"div",21)(1,"form",22,23),kt("ngSubmit",function(i){return br(n),wr(Nt(4).onSubmitKickMember(i))}),Le(3,"input",24),Ht(4,"kickMemberFormatter"),V(5,"button",25),Le(6,"fa-icon",26),H()()()}if(2&t){const n=Nt().$implicit;fe(3),yy("name",li(4,2,n.dgId)),fe(3),Oe("icon",function l7(t,e,n){const r=Ar()+t,i=ee();return i[r]===Ke?gs(i,r,n?e.call(n):e()):Jd(i,r)}(4,q4e))}}function K4e(t,e){if(1&t&&(V(0,"div",8)(1,"div",9)(2,"span",10),Y(3),H(),V(4,"span",11),Y(5,"Rank: "),V(6,"span",12),Y(7),Ht(8,"number"),H()(),vt(9,$4e,2,1,"span",13),V(10,"span",14),Y(11,"Score: "),V(12,"span",12),Y(13),Ht(14,"number"),H()(),V(15,"span",15),Y(16,"Combat: "),V(17,"span",12),Y(18),Ht(19,"number"),H()(),V(20,"span",16),Y(21,"Planets: "),V(22,"span",12),Y(23),H()(),vt(24,G4e,4,1,"span",17),vt(25,W4e,7,5,"div",18),H()()),2&t){const n=e.$implicit,r=Nt(2).ngIf,i=Nt();fe(3),ot(n.name),fe(4),ot(Yr(8,8,n.stats.rank,"1.0","en-US")),fe(2),Oe("ngIf",null!=n.kickEta),fe(4),ot(Yr(14,12,n.stats.score,"1.0","en-US")),fe(5),ot(Yr(19,16,n.stats.combatScore,"1.0","en-US")),fe(5),ot(n.stats.planets),fe(1),Oe("ngIf",n.dgtVersion&&(r===i.UserRole.TEAM_LEADER||r===i.UserRole.ADMIN)),fe(1),Oe("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function Y4e(t,e){if(1&t&&(V(0,"div",5,6),vt(2,K4e,26,20,"div",7),H()),2&t){const n=Nt(2);fe(2),Oe("ngForOf",n.allianceMembers)}}function Q4e(t,e){if(1&t&&(Va(0),vt(1,Y4e,3,1,"div",4),La()),2&t){const n=Nt();fe(1),Oe("ngIf",n.active)}}let X4e=(()=>{var t;class e{constructor(r){this.authService=W(Ms),this.localStorageService=W(Vr),this.membersPanelService=W($ye),this.active=!1,this.initialized=!1,this.UserRole=vx,r.addIcons(U2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new he(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(nt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(dH))},t.\u0275cmp=Dn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(ui(U4e,5),ui(j4e,5)),2&r){let s;Qr(s=Xr())&&(i.loadSpinner=s.first),Qr(s=Xr())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-version stats",4,"ngIf"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-version","stats"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(V(0,"div",0,1),Le(2,"span",2),H(),vt(3,Q4e,2,1,"ng-container",3),Ht(4,"async")),2&r&&(fe(3),Oe("ngIf",li(4,1,i.role)))},dependencies:[Kg,ys,fw,tw,$p,b2e,Ef,ro,z4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),J4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[X4e]}),t.\u0275inj=It({imports:[Nr,yw,qb,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),Z4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),e6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[Z4e]}),t.\u0275inj=It({imports:[Nr]}),e})(),t6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),n6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[t6e]}),t.\u0275inj=It({imports:[Nr]}),e})();const r6e=["dgtSpinner"],i6e=["dgtUpdatingModel"];function s6e(t,e){if(1&t){const n=Sl();V(0,"div",15)(1,"span"),Y(2,"There is a new update: "),V(3,"i")(4,"b"),Y(5),H(),Y(6," - "),H(),V(7,"a",16),kt("click",function(){return br(n),wr(Nt().installUpdate())}),Y(8,"click here"),H(),Y(9," to update your data"),H()()}if(2&t){const n=Nt();fe(5),ot(n.newVersion)}}let o6e=(()=>{var t;class e{constructor(){this.changeLogService=W($L),this.changeDetector=W(vs),this.localStorageService=W(Vr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new he(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(ui(r6e,5),ui(i6e,5)),2&r){let s;Qr(s=Xr())&&(i.loadSpinner=s.first),Qr(s=Xr())&&(i.dgtUpdatingModel=s.first)}},decls:89,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],[2,"background","#4e4e17","color","#b9b916","border","1px solid #b9b916","border-radius","3px","padding","0 5px"],[2,"background","#3b3b3b","color","#fff","border","1px solid #5e5e5e","border-radius","3px","padding","0 5px"],[2,"background","#4b2b2b","color","#df4a4a","border","1px solid #df4a4a","border-radius","3px","padding","0 5px"],[2,"display","none"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(V(0,"div",0)(1,"h2"),Y(2,"DarkGalaxy Tools "),V(3,"span"),Y(4),H()(),V(5,"div",1,2),Le(7,"span",3),H(),vt(8,s6e,10,1,"div",4),Ht(9,"async"),V(10,"div",5)(11,"div")(12,"span"),Y(13,"Changelog:"),H()(),V(14,"ul")(15,"li"),Y(16,"new - Added "),V(17,"span",6),Y(18,"NAP"),H(),Y(19," and "),V(20,"span",7),Y(21,"NEUTRAL"),H(),Y(22," colors in "),V(23,"b"),Y(24,"Navigation Screen"),H(),Y(25," - SOL planets will be colored in yellow, while all neutral alliances will be greyed out. Only WP and SKOL planets will remain "),V(26,"span",8),Y(27,"HOSTILE"),H(),Y(28,", for a better visualisation of each system."),H(),V(29,"li"),Y(30,"improve - Reduced metadata synchronization to ~2 seconds"),H(),V(31,"li"),Y(32,"new - Combined all "),V(33,"b"),Y(34,"Player Rankings"),H(),Y(35," pages into a single one - normal score, combat score and combined score"),H(),V(36,"li"),Y(37,'new - Added "fill" buttons on fleet resources/ship inputs - one is to fill the input with 99999999, the other with the maximum allowed for split (40000 soldiers / 50000 workers)'),H()(),V(38,"div",9)(39,"span"),Y(40,"Upcoming:"),H()(),V(41,"ul",9)(42,"li")(43,"b"),Y(44,"Alliance Rankings"),H(),Y(45," screen - added planets stats"),H(),V(46,"li"),Y(47,"Notification for "),V(48,"b"),Y(49,"Radar"),H(),Y(50," when at least one allied planet (including yours) is attacked"),H(),V(51,"li")(52,"b"),Y(53,"Research"),H(),Y(54," queue cancel confirmation popup"),H(),V(55,"li")(56,"b"),Y(57,"Navigation"),H(),Y(58," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),H(),V(59,"li"),Y(60,"Integration with Google Sheets"),H(),V(61,"li"),Y(62,"Copy to clipboard various stats"),H(),V(63,"li"),Y(64,"Fleet Scan statistics, including a fight simulation"),H()()(),V(65,"div",10)(66,"div")(67,"span"),Y(68,"Important:"),H()(),V(69,"ul")(70,"li"),Y(71,"please report any bug on "),V(72,"b"),Y(73,"Whatsapp#Toolbox"),H(),Y(74," channel"),H(),V(75,"li")(76,"b"),Y(77,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),H(),Y(78," - some of them are interfering with Firebase communication"),H()()()(),V(79,"div",11,12)(81,"div",13)(82,"span"),Y(83,"Installing "),V(84,"i")(85,"b"),Y(86),H()(),Y(87,"..."),H(),Le(88,"img",14),H()()),2&r&&(fe(4),ot(i.version),fe(4),Oe("ngIf",li(9,3,i.updateAvailable)),fe(78),ot(i.newVersion))},dependencies:[ys,Ef],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Gp(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new de({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new ip)}});t.subscribe(s)})}class e_{}class t_{}class Bs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Bs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Bs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class a6e{encodeKey(e){return jU(e)}encodeValue(e){return jU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const l6e=/%(\d[a-f0-9])/gi,u6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jU(t){return encodeURIComponent(t).replace(l6e,(e,n)=>u6e[n]??e)}function n_(t){return`${t}`}class xa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new a6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(n_):[n_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new xa({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(n_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(n_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class d6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $U(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function GU(t){return typeof Blob<"u"&&t instanceof Blob}function qU(t){return typeof FormData<"u"&&t instanceof FormData}class qp{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function f6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Bs),this.context||(this.context=new d6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new xa,this.urlWithParams=n}serializeBody(){return null===this.body?null:$U(this.body)||GU(this.body)||qU(this.body)||function h6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qU(this.body)?null:GU(this.body)?this.body.type||null:$U(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new qp(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var sd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sd||{});class Ew{constructor(e,n=200,r="OK"){this.headers=e.headers||new Bs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Cw extends Ew{constructor(e={}){super(e),this.type=sd.ResponseHeader}clone(e={}){return new Cw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class od extends Ew{constructor(e={}){super(e),this.type=sd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new od({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WU extends Ew{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let r_=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof qp)o=r;else{let l,u;l=s.headers instanceof Bs?s.headers:new Bs(s.headers),s.params&&(u=s.params instanceof xa?s.params:new xa({fromObject:s.params})),o=new qp(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=He(o).pipe(op(l=>this.handler.handle(l)));if(r instanceof qp||"events"===s.observe)return a;const c=a.pipe(Ps(l=>l instanceof od));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Je(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Je(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Je(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new xa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,xw(s,i))}post(r,i,s={}){return this.request("POST",r,xw(s,i))}put(r,i,s={}){return this.request("PUT",r,xw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(e_))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function QU(t,e){return e(t)}function g6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const _6e=new Ce(""),Wp=new Ce(""),XU=new Ce("");function v6e(){let t=null;return(e,n)=>{null===t&&(t=(W(_6e,{optional:!0})??[]).reduceRight(g6e,QU));const r=W(Dg),i=r.add();return t(e,n).pipe(ap(()=>r.remove(i)))}}let JU=(()=>{var t;class e extends e_{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=W(Dg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Wp),...this.injector.get(XU,[])]));this.chain=s.reduceRight((o,a)=>function m6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),QU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ap(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(t_),Re(Ti))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const x6e=/^\)\]\}',?\n/;let ej=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Wn(i.\u0275loadImpl()):He(null)).pipe(xi(()=>new he(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,D)=>a.setRequestHeader(y,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const y=r.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(r.responseType){const y=r.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const y=a.statusText||"OK",D=new Bs(a.getAllResponseHeaders()),w=function I6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new Cw({headers:D,status:a.status,statusText:y,url:w}),l},d=()=>{let{headers:y,status:D,statusText:w,url:$}=u(),Q=null;204!==D&&(Q=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=Q?200:0);let pe=D>=200&&D<300;if("json"===r.responseType&&"string"==typeof Q){const ke=Q;Q=Q.replace(x6e,"");try{Q=""!==Q?JSON.parse(Q):null}catch(Xe){Q=ke,pe&&(pe=!1,Q={error:Xe,text:Q})}}pe?(o.next(new od({body:Q,headers:y,status:D,statusText:w,url:$||void 0})),o.complete()):o.error(new WU({error:Q,headers:y,status:D,statusText:w,url:$||void 0}))},f=y=>{const{url:D}=u(),w=new WU({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(w)};let h=!1;const p=y=>{h||(o.next(u()),h=!0);let D={type:sd.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),"text"===r.responseType&&a.responseText&&(D.partialText=a.responseText),o.next(D)},g=y=>{let D={type:sd.UploadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:sd.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(QR))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const Iw=new Ce("XSRF_ENABLED"),tj=new Ce("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nj=new Ce("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rj{}let A6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=zR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Zr),Re(fs),Re(tj))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function T6e(t,e){const n=t.url.toLowerCase();if(!W(Iw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=W(rj).getToken(),i=W(nj);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ia=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ia||{});function Oc(t,e){return{\u0275kind:t,\u0275providers:e}}function S6e(...t){const e=[r_,ej,JU,{provide:e_,useExisting:JU},{provide:t_,useExisting:ej},{provide:Wp,useValue:T6e,multi:!0},{provide:Iw,useValue:!0},{provide:rj,useClass:A6e}];for(const n of t)e.push(...n.\u0275providers);return function Dv(t){return{\u0275providers:t}}(e)}const ij=new Ce("LEGACY_INTERCEPTOR_FN");let sj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t}),t.\u0275inj=It({providers:[S6e(Oc(Ia.LegacyInterceptors,[{provide:ij,useFactory:v6e},{provide:Wp,useExisting:ij,multi:!0}]))]}),e})();class bw{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class O6e{constructor(){this._stats=new bw}get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats,dgtVersion:this.dgtVersion}}}class F6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}class ww{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class s_{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class oj{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let Kp=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};Kp=Qt([Er(2,Gt())],Kp);let aj=(()=>{var t;class e{constructor(){this.httpClient=W(r_),this.firestore=W(Rs),this.localStorageService=W(Vr),this.dgAPI=W(Wi),this.PLAYER_RANKINGS_URL=this.localStorageService.get(nt.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(nt.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return v(function*(){const s=Math.floor(100*Math.random()),o=Ji(i.firestore,"players-planets");let a=new oj(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,s,u,l),yield i.scanCombatRankingsPage(c,r,a,s,u,l);yield i.cacheRankings(c,o,r,new oj(0))})()}getNumberOfPages(){var r=this;return v(function*(){let i=yield Gp(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Gp(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new bw);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),("wp"===p.alliance||"skol"===p.alliance)&&(p.relation="hostile")}),s.number+=(yield l.atomicIncrement()),i.emit(new s_(s.number,2*c,"load")),yield l.delay(o)})()}scanCombatRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Gp(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new bw);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),s.number+=(yield l.atomicIncrement()),i.emit(new s_(s.number,2*c,"load")),yield l.delay(o)})()}cacheRankings(r,i,s,o){var a=this;return v(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=ep(vr(i,d.toString())).subscribe(h=>{if(h){const p=Object.assign(new ww,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),s.emit(new s_(++o.number,r.size,"save")),f.unsubscribe()})},5*++l)}),yield a.delay(10*++l).then(()=>{a.localStorageService.cache(nt.PLAYERS_STATS,c);let u=a.localStorageService.localMetadata();u.playersRankingsTurn=new Kp(a.dgAPI.gameTurn(),0),a.localStorageService.cache(nt.LOCAL_METADATA,u)})})()}atomicIncrement(){return v(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class cj{get name(){return this._name}set name(e){this._name=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{name:this.name,turn:this.turn,version:this.version}}}var ad;class o_{constructor(){this.httpClient=W(r_),this.firestore=W(Rs),this.localStorageService=W(Vr),this.playersRankingsLoaderService=W(aj),this.dgAPI=W(Wi),this._updatesEmitter=new Rt,this.ALLIANCES_URL=this.localStorageService.get(nt.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new Rt}updateMetadata(e){const n=Ji(this.firestore,"metadata"),r=Ji(this.firestore,"user-status");let i=Zh(tp(n)).subscribe(s=>{const o=Object.assign([],s);let a=new F6e;a.dgtVersion=o[0].version,a.planetsTurn=o[1],a.playersRankingsTurn=o[2],this.localStorageService.cache(nt.REMOTE_METADATA,a);let c=ep(vr(r,this.dgAPI.username())).subscribe(l=>{if(l){let u=Object.assign(new cj,l);u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,np(vr(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}else{let u=new cj;u.turn=this.dgAPI.gameTurn(),u.version=this.localStorageService.localMetadata().dgtVersion,u.name=this.dgAPI.username(),Fu(vr(r,this.dgAPI.username()),JSON.parse(JSON.stringify(u))).catch(d=>console.log(d))}e.next(!0),e.complete(),c.unsubscribe()});i.unsubscribe()})}loadPlanets(e,n){var r=this;return v(function*(){let i=r.localStorageService.localMetadata();const s=r.localStorageService.get(nt.REMOTE_METADATA);if(0===i.planetsTurn.turn||s.planetsTurn.turn>i.planetsTurn.turn||s.planetsTurn.turn==i.planetsTurn.turn&&s.planetsTurn.version>i.planetsTurn.version){let l=r.localStorageService.localMetadata(),u=r.localStorageService.remoteMetadata();l.planetsTurn.turn=u.planetsTurn.turn,l.planetsTurn.version=u.planetsTurn.version,l.dgtVersion=u.dgtVersion,r.localStorageService.cache(nt.LOCAL_METADATA,l),r._updatesEmitter.emit(-1)}else e>i.playersRankingsTurn.turn&&n>5&&n<57&&r._updatesEmitter.emit(-1)})()}loadRankings(e,n,r=!1){const i=this.localStorageService.localMetadata(),s=this.localStorageService.get(nt.PLAYERS_STATS);(!s||0===i.playersRankingsTurn.turn||e>i.playersRankingsTurn.turn&&n>5&&n<57||r)&&(this._updatesEmitter.emit(2),this.loadPlayersRankings(this._playersRankingsEmitter));const c=this.localStorageService.get(nt.ALLIANCE_MEMBERS);s&&(!c||0===i.allianceMembersTurn.turn||e>i.allianceMembersTurn.turn)&&(this._updatesEmitter.emit(0),this.loadAllianceMembers(e).then(()=>{this._updatesEmitter.emit(0)}).catch(d=>console.log(d)))}loadPlayersRankings(e){this.playersRankingsLoaderService.scanPlayersRankingsScreens(e).then(()=>{this._updatesEmitter.emit(1),this.loadAllianceMembers(this.localStorageService.localMetadata().playersRankingsTurn.turn).then(()=>{this._updatesEmitter.emit(0)})})}loadAllianceMembers(e){var n=this;return v(function*(){const r=yield Gp(n.httpClient.get(n.ALLIANCES_URL,{responseType:"text"})),i=(new DOMParser).parseFromString(r,"text/html"),s=n.localStorageService.get(nt.PLAYERS_STATS),o=Ji(n.firestore,"user-status");let a=Zh(tp(o)).subscribe(c=>{const l=Object.assign([],c);if(!i.querySelector('[action="/alliances/join/"]')){let u=[];i.querySelectorAll(".allianceBox").forEach(f=>{f.querySelector(".plainHeader")&&"member list"===f.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&f.querySelectorAll(".player").forEach(h=>{let p=new O6e;if(null!=h.querySelector('[action^="/alliances/note/"]')){let g=h.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);p.dgId=g[g.length-2]}if(null==h.querySelector('[action="/alliances/kick/"] input')&&null!=h.querySelector(".right>b")&&(p.kickEta=h.querySelector(".right>b").textContent.trim().toLowerCase()),null!=h.querySelector("div.name")){p.name=h.querySelector("div.name").childNodes[0].textContent.trim(),p.stats=s.find(y=>y.name.toLowerCase()===p.name.toLowerCase());const g=l.find(y=>y.name.toLowerCase()===p.name.toLowerCase());g&&(p.dgtVersion=g.version),u.push(p)}})});let d=n.localStorageService.localMetadata();d.allianceMembersTurn.turn=e,n.localStorageService.cache(nt.ALLIANCE_MEMBERS,u),n.localStorageService.cache(nt.LOCAL_METADATA,d),a.unsubscribe()}})})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}}(ad=o_).\u0275fac=function(e){return new(e||ad)},ad.\u0275prov=be({token:ad,factory:ad.\u0275fac,providedIn:"root"}),Qt([Er(2,Gt())],o_.prototype,"loadRankings",null);let V6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[o6e]}),t.\u0275inj=It({providers:[o_],imports:[Nr,so(()=>ao(Gn_firebase)),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class L6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class lj{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}let a_=(()=>{var t;class e{constructor(){this.firestore=W(Rs),this.dgAPI=W(Wi),this.metadataPath=Ji(this.firestore,"metadata"),this.localStorageService=W(Vr)}updateMetadataTurns(r){let i=ep(vr(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new Kp(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,np(vr(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Fu(vr(this.metadataPath,r),JSON.parse(JSON.stringify(new Kp(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}resetSortingMaps(){-1===window.location.pathname.indexOf("/rankings/players")&&this.localStorageService.remove(nt.PLAYERS_RANKINGS_SORT)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class uj{constructor(){this._planets=[]}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total}}}var cd;class Aw{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=W(r_),this.firestore=W(Rs),this.dgAPI=W(Wi),this.metadataService=W(a_),this.localStorageService=W(Vr),this._systemScanEmitter=new Rt,this._planetScanEmitter=new Rt,this.NAVIGATION_BASE_URL=this.localStorageService.get(nt.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return v(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=Ji(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let y=1;y<=r.SYSTEMS;y++)a&&(yield r.parseAndSave(s[u],g,y,d,f,h),r._systemScanEmitter.emit(new s_(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe(),yield r.delay(i)})()}mergeAlliancePlanets(e){const n=Ji(this.firestore,"alliances-planets");e.forEach((r,i)=>{let s=ep(vr(n,i)).subscribe(o=>{o?(Object.assign(new uj,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.planets.length}),np(vr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.planets.length}),Fu(vr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=Ji(this.firestore,"players-planets");e.forEach((r,i)=>{let s=ep(vr(n,i.toString())).subscribe(o=>{o&&Object.assign(new ww,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?np(vr(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Fu(vr(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return v(function*(){const c=yield Gp(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new L6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new ww);let g=i.get(f.playerId).planets;if(g.some(D=>D.galaxy===e)?g.filter(w=>w.galaxy===e&&!w.planets.includes(f.location)).forEach(w=>w.planets.push(f.location)):i.get(f.playerId).planets.push(new lj(e,[f.location])),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new uj);let D=s.get(f.alliance).planets;D.some($=>$.galaxy===e)?D.filter(Q=>Q.galaxy===e&&!Q.planets.includes(f.location)).forEach(Q=>Q.planets.push(f.location)):s.get(f.alliance).planets.push(new lj(e,[f.location])),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}Fu(vr(o,f.location),JSON.parse(JSON.stringify(f))).catch(D=>console.log(D))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(cd=Aw).\u0275fac=function(e){return new(e||cd)},cd.\u0275prov=be({token:cd,factory:cd.\u0275fac,providedIn:"root"}),Qt([Er(1,Gt())],Aw.prototype,"scanPlanets",null);let B6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Rr))},t.\u0275dir=Ve({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&kt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const H6e=["planetsLoadModal"],z6e=["planetProgressBar"],U6e=["playersProgressBar"],j6e=["planetCounter"];function $6e(t,e){if(1&t){const n=Sl();Va(0),V(1,"div",1)(2,"div",2)(3,"b",3),Y(4,"DGT Admin Panel"),H()(),V(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),Y(10,"Universe Scan"),H()(),V(11,"span",8),Y(12,"Use this with caution. It's a very expensive operation for both DG server and DGT database!"),H(),V(13,"span",8),Y(14,"Usage examples:"),H(),V(15,"ul")(16,"li"),Y(17,"1,2 - G01 and G02"),H(),V(18,"li"),Y(19,"34 - G34"),H(),V(20,"li"),Y(21,"special: 213 - first ring (G02-G13)"),H(),V(22,"li"),Y(23,"special: 1449 - second ring (G14-G49)"),H(),V(24,"li"),Y(25,"special: 149 - everything (G01-G49)"),H()()(),V(26,"form")(27,"input",9),kt("ngModelChange",function(i){return br(n),wr(Nt().controls.galaxies=i)}),H(),V(28,"button",10),kt("click",function(){return br(n),wr(Nt().scanNavigationScreen())}),Y(29,"Fetch"),H()()()()(),V(30,"div",11,12)(32,"div",13)(33,"div",14)(34,"span",15),Y(35),H(),V(36,"span",16,17),Y(38),H()(),V(39,"div",18)(40,"span",19),Y(41),H(),Le(42,"span",20,21),H(),V(44,"div",22)(45,"button",23),kt("click",function(){return br(n),wr(Nt().cancelScan())}),Y(46,"Cancel"),H()()()(),La()}if(2&t){const n=Nt();fe(27),Oe("ngModel",n.controls.galaxies),fe(8),ot(n.loadedSystem),fe(3),ot(n.loadedPlanet),fe(3),Ha("",n.planetPercentage,"%")}}let G6e=(()=>{var t;class e{constructor(){this.planetsLoaderService=W(Aw),this.changeDetection=W(vs),this.authService=W(Ms),this.cancelScanEmitter=new Rt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return v(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(ui(H6e,5),ui(z6e,5),ui(U6e,5),ui(j6e,5)),2&r){let s;Qr(s=Xr())&&(i.planetsLoadModal=s.first),Qr(s=Xr())&&(i.planetProgressBar=s.first),Qr(s=Xr())&&(i.playersProgressBar=s.first),Qr(s=Xr())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"]],template:function(r,i){1&r&&vt(0,$6e,47,4,"ng-container",0),2&r&&Oe("ngIf",i.authenticated)},dependencies:[ys,fw,j2,uU,tw,dw,$p,B6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], .load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),q6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[G6e]}),t.\u0275inj=It({providers:[a_],imports:[Nr,yw,sj,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),Cc(()=>xc()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),W6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-alliance-rankings"]],decls:0,vars:0,template:function(r,i){}}),e})(),K6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[W6e]}),t.\u0275inj=It({imports:[Nr]}),e})();const Y6e=["dgtUpdatingModel"],Q6e=["rankingsLoadModal"],X6e=["playersProgressBar"];function J6e(t,e){if(1&t&&(Va(0),V(1,"div",1,2)(3,"div",3)(4,"span"),Y(5,"Downloading DGT metadata updates..."),H(),Le(6,"img",4),H()(),V(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),Y(12),H()(),V(13,"div",10)(14,"span",11),Y(15),H(),Le(16,"span",12,13),H()()(),La()),2&t){const n=Nt();fe(12),ot(n.loadedRankings),fe(3),Ha("",n.playersPercentage,"%")}}let Z6e=(()=>{var t;class e{constructor(){this.synchronizerService=W(o_),this.dgAPI=W(Wi),this.authService=W(Ms),this.changeDetection=W(vs),this.metadataService=W(a_),this.authenticated=!1,this.playersPercentage=0,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.metadataService.resetSortingMaps(),this.prepareRankingsLoader(),this.synchronizerService.updatesEmitter.subscribe(i=>{switch(i){case-1:this.synchronizerService.loadRankings(this.dgAPI.gameTurn(),this.dgAPI.getCountDownMinutes(),!0);break;case 0:this.delay(500).then(()=>{this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()});break;case 1:this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(500).then(()=>{});break;case 2:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.playersProgressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open")}});let r=new he(i=>{this.synchronizerService.updateMetadata(i)}).subscribe(i=>{i&&(this.synchronizerService.loadPlanets(this.dgAPI.gameTurn(),this.dgAPI.getCountDownMinutes()).catch(s=>console.log(s)),r.unsubscribe())})}prepareRankingsLoader(){this.rankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%",r.page==r.total&&this.rankingsCountSubscription.unsubscribe()}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(ui(Y6e,5),ui(Q6e,5),ui(X6e,5)),2&r){let s;Qr(s=Xr())&&(i.dgtUpdatingModel=s.first),Qr(s=Xr())&&(i.rankingsLoadModal=s.first),Qr(s=Xr())&&(i.playersProgressBar=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["playersProgressBar",""]],template:function(r,i){1&r&&vt(0,J6e,18,2,"ng-container",0),2&r&&Oe("ngIf",i.authenticated)},dependencies:[ys],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),e3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[Z6e]}),t.\u0275inj=It({providers:[aj,a_],imports:[Nr,sj,so(()=>ao(Gn_firebase)),Cc(()=>xc()),Wo(()=>Ko()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),t3e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),n3e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=t3e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),r3e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=W(n3e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),i3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[r3e]}),t.\u0275inj=It({imports:[Nr]}),e})();var ld,Yp;class Tw{constructor(){this.localStorageService=W(Vr)}fetchAndClear(e,n,r,i,s=!1){let o=new Map;const a=this.localStorageService.get(nt.PLAYERS_STATS);if(null===a)return o;for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"combinedScore":case"combatScore":case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":u="desc"===n?a[c][e]<a[l][e]:a[c][e]>a[l][e]}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);else for(let c=a.length-100;c<a.length;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);return s&&document.querySelector(".playerRankingsList").remove(),o}fixPaginationDisplay(e){if(null===this.localStorageService.get(nt.PLAYERS_STATS))return;const n=this.localStorageService.get(nt.PLAYERS_STATS).length;document.querySelector("#ranking-navigation > div:nth-child(2)").innerHTML="Page "+e+" / "+Math.ceil(n/100),e===Math.ceil(n/100)&&document.querySelector("#ranking-navigation > div:nth-child(1)").remove()}}function s3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function o3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function a3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function c3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function l3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function u3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function d3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function f3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function h3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function p3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function g3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function m3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}function _3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",20),H())}function v3e(t,e){1&t&&(Sr(),V(0,"svg",19),Le(1,"path",21),H())}(ld=Tw).\u0275fac=function(e){return new(e||ld)},ld.\u0275prov=be({token:ld,factory:ld.\u0275fac,providedIn:"root"}),Qt([Er(4,Gt())],Tw.prototype,"fetchAndClear",null);const y3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}};function E3e(t,e){if(1&t&&(V(0,"tr",22)(1,"td",3),Y(2),H(),V(3,"td",4),Y(4),H(),V(5,"td",5),Y(6),H(),V(7,"td",6)(8,"a",23),Y(9),H()(),V(10,"td",9)(11,"a",23),Y(12),H()(),V(13,"td",10)(14,"a",23),Y(15),H()(),V(16,"td",11)(17,"a",23),Y(18),H()(),Le(19,"td",12),V(20,"td",13),Y(21),Ht(22,"number"),H(),V(23,"td",14),Y(24),Ht(25,"number"),H(),V(26,"td",15),Y(27),Ht(28,"number"),H()()),2&t){const n=e.$implicit;Oe("ngClass",u7(23,y3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),fe(2),ot(n.rank),fe(2),ot(n.alliance),fe(2),ot(n.name),fe(3),ot(n.planets),fe(3),ot(n.g1Total),fe(3),ot(n.g213Total),fe(3),ot(n.g1449Total),fe(3),ot(Yr(22,11,n.combatScore,"1.0","en-US")),fe(3),ot(Yr(25,15,n.score,"1.0","en-US")),fe(3),ot(Yr(28,19,n.combinedScore,"1.0","en-US"))}}function C3e(t,e){if(1&t){const n=Sl();Va(0),V(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),Y(6,"#"),H(),V(7,"th",4),Y(8,"Tag"),H(),V(9,"th",5),Y(10,"Player"),H(),V(11,"th",6)(12,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("planets"))}),Y(13,"Planets"),H(),vt(14,s3e,2,0,"svg",8),vt(15,o3e,2,0,"svg",8),H(),V(16,"th",9)(17,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("g1Total"))}),Y(18,"G1"),H(),vt(19,a3e,2,0,"svg",8),vt(20,c3e,2,0,"svg",8),H(),V(21,"th",10)(22,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("g213Total"))}),Y(23,"Inner"),H(),vt(24,l3e,2,0,"svg",8),vt(25,u3e,2,0,"svg",8),H(),V(26,"th",11)(27,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("g1449Total"))}),Y(28,"Outer"),H(),vt(29,d3e,2,0,"svg",8),vt(30,f3e,2,0,"svg",8),H(),Le(31,"th",12),V(32,"th",13)(33,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("combatScore"))}),Y(34,"Combat"),H(),vt(35,h3e,2,0,"svg",8),vt(36,p3e,2,0,"svg",8),H(),V(37,"th",14)(38,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("score"))}),Y(39,"Score"),H(),vt(40,g3e,2,0,"svg",8),vt(41,m3e,2,0,"svg",8),H(),V(42,"th",15)(43,"a",7),kt("click",function(){return br(n),wr(Nt().orderBy("combinedScore"))}),Y(44,"Combined"),H(),vt(45,_3e,2,0,"svg",8),vt(46,v3e,2,0,"svg",8),H()()(),V(47,"tbody"),vt(48,E3e,29,29,"tr",16),H()()(),V(49,"div",17)(50,"div",18)(51,"h2"),Y(52,"Riddick"),H(),V(53,"table")(54,"tr")(55,"th"),Y(56,"G7"),H(),V(57,"td"),Y(58,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),H()(),V(59,"tr")(60,"th"),Y(61,"G8"),H(),V(62,"td"),Y(63,"8.4.3.5"),H()(),V(64,"tr")(65,"th"),Y(66,"G9"),H(),V(67,"td"),Y(68,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),H()()()()(),La()}if(2&t){const n=Nt();fe(14),Oe("ngIf","desc"===n.sortOrder&&"planets"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"planets"===n.sortKey),fe(4),Oe("ngIf","desc"===n.sortOrder&&"g1Total"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"g1Total"===n.sortKey),fe(4),Oe("ngIf","desc"===n.sortOrder&&"g213Total"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"g213Total"===n.sortKey),fe(4),Oe("ngIf","desc"===n.sortOrder&&"g1449Total"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"g1449Total"===n.sortKey),fe(5),Oe("ngIf","desc"===n.sortOrder&&"combatScore"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"combatScore"===n.sortKey),fe(4),Oe("ngIf","desc"===n.sortOrder&&"score"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"score"===n.sortKey),fe(4),Oe("ngIf","desc"===n.sortOrder&&"combinedScore"===n.sortKey),fe(1),Oe("ngIf","asc"===n.sortOrder&&"combinedScore"===n.sortKey),fe(2),Oe("ngForOf",n.rankings.values())}}class Sw{constructor(){this.playerRankingsService=W(Tw),this.authService=W(Ms),this.localStorageService=W(Vr),this.changeDetector=W(vs),this.rankings=new Map,this.authenticated=!1,this.Math=Math,this.sortOrder="desc",this.sortKey="score";const e=window.location.pathname.split(/\//);switch(e.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(e[3])}this.authService.authState.subscribe(n=>{if(this.authenticated=n.status,this.authenticated){null===this.localStorageService.get(nt.PLAYERS_RANKINGS_SORT)&&this.localStorageService.cache(nt.PLAYERS_RANKINGS_SORT,"score:desc");const r=this.localStorageService.get(nt.PLAYERS_RANKINGS_SORT).split(/:/)[0];this.orderBy(r,!1)}}),this.authService.checkLoginValidity(),this.playerRankingsService.fixPaginationDisplay(this.page)}ngAfterViewInit(){this.changeDetector.detectChanges()}orderBy(e,n=!0){let r=this.localStorageService.get(nt.PLAYERS_RANKINGS_SORT);null===r&&(r="score:desc");let[i,s]=r.split(/:/);e!==i&&(s="asc"),n&&(s="desc"===s?"asc":"desc"),r=e.concat(":",s),this.rankings=this.playerRankingsService.fetchAndClear(e,s,this.page,100),this.sortKey=e,this.sortOrder=s,n&&this.changeDetector.detectChanges(),this.localStorageService.cache(nt.PLAYERS_RANKINGS_SORT,r)}}(Yp=Sw).\u0275fac=function(e){return new(e||Yp)},Yp.\u0275cmp=Dn({type:Yp,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets"],["href","javascript:void(0);",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",4,"ngIf"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"empty"],[1,"combat"],[1,"score"],[1,"combined"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512"],["d","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z",2,"/*! line-height","22px !important","*//*! margin-top","10px !important"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(e,n){1&e&&vt(0,C3e,69,15,"ng-container",0),2&e&&Oe("ngIf",n.authenticated)},dependencies:[v4,Kg,ys,ro],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:50px}.empty[_ngcontent-%COMP%], .combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%]{width:75px}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.combined[_ngcontent-%COMP%], .combat[_ngcontent-%COMP%], .score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;padding:5px!important;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}th[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:12px;vertical-align:middle;margin-top:-2px;margin-left:3px;fill:#72bde0}"]}),Qt([Er(1,Gt())],Sw.prototype,"orderBy",null);let x3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[Sw]}),t.\u0275inj=It({providers:[ro],imports:[Nr,yw,qb,so(()=>ao(Gn_firebase)),Wo(()=>Ko()),wo(()=>Ao(oo(),{provider:new ts(Gn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var De=function(t){return t.FIGHTER="fighter",t.BOMBER="bomber",t.FRIGATE="frigate",t.DESTROYER="destroyer",t.CRUISER="cruiser",t.BATTLESHIP="battleship",t}(De||{});class dt{constructor(e,n){this._target=e,this._rate=n}get target(){return this._target}set target(e){this._target=e}get rate(){return this._rate}set rate(e){this._rate=e}toJSON(){return{target:this.target,rate:this.rate}}}let I3e=(()=>{var t;class e{simulateFight(r,i){let s=0;for(console.log("Starting the battle");!this.isFleetDestroyed(r)&&!this.isFleetDestroyed(i);){let o=JSON.parse(JSON.stringify(r)),a=JSON.parse(JSON.stringify(i));this.fightersAttack(this.getShips(o,De.FIGHTER).quantity,i),this.fightersAttack(this.getShips(a,De.FIGHTER).quantity,r),this.bombersAttack(this.getShips(o,De.BOMBER).quantity,i),this.bombersAttack(this.getShips(a,De.BOMBER).quantity,r),this.frigateAttack(this.getShips(o,De.FRIGATE).quantity,i),this.frigateAttack(this.getShips(a,De.FRIGATE).quantity,r),this.destroyerAttack(this.getShips(o,De.DESTROYER).quantity,i),this.destroyerAttack(this.getShips(a,De.DESTROYER).quantity,r),this.cruiserAttack(this.getShips(o,De.CRUISER).quantity,i),this.cruiserAttack(this.getShips(a,De.CRUISER).quantity,r),this.battleShipAttack(this.getShips(o,De.BATTLESHIP).quantity,i),this.battleShipAttack(this.getShips(a,De.BATTLESHIP).quantity,r),console.log("Fleet 1: "+r.ships.map(c=>c.name+": "+c.quantity).join(", ")),console.log("Fleet 2: "+i.ships.map(c=>c.name+": "+c.quantity).join(", ")),s++}return console.log("Battle ended in "+s+" turns:"),console.log("Fleet 1: "+r.ships.map(o=>o.name+": "+o.quantity).join(", ")),console.log("Fleet 2: "+i.ships.map(o=>o.name+": "+o.quantity).join(", ")),s}fightersAttack(r,i){const s=[new dt(De.BOMBER,.33333),new dt(De.FIGHTER,.91),new dt(De.FRIGATE,.025),new dt(De.DESTROYER,.006),new dt(De.CRUISER,.002),new dt(De.BATTLESHIP,2e-4)];this.attack(r,De.FIGHTER,i,s)}bombersAttack(r,i){const s=[new dt(De.DESTROYER,.05),new dt(De.FRIGATE,.25),new dt(De.BATTLESHIP,.002),new dt(De.BOMBER,.3),new dt(De.CRUISER,.004)];this.attack(r,De.BOMBER,i,s)}frigateAttack(r,i){const s=[new dt(De.CRUISER,.083),new dt(De.FIGHTER,12.12),new dt(De.DESTROYER,.666),new dt(De.BOMBER,.7),new dt(De.FRIGATE,.5),new dt(De.BATTLESHIP,250)];this.attack(r,De.FRIGATE,i,s)}destroyerAttack(r,i){const s=[new dt(De.BATTLESHIP,.1),new dt(De.CRUISER,.33),new dt(De.DESTROYER,.6),new dt(De.FRIGATE,.4),new dt(De.FIGHTER,6),new dt(De.BOMBER,2)];this.attack(r,De.DESTROYER,i,s)}cruiserAttack(r,i){const s=[new dt(De.FIGHTER,114),new dt(De.BOMBER,37.75),new dt(De.FRIGATE,2),new dt(De.CRUISER,.25),new dt(De.DESTROYER,.2),new dt(De.BATTLESHIP,.025)];this.attack(r,De.CRUISER,i,s)}battleShipAttack(r,i){const s=[new dt(De.FRIGATE,44),new dt(De.CRUISER,4),new dt(De.BATTLESHIP,.33),new dt(De.FIGHTER,330),new dt(De.BOMBER,48),new dt(De.DESTROYER,2)];this.attack(r,De.BATTLESHIP,i,s)}attack(r,i,s,o){for(const a of o){const c=a.rate,l=this.getShips(s,a.target);if(l.quantity>0&&r>0){const u=Math.min(l.quantity,Math.floor(c*r));console.log(Math.floor(u/c)+" "+i+" killed "+u+" "+a.target),l.quantity=Math.max(0,l.quantity-u),r=Math.max(0,r-Math.ceil(u/c))}}}getShips(r,i){return r.ships.filter(s=>s.name===i)[0]}isFleetDestroyed(r){return 0===r.ships.filter(i=>i.quantity>0).length}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class dj{constructor(){this._ships=[],this.hostile=!1,this.allied=!1,this._mine=!1}get mine(){return this._mine}set mine(e){this._mine=e}get ships(){return this._ships}set ships(e){this._ships=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get eta(){return this._eta}set eta(e){this._eta=e}toJSON(){return{eta:this.eta,alliance:this.alliance,owner:this.owner,ships:this.ships,hostile:this.hostile,allied:this.allied,mine:this.mine}}}let b3e=(()=>{var t;class e{constructor(r){this.domSanitizer=r}transform(r){return this.domSanitizer.bypassSecurityTrustResourceUrl(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(O4,16))},t.\u0275pipe=Vn({name:"safe",type:t,pure:!0}),e})(),w3e=(()=>{var t;class e{constructor(){this.fightSimulatorService=W(I3e),this.url="https://helloweenpt.com/darkgalaxy/combat-simulator";let r=new dj,i=new dj;r.ships.push(new fi(De.FIGHTER,16567)),r.ships.push(new fi(De.BOMBER,1564)),r.ships.push(new fi(De.FRIGATE,3103)),r.ships.push(new fi(De.DESTROYER,978)),r.ships.push(new fi(De.CRUISER,240)),r.ships.push(new fi(De.BATTLESHIP,120)),i.ships.push(new fi(De.FIGHTER,13455)),i.ships.push(new fi(De.BOMBER,2354)),i.ships.push(new fi(De.FRIGATE,2320)),i.ships.push(new fi(De.DESTROYER,888)),i.ships.push(new fi(De.CRUISER,255)),i.ships.push(new fi(De.BATTLESHIP,75)),this.fightSimulatorService.simulateFight(r,i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Dn({type:t,selectors:[["dgt-fleet-scan-details"]],decls:2,vars:3,consts:[["width","100%","height","300","scrolling","no","seamless","seamless",3,"src"]],template:function(r,i){1&r&&(Le(0,"iframe",0),Ht(1,"safe")),2&r&&Oe("src",li(1,1,i.url),Tv)},dependencies:[b3e]}),e})(),A3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=wt({type:t,bootstrap:[w3e]}),t.\u0275inj=It({imports:[Nr]}),e})();const Hr=kte();let T3e=window.location.pathname.split(/\//g);Hr.bootstrapModule(n6e).then(()=>{Hr.bootstrapModule(e6e).then(()=>{Hr.bootstrapModule(N2e).then(()=>{Hr.bootstrapModule(e3e).then(()=>{Hr.bootstrapModule(T1e).then(()=>{!function S3e(t){2===t.length&&0===t[1].trim().length&&(Hr.bootstrapModule(V6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),Hr.bootstrapModule(q6e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&Hr.bootstrapModule(w2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&(Hr.bootstrapModule(S2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),document.querySelector("dgt-fleet-scan-details")&&Hr.bootstrapModule(A3e).catch(e=>console.error("Error loading FleetScanModule: "+e))),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&Hr.bootstrapModule(M2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&Hr.bootstrapModule(J4e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&Hr.bootstrapModule(K6e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&Hr.bootstrapModule(x3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&Hr.bootstrapModule(i3e).catch(e=>console.error("Error loading ResearchModule: "+e))}(T3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,j=I.lib.BlockCipher,J=I.algo,N=[],K=[],_=[],b=[],M=[],E=[],T=[],C=[],S=[],A=[];!function(){for(var m=[],x=0;x<256;x++)m[x]=x<128?x<<1:x<<1^283;var B=0,O=0;for(x=0;x<256;x++){var U=O^O<<1^O<<2^O<<3^O<<4;N[B]=U=U>>>8^255&U^99,K[U]=B;var ge,G=m[B],de=m[G],le=m[de];_[B]=(ge=257*m[U]^16843008*U)<<24|ge>>>8,b[B]=ge<<16|ge>>>16,M[B]=ge<<8|ge>>>24,E[B]=ge,T[U]=(ge=16843009*le^65537*de^257*G^16843008*B)<<24|ge>>>8,C[U]=ge<<16|ge>>>16,S[U]=ge<<8|ge>>>24,A[U]=ge,B?(B=G^m[m[m[le^G]]],O^=m[m[O]]):B=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=J.AES=j.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,B=x.words,O=x.sigBytes/4,G=4*((this._nRounds=O+6)+1),de=this._keySchedule=[],le=0;le<G;le++)le<O?de[le]=B[le]:(m=de[le-1],le%O?O>6&&le%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[le/O|0]<<24),de[le]=de[le-O]^m);for(var ge=this._invKeySchedule=[],Ae=0;Ae<G;Ae++){if(le=G-Ae,Ae%4)var m=de[le];else m=de[le-4];ge[Ae]=Ae<4||le<=4?m:T[N[m>>>24]]^C[N[m>>>16&255]]^S[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,x){this._doCryptBlock(m,x,this._keySchedule,_,b,M,E,N)},decryptBlock:function(m,x){var B=m[x+1];m[x+1]=m[x+3],m[x+3]=B,this._doCryptBlock(m,x,this._invKeySchedule,T,C,S,A,K),B=m[x+1],m[x+1]=m[x+3],m[x+3]=B},_doCryptBlock:function(m,x,B,O,U,G,de,le){for(var ge=this._nRounds,Ae=m[x]^B[0],X=m[x+1]^B[1],ue=m[x+2]^B[2],ye=m[x+3]^B[3],ce=4,Fe=1;Fe<ge;Fe++){var he=O[Ae>>>24]^U[X>>>16&255]^G[ue>>>8&255]^de[255&ye]^B[ce++],Ye=O[X>>>24]^U[ue>>>16&255]^G[ye>>>8&255]^de[255&Ae]^B[ce++],rt=O[ue>>>24]^U[ye>>>16&255]^G[Ae>>>8&255]^de[255&X]^B[ce++],Z=O[ye>>>24]^U[Ae>>>16&255]^G[X>>>8&255]^de[255&ue]^B[ce++];Ae=he,X=Ye,ue=rt,ye=Z}he=(le[Ae>>>24]<<24|le[X>>>16&255]<<16|le[ue>>>8&255]<<8|le[255&ye])^B[ce++],Ye=(le[X>>>24]<<24|le[ue>>>16&255]<<16|le[ye>>>8&255]<<8|le[255&Ae])^B[ce++],rt=(le[ue>>>24]<<24|le[ye>>>16&255]<<16|le[Ae>>>8&255]<<8|le[255&X])^B[ce++],Z=(le[ye>>>24]<<24|le[Ae>>>16&255]<<16|le[X>>>8&255]<<8|le[255&ue])^B[ce++],m[x]=he,m[x+1]=Ye,m[x+2]=rt,m[x+3]=Z},keySize:8});I.AES=j._createHelper(k)}(),R.AES)},172:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,j=I.lib.BlockCipher;const N=16,K=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function M(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let B,m=F,x=k;for(let O=0;O<N;++O)m^=A.pbox[O],x=M(A,m)^x,B=m,m=x,x=B;return B=m,m=x,x=B,x^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:x}}var S=I.algo.Blowfish=j.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function C(A,F,k){for(let U=0;U<4;U++){A.sbox[U]=[];for(let G=0;G<256;G++)A.sbox[U][G]=_[U][G]}let m=0;for(let U=0;U<N+2;U++)A.pbox[U]=K[U]^F[m],m++,m>=k&&(m=0);let x=0,B=0,O=0;for(let U=0;U<N+2;U+=2)O=E(A,x,B),x=O.left,B=O.right,A.pbox[U]=x,A.pbox[U+1]=B;for(let U=0;U<4;U++)for(let G=0;G<256;G+=2)O=E(A,x,B),x=O.left,B=O.right,A.sbox[U][G]=x,A.sbox[U][G+1]=B;return!0}(b,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function T(A,F,k){let B,m=F,x=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],x=M(A,m)^x,B=m,m=x,x=B;return B=m,m=x,x=B,x^=A.pbox[1],m^=A.pbox[0],{left:m,right:x}}(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=j._createHelper(S)}(),R.Blowfish)},270:function(Ee,Ie,L){var q,j,J,N,K,_,M,T,C,A,F,k,x,O,G,de,ge,Ae,R;Ee.exports=(R=L(12),L(66),void(R.lib.Cipher||(q=R,j=q.lib,J=j.Base,N=j.WordArray,K=j.BufferedBlockAlgorithm,_=q.enc,M=_.Base64,T=q.algo.EvpKDF,C=j.Cipher=K.extend({cfg:J.extend(),createEncryptor:function(X,ue){return this.create(this._ENC_XFORM_MODE,X,ue)},createDecryptor:function(X,ue){return this.create(this._DEC_XFORM_MODE,X,ue)},init:function(X,ue,ye){this.cfg=this.cfg.extend(ye),this._xformMode=X,this._key=ue,this.reset()},reset:function(){K.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(ue){return"string"==typeof ue?Ae:de}return function(ue){return{encrypt:function(ye,ce,Fe){return X(ce).encrypt(ue,ye,ce,Fe)},decrypt:function(ye,ce,Fe){return X(ce).decrypt(ue,ye,ce,Fe)}}}}()}),j.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=q.mode={},F=j.BlockCipherMode=J.extend({createEncryptor:function(X,ue){return this.Encryptor.create(X,ue)},createDecryptor:function(X,ue){return this.Decryptor.create(X,ue)},init:function(X,ue){this._cipher=X,this._iv=ue}}),k=A.CBC=function(){var X=F.extend();function ue(ye,ce,Fe){var he,Ye=this._iv;Ye?(he=Ye,this._iv=undefined):he=this._prevBlock;for(var rt=0;rt<Fe;rt++)ye[ce+rt]^=he[rt]}return X.Encryptor=X.extend({processBlock:function(ye,ce){var Fe=this._cipher,he=Fe.blockSize;ue.call(this,ye,ce,he),Fe.encryptBlock(ye,ce),this._prevBlock=ye.slice(ce,ce+he)}}),X.Decryptor=X.extend({processBlock:function(ye,ce){var Fe=this._cipher,he=Fe.blockSize,Ye=ye.slice(ce,ce+he);Fe.decryptBlock(ye,ce),ue.call(this,ye,ce,he),this._prevBlock=Ye}}),X}(),x=(q.pad={}).Pkcs7={pad:function(X,ue){for(var ye=4*ue,ce=ye-X.sigBytes%ye,Fe=ce<<24|ce<<16|ce<<8|ce,he=[],Ye=0;Ye<ce;Ye+=4)he.push(Fe);var rt=N.create(he,ce);X.concat(rt)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},j.BlockCipher=C.extend({cfg:C.cfg.extend({mode:k,padding:x}),reset:function(){var X;C.reset.call(this);var ue=this.cfg,ye=ue.iv,ce=ue.mode;this._xformMode==this._ENC_XFORM_MODE?X=ce.createEncryptor:(X=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,ye&&ye.words):(this._mode=X.call(ce,this,ye&&ye.words),this._mode.__creator=X)},_doProcessBlock:function(X,ue){this._mode.processBlock(X,ue)},_doFinalize:function(){var X,ue=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ue.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),ue.unpad(X)),X},blockSize:4}),O=j.CipherParams=J.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),G=(q.format={}).OpenSSL={stringify:function(X){var ye=X.ciphertext,ce=X.salt;return(ce?N.create([1398893684,1701076831]).concat(ce).concat(ye):ye).toString(M)},parse:function(X){var ue,ye=M.parse(X),ce=ye.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(ue=N.create(ce.slice(2,4)),ce.splice(0,4),ye.sigBytes-=16),O.create({ciphertext:ye,salt:ue})}},de=j.SerializableCipher=J.extend({cfg:J.extend({format:G}),encrypt:function(X,ue,ye,ce){ce=this.cfg.extend(ce);var Fe=X.createEncryptor(ye,ce),he=Fe.finalize(ue),Ye=Fe.cfg;return O.create({ciphertext:he,key:ye,iv:Ye.iv,algorithm:X,mode:Ye.mode,padding:Ye.padding,blockSize:X.blockSize,formatter:ce.format})},decrypt:function(X,ue,ye,ce){return ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format),X.createDecryptor(ye,ce).finalize(ue.ciphertext)},_parse:function(X,ue){return"string"==typeof X?ue.parse(X,this):X}}),ge=(q.kdf={}).OpenSSL={execute:function(X,ue,ye,ce,Fe){if(ce||(ce=N.random(8)),Fe)var he=T.create({keySize:ue+ye,hasher:Fe}).compute(X,ce);else he=T.create({keySize:ue+ye}).compute(X,ce);var Ye=N.create(he.words.slice(ue),4*ye);return he.sigBytes=4*ue,O.create({key:he,iv:Ye,salt:ce})}},Ae=j.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:ge}),encrypt:function(X,ue,ye,ce){var Fe=(ce=this.cfg.extend(ce)).kdf.execute(ye,X.keySize,X.ivSize,ce.salt,ce.hasher);ce.iv=Fe.iv;var he=de.encrypt.call(this,X,ue,Fe.key,ce);return he.mixIn(Fe),he},decrypt:function(X,ue,ye,ce){ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format);var Fe=ce.kdf.execute(ye,X.keySize,X.ivSize,ue.salt,ce.hasher);return ce.iv=Fe.iv,de.decrypt.call(this,X,ue,Fe.key,ce)}}))))},12:function(Ee,Ie,L){var R;Ee.exports=(R=R||function(I,q){var j;if(typeof window<"u"&&window.crypto&&(j=window.crypto),typeof self<"u"&&self.crypto&&(j=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(j=globalThis.crypto),!j&&typeof window<"u"&&window.msCrypto&&(j=window.msCrypto),!j&&typeof global<"u"&&global.crypto&&(j=global.crypto),!j)try{j=L(480)}catch{}var J=function(){if(j){if("function"==typeof j.getRandomValues)try{return j.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof j.randomBytes)try{return j.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(x){var B;return m.prototype=x,B=new m,m.prototype=null,B}}(),K={},_=K.lib={},b=_.Base={extend:function(m){var x=N(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},M=_.WordArray=b.extend({init:function(m,x){m=this.words=m||[],this.sigBytes=null!=x?x:4*m.length},toString:function(m){return(m||T).stringify(this)},concat:function(m){var x=this.words,B=m.words,O=this.sigBytes,U=m.sigBytes;if(this.clamp(),O%4)for(var G=0;G<U;G++)x[O+G>>>2]|=(B[G>>>2]>>>24-G%4*8&255)<<24-(O+G)%4*8;else for(var le=0;le<U;le+=4)x[O+le>>>2]=B[le>>>2];return this.sigBytes+=U,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=I.ceil(x/4)},clone:function(){var m=b.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],B=0;B<m;B+=4)x.push(J());return new M.init(x,m)}}),E=K.enc={},T=E.Hex={stringify:function(m){for(var x=m.words,B=m.sigBytes,O=[],U=0;U<B;U++){var G=x[U>>>2]>>>24-U%4*8&255;O.push((G>>>4).toString(16)),O.push((15&G).toString(16))}return O.join("")},parse:function(m){for(var x=m.length,B=[],O=0;O<x;O+=2)B[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new M.init(B,x/2)}},C=E.Latin1={stringify:function(m){for(var x=m.words,B=m.sigBytes,O=[],U=0;U<B;U++)O.push(String.fromCharCode(x[U>>>2]>>>24-U%4*8&255));return O.join("")},parse:function(m){for(var x=m.length,B=[],O=0;O<x;O++)B[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new M.init(B,x)}},S=E.Utf8={stringify:function(m){try{return decodeURIComponent(escape(C.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return C.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=S.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,B=this._data,O=B.words,U=B.sigBytes,G=this.blockSize,le=U/(4*G),ge=(le=m?I.ceil(le):I.max((0|le)-this._minBufferSize,0))*G,Ae=I.min(4*ge,U);if(ge){for(var X=0;X<ge;X+=G)this._doProcessBlock(O,X);x=O.splice(0,ge),B.sigBytes-=Ae}return new M.init(x,Ae)},clone:function(){var m=b.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:b.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(x,B){return new m.init(B).finalize(x)}},_createHmacHelper:function(m){return function(x,B){return new k.HMAC.init(m,B).finalize(x)}}}),K.algo={});return K}(Math),R)},506:function(Ee,Ie,L){var R,j;Ee.exports=(R=L(12),j=R.lib.WordArray,R.enc.Base64={stringify:function(_){var b=_.words,M=_.sigBytes,E=this._map;_.clamp();for(var T=[],C=0;C<M;C+=3)for(var k=(b[C>>>2]>>>24-C%4*8&255)<<16|(b[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|b[C+2>>>2]>>>24-(C+2)%4*8&255,m=0;m<4&&C+.75*m<M;m++)T.push(E.charAt(k>>>6*(3-m)&63));var x=E.charAt(64);if(x)for(;T.length%4;)T.push(x);return T.join("")},parse:function(_){var b=_.length,M=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<M.length;T++)E[M.charCodeAt(T)]=T}var C=M.charAt(64);if(C){var S=_.indexOf(C);-1!==S&&(b=S)}return function K(_,b,M){for(var E=[],T=0,C=0;C<b;C++)if(C%4){var S=M[_.charCodeAt(C-1)]<<C%4*2,A=M[_.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return j.create(E,T)}(_,b,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(Ee,Ie,L){var R,j;Ee.exports=(R=L(12),j=R.lib.WordArray,R.enc.Base64url={stringify:function(_,b){void 0===b&&(b=!0);var M=_.words,E=_.sigBytes,T=b?this._safe_map:this._map;_.clamp();for(var C=[],S=0;S<E;S+=3)for(var m=(M[S>>>2]>>>24-S%4*8&255)<<16|(M[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|M[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<E;x++)C.push(T.charAt(m>>>6*(3-x)&63));var B=T.charAt(64);if(B)for(;C.length%4;)C.push(B);return C.join("")},parse:function(_,b){void 0===b&&(b=!0);var M=_.length,E=b?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var C=0;C<E.length;C++)T[E.charCodeAt(C)]=C}var S=E.charAt(64);if(S){var A=_.indexOf(S);-1!==A&&(M=A)}return function K(_,b,M){for(var E=[],T=0,C=0;C<b;C++)if(C%4){var S=M[_.charCodeAt(C-1)]<<C%4*2,A=M[_.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return j.create(E,T)}(_,M,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),function(){var j=R.lib.WordArray,J=R.enc;function K(_){return _<<8&4278255360|_>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(_){for(var b=_.words,M=_.sigBytes,E=[],T=0;T<M;T+=2)E.push(String.fromCharCode(b[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(_){for(var b=_.length,M=[],E=0;E<b;E++)M[E>>>1]|=_.charCodeAt(E)<<16-E%2*16;return j.create(M,2*b)}},J.Utf16LE={stringify:function(_){for(var b=_.words,M=_.sigBytes,E=[],T=0;T<M;T+=2){var C=K(b[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(C))}return E.join("")},parse:function(_){for(var b=_.length,M=[],E=0;E<b;E++)M[E>>>1]|=K(_.charCodeAt(E)<<16-E%2*16);return j.create(M,2*b)}}}(),R.enc.Utf16)},66:function(Ee,Ie,L){var I,q,j,J,N,_,R;Ee.exports=(R=L(12),L(446),L(990),J=(q=(I=R).lib).WordArray,_=(N=I.algo).EvpKDF=(j=q.Base).extend({cfg:j.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,M){for(var E,T=this.cfg,C=T.hasher.create(),S=J.create(),A=S.words,F=T.keySize,k=T.iterations;A.length<F;){E&&C.update(E),E=C.update(b).finalize(M),C.reset();for(var m=1;m<k;m++)E=C.finalize(E),C.reset();S.concat(E)}return S.sigBytes=4*F,S}}),I.EvpKDF=function(b,M,E){return _.create(E).compute(b,M)},R.EvpKDF)},826:function(Ee,Ie,L){var R,J,K;Ee.exports=(R=L(12),L(270),J=R.lib.CipherParams,K=R.enc.Hex,R.format.Hex={stringify:function(M){return M.ciphertext.toString(K)},parse:function(M){var E=K.parse(M);return J.create({ciphertext:E})}},R.format.Hex)},990:function(Ee,Ie,L){var R,N;Ee.exports=(R=L(12),N=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(b,M){b=this._hasher=new b.init,"string"==typeof M&&(M=N.parse(M));var E=b.blockSize,T=4*E;M.sigBytes>T&&(M=b.finalize(M)),M.clamp();for(var C=this._oKey=M.clone(),S=this._iKey=M.clone(),A=C.words,F=S.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;C.sigBytes=S.sigBytes=T,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var M=this._hasher,E=M.finalize(b);return M.reset(),M.finalize(this._oKey.clone().concat(E))}})))},874:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(802),L(37),L(454),L(506),L(523),L(873),L(446),L(78),L(811),L(870),L(913),L(545),L(558),L(990),L(538),L(66),L(270),L(228),L(392),L(584),L(15),L(594),L(699),L(501),L(4),L(297),L(738),L(826),L(42),L(769),L(195),L(969),L(848),L(172),R)},37:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),function(){if("function"==typeof ArrayBuffer){var j=R.lib.WordArray,J=j.init,N=j.init=function(K){if(K instanceof ArrayBuffer&&(K=new Uint8Array(K)),(K instanceof Int8Array||typeof Uint8ClampedArray<"u"&&K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array)&&(K=new Uint8Array(K.buffer,K.byteOffset,K.byteLength)),K instanceof Uint8Array){for(var _=K.byteLength,b=[],M=0;M<_;M++)b[M>>>2]|=K[M]<<24-M%4*8;J.call(this,b,_)}else J.apply(this,arguments)};N.prototype=j}}(),R.lib.WordArray)},873:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),function(I){var q=R,j=q.lib,J=j.WordArray,N=j.Hasher,K=q.algo,_=[];!function(){for(var S=0;S<64;S++)_[S]=4294967296*I.abs(I.sin(S+1))|0}();var b=K.MD5=N.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var F=0;F<16;F++){var k=A+F,m=S[k];S[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var x=this._hash.words,B=S[A+0],O=S[A+1],U=S[A+2],G=S[A+3],de=S[A+4],le=S[A+5],ge=S[A+6],Ae=S[A+7],X=S[A+8],ue=S[A+9],ye=S[A+10],ce=S[A+11],Fe=S[A+12],he=S[A+13],Ye=S[A+14],rt=S[A+15],Z=x[0],ae=x[1],ne=x[2],oe=x[3];Z=M(Z,ae,ne,oe,B,7,_[0]),oe=M(oe,Z,ae,ne,O,12,_[1]),ne=M(ne,oe,Z,ae,U,17,_[2]),ae=M(ae,ne,oe,Z,G,22,_[3]),Z=M(Z,ae,ne,oe,de,7,_[4]),oe=M(oe,Z,ae,ne,le,12,_[5]),ne=M(ne,oe,Z,ae,ge,17,_[6]),ae=M(ae,ne,oe,Z,Ae,22,_[7]),Z=M(Z,ae,ne,oe,X,7,_[8]),oe=M(oe,Z,ae,ne,ue,12,_[9]),ne=M(ne,oe,Z,ae,ye,17,_[10]),ae=M(ae,ne,oe,Z,ce,22,_[11]),Z=M(Z,ae,ne,oe,Fe,7,_[12]),oe=M(oe,Z,ae,ne,he,12,_[13]),ne=M(ne,oe,Z,ae,Ye,17,_[14]),Z=E(Z,ae=M(ae,ne,oe,Z,rt,22,_[15]),ne,oe,O,5,_[16]),oe=E(oe,Z,ae,ne,ge,9,_[17]),ne=E(ne,oe,Z,ae,ce,14,_[18]),ae=E(ae,ne,oe,Z,B,20,_[19]),Z=E(Z,ae,ne,oe,le,5,_[20]),oe=E(oe,Z,ae,ne,ye,9,_[21]),ne=E(ne,oe,Z,ae,rt,14,_[22]),ae=E(ae,ne,oe,Z,de,20,_[23]),Z=E(Z,ae,ne,oe,ue,5,_[24]),oe=E(oe,Z,ae,ne,Ye,9,_[25]),ne=E(ne,oe,Z,ae,G,14,_[26]),ae=E(ae,ne,oe,Z,X,20,_[27]),Z=E(Z,ae,ne,oe,he,5,_[28]),oe=E(oe,Z,ae,ne,U,9,_[29]),ne=E(ne,oe,Z,ae,Ae,14,_[30]),Z=T(Z,ae=E(ae,ne,oe,Z,Fe,20,_[31]),ne,oe,le,4,_[32]),oe=T(oe,Z,ae,ne,X,11,_[33]),ne=T(ne,oe,Z,ae,ce,16,_[34]),ae=T(ae,ne,oe,Z,Ye,23,_[35]),Z=T(Z,ae,ne,oe,O,4,_[36]),oe=T(oe,Z,ae,ne,de,11,_[37]),ne=T(ne,oe,Z,ae,Ae,16,_[38]),ae=T(ae,ne,oe,Z,ye,23,_[39]),Z=T(Z,ae,ne,oe,he,4,_[40]),oe=T(oe,Z,ae,ne,B,11,_[41]),ne=T(ne,oe,Z,ae,G,16,_[42]),ae=T(ae,ne,oe,Z,ge,23,_[43]),Z=T(Z,ae,ne,oe,ue,4,_[44]),oe=T(oe,Z,ae,ne,Fe,11,_[45]),ne=T(ne,oe,Z,ae,rt,16,_[46]),Z=C(Z,ae=T(ae,ne,oe,Z,U,23,_[47]),ne,oe,B,6,_[48]),oe=C(oe,Z,ae,ne,Ae,10,_[49]),ne=C(ne,oe,Z,ae,Ye,15,_[50]),ae=C(ae,ne,oe,Z,le,21,_[51]),Z=C(Z,ae,ne,oe,Fe,6,_[52]),oe=C(oe,Z,ae,ne,G,10,_[53]),ne=C(ne,oe,Z,ae,ye,15,_[54]),ae=C(ae,ne,oe,Z,O,21,_[55]),Z=C(Z,ae,ne,oe,X,6,_[56]),oe=C(oe,Z,ae,ne,rt,10,_[57]),ne=C(ne,oe,Z,ae,ge,15,_[58]),ae=C(ae,ne,oe,Z,he,21,_[59]),Z=C(Z,ae,ne,oe,de,6,_[60]),oe=C(oe,Z,ae,ne,ce,10,_[61]),ne=C(ne,oe,Z,ae,U,15,_[62]),ae=C(ae,ne,oe,Z,ue,21,_[63]),x[0]=x[0]+Z|0,x[1]=x[1]+ae|0,x[2]=x[2]+ne|0,x[3]=x[3]+oe|0},_doFinalize:function(){var S=this._data,A=S.words,F=8*this._nDataBytes,k=8*S.sigBytes;A[k>>>5]|=128<<24-k%32;var m=I.floor(F/4294967296),x=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),S.sigBytes=4*(A.length+1),this._process();for(var B=this._hash,O=B.words,U=0;U<4;U++){var G=O[U];O[U]=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8)}return B},clone:function(){var S=N.clone.call(this);return S._hash=this._hash.clone(),S}});function M(S,A,F,k,m,x,B){var O=S+(A&F|~A&k)+m+B;return(O<<x|O>>>32-x)+A}function E(S,A,F,k,m,x,B){var O=S+(A&k|F&~k)+m+B;return(O<<x|O>>>32-x)+A}function T(S,A,F,k,m,x,B){var O=S+(A^F^k)+m+B;return(O<<x|O>>>32-x)+A}function C(S,A,F,k,m,x,B){var O=S+(F^(A|~k))+m+B;return(O<<x|O>>>32-x)+A}q.MD5=N._createHelper(b),q.HmacMD5=N._createHmacHelper(b)}(Math),R.MD5)},228:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.mode.CFB=function(){var I=R.lib.BlockCipherMode.extend();function q(j,J,N,K){var _,b=this._iv;b?(_=b.slice(0),this._iv=void 0):_=this._prevBlock,K.encryptBlock(_,0);for(var M=0;M<N;M++)j[J+M]^=_[M]}return I.Encryptor=I.extend({processBlock:function(j,J){var N=this._cipher,K=N.blockSize;q.call(this,j,J,K,N),this._prevBlock=j.slice(J,J+K)}}),I.Decryptor=I.extend({processBlock:function(j,J){var N=this._cipher,K=N.blockSize,_=j.slice(J,J+K);q.call(this,j,J,K,N),this._prevBlock=_}}),I}(),R.mode.CFB)},584:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.mode.CTRGladman=function(){var I=R.lib.BlockCipherMode.extend();function q(N){if(255==(N>>24&255)){var K=N>>16&255,_=N>>8&255,b=255&N;255===K?(K=0,255===_?(_=0,255===b?b=0:++b):++_):++K,N=0,N+=K<<16,N+=_<<8,N+=b}else N+=1<<24;return N}var J=I.Encryptor=I.extend({processBlock:function(N,K){var _=this._cipher,b=_.blockSize,M=this._iv,E=this._counter;M&&(E=this._counter=M.slice(0),this._iv=void 0),function j(N){return 0===(N[0]=q(N[0]))&&(N[1]=q(N[1])),N}(E);var T=E.slice(0);_.encryptBlock(T,0);for(var C=0;C<b;C++)N[K+C]^=T[C]}});return I.Decryptor=J,I}(),R.mode.CTRGladman)},392:function(Ee,Ie,L){var I,q,R;Ee.exports=(R=L(12),L(270),R.mode.CTR=(q=(I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(j,J){var N=this._cipher,K=N.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0);var M=b.slice(0);N.encryptBlock(M,0),b[K-1]=b[K-1]+1|0;for(var E=0;E<K;E++)j[J+E]^=M[E]}}),I.Decryptor=q,I),R.mode.CTR)},594:function(Ee,Ie,L){var I,R;Ee.exports=(R=L(12),L(270),R.mode.ECB=((I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(q,j){this._cipher.encryptBlock(q,j)}}),I.Decryptor=I.extend({processBlock:function(q,j){this._cipher.decryptBlock(q,j)}}),I),R.mode.ECB)},15:function(Ee,Ie,L){var I,q,R;Ee.exports=(R=L(12),L(270),R.mode.OFB=(q=(I=R.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(j,J){var N=this._cipher,K=N.blockSize,_=this._iv,b=this._keystream;_&&(b=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(b,0);for(var M=0;M<K;M++)j[J+M]^=b[M]}}),I.Decryptor=q,I),R.mode.OFB)},699:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.pad.AnsiX923={pad:function(I,q){var j=I.sigBytes,J=4*q,N=J-j%J,K=j+N-1;I.clamp(),I.words[K>>>2]|=N<<24-K%4*8,I.sigBytes+=N},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.pad.Iso10126={pad:function(I,q){var j=4*q,J=j-I.sigBytes%j;I.concat(R.lib.WordArray.random(J-1)).concat(R.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.pad.Iso97971={pad:function(I,q){I.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(I,q)},unpad:function(I){R.pad.ZeroPadding.unpad(I),I.sigBytes--}},R.pad.Iso97971)},738:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(270),R.pad.ZeroPadding={pad:function(I,q){var j=4*q;I.clamp(),I.sigBytes+=j-(I.sigBytes%j||j)},unpad:function(I){var q=I.words,j=I.sigBytes-1;for(j=I.sigBytes-1;j>=0;j--)if(q[j>>>2]>>>24-j%4*8&255){I.sigBytes=j+1;break}}},R.pad.ZeroPadding)},538:function(Ee,Ie,L){var I,q,j,J,N,_,b,R;Ee.exports=(R=L(12),L(78),L(990),J=(q=(I=R).lib).WordArray,_=(N=I.algo).HMAC,b=N.PBKDF2=(j=q.Base).extend({cfg:j.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(M){this.cfg=this.cfg.extend(M)},compute:function(M,E){for(var T=this.cfg,C=_.create(T.hasher,M),S=J.create(),A=J.create([1]),F=S.words,k=A.words,m=T.keySize,x=T.iterations;F.length<m;){var B=C.update(E).finalize(A);C.reset();for(var O=B.words,U=O.length,G=B,de=1;de<x;de++){G=C.finalize(G),C.reset();for(var le=G.words,ge=0;ge<U;ge++)O[ge]^=le[ge]}S.concat(B),k[0]++}return S.sigBytes=4*m,S}}),I.PBKDF2=function(M,E,T){return b.create(T).compute(M,E)},R.PBKDF2)},848:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,j=I.lib.StreamCipher,N=[],K=[],_=[],b=I.algo.RabbitLegacy=j.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,C=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)M.call(this);for(A=0;A<8;A++)S[A]^=C[A+4&7];if(T){var F=T.words,k=F[0],m=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),B=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=x>>>16|4294901760&B,U=B<<16|65535&x;for(S[0]^=x,S[1]^=O,S[2]^=B,S[3]^=U,S[4]^=x,S[5]^=O,S[6]^=B,S[7]^=U,A=0;A<4;A++)M.call(this)}},_doProcessBlock:function(E,T){var C=this._X;M.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[T+S]^=N[S]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,C=0;C<8;C++)K[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<K[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<K[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<K[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<K[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<K[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<K[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<K[6]>>>0?1:0)|0,this._b=T[7]>>>0<K[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,F=S>>>16;_[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.RabbitLegacy=j._createHelper(b)}(),R.RabbitLegacy)},969:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,j=I.lib.StreamCipher,N=[],K=[],_=[],b=I.algo.Rabbit=j.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,C=0;C<4;C++)E[C]=16711935&(E[C]<<8|E[C]>>>24)|4278255360&(E[C]<<24|E[C]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,C=0;C<4;C++)M.call(this);for(C=0;C<8;C++)A[C]^=S[C+4&7];if(T){var F=T.words,k=F[0],m=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),B=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=x>>>16|4294901760&B,U=B<<16|65535&x;for(A[0]^=x,A[1]^=O,A[2]^=B,A[3]^=U,A[4]^=x,A[5]^=O,A[6]^=B,A[7]^=U,C=0;C<4;C++)M.call(this)}},_doProcessBlock:function(E,T){var C=this._X;M.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[T+S]^=N[S]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,C=0;C<8;C++)K[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<K[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<K[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<K[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<K[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<K[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<K[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<K[6]>>>0?1:0)|0,this._b=T[7]>>>0<K[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,F=S>>>16;_[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.Rabbit=j._createHelper(b)}(),R.Rabbit)},195:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,j=I.lib.StreamCipher,J=I.algo,N=J.RC4=j.extend({_doReset:function(){for(var b=this._key,M=b.words,E=b.sigBytes,T=this._S=[],C=0;C<256;C++)T[C]=C;C=0;for(var S=0;C<256;C++){var A=C%E,k=T[C];T[C]=T[S=(S+T[C]+(M[A>>>2]>>>24-A%4*8&255))%256],T[S]=k}this._i=this._j=0},_doProcessBlock:function(b,M){b[M]^=K.call(this)},keySize:8,ivSize:0});function K(){for(var b=this._S,M=this._i,E=this._j,T=0,C=0;C<4;C++){var S=b[M=(M+1)%256];b[M]=b[E=(E+b[M])%256],b[E]=S,T|=b[(b[M]+b[E])%256]<<24-8*C}return this._i=M,this._j=E,T}I.RC4=j._createHelper(N);var _=J.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)K.call(this)}});I.RC4Drop=j._createHelper(_)}(),R.RC4)},558:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),function(I){var q=R,j=q.lib,J=j.WordArray,N=j.Hasher,K=q.algo,_=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),M=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=J.create([0,1518500249,1859775393,2400959708,2840853838]),C=J.create([1352829926,1548603684,1836072691,2053994217,0]),S=K.RIPEMD160=N.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,U){for(var G=0;G<16;G++){var de=U+G,le=O[de];O[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}var he,Ye,rt,Z,ae,ne,oe,Pt,Be,it,tt,ge=this._hash.words,Ae=T.words,X=C.words,ue=_.words,ye=b.words,ce=M.words,Fe=E.words;for(ne=he=ge[0],oe=Ye=ge[1],Pt=rt=ge[2],Be=Z=ge[3],it=ae=ge[4],G=0;G<80;G+=1)tt=he+O[U+ue[G]]|0,tt+=G<16?A(Ye,rt,Z)+Ae[0]:G<32?F(Ye,rt,Z)+Ae[1]:G<48?k(Ye,rt,Z)+Ae[2]:G<64?m(Ye,rt,Z)+Ae[3]:x(Ye,rt,Z)+Ae[4],tt=(tt=B(tt|=0,ce[G]))+ae|0,he=ae,ae=Z,Z=B(rt,10),rt=Ye,Ye=tt,tt=ne+O[U+ye[G]]|0,tt+=G<16?x(oe,Pt,Be)+X[0]:G<32?m(oe,Pt,Be)+X[1]:G<48?k(oe,Pt,Be)+X[2]:G<64?F(oe,Pt,Be)+X[3]:A(oe,Pt,Be)+X[4],tt=(tt=B(tt|=0,Fe[G]))+it|0,ne=it,it=Be,Be=B(Pt,10),Pt=oe,oe=tt;tt=ge[1]+rt+Be|0,ge[1]=ge[2]+Z+it|0,ge[2]=ge[3]+ae+ne|0,ge[3]=ge[4]+he+oe|0,ge[4]=ge[0]+Ye+Pt|0,ge[0]=tt},_doFinalize:function(){var O=this._data,U=O.words,G=8*this._nDataBytes,de=8*O.sigBytes;U[de>>>5]|=128<<24-de%32,U[14+(de+64>>>9<<4)]=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),O.sigBytes=4*(U.length+1),this._process();for(var le=this._hash,ge=le.words,Ae=0;Ae<5;Ae++){var X=ge[Ae];ge[Ae]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return le},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,U,G){return O^U^G}function F(O,U,G){return O&U|~O&G}function k(O,U,G){return(O|~U)^G}function m(O,U,G){return O&G|U&~G}function x(O,U,G){return O^(U|~G)}function B(O,U){return O<<U|O>>>32-U}q.RIPEMD160=N._createHelper(S),q.HmacRIPEMD160=N._createHmacHelper(S)}(Math),R.RIPEMD160)},446:function(Ee,Ie,L){var I,q,j,J,K,_,R;Ee.exports=(R=L(12),j=(q=(I=R).lib).WordArray,K=[],_=I.algo.SHA1=(J=q.Hasher).extend({_doReset:function(){this._hash=new j.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,M){for(var E=this._hash.words,T=E[0],C=E[1],S=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)K[k]=0|b[M+k];else{var m=K[k-3]^K[k-8]^K[k-14]^K[k-16];K[k]=m<<1|m>>>31}var x=(T<<5|T>>>27)+F+K[k];x+=k<20?1518500249+(C&S|~C&A):k<40?1859775393+(C^S^A):k<60?(C&S|C&A|S&A)-1894007588:(C^S^A)-899497514,F=A,A=S,S=C<<30|C>>>2,C=T,T=x}E[0]=E[0]+T|0,E[1]=E[1]+C|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var b=this._data,M=b.words,E=8*this._nDataBytes,T=8*b.sigBytes;return M[T>>>5]|=128<<24-T%32,M[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),M[15+(T+64>>>9<<4)]=E,b.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var b=J.clone.call(this);return b._hash=this._hash.clone(),b}}),I.SHA1=J._createHelper(_),I.HmacSHA1=J._createHmacHelper(_),R.SHA1)},811:function(Ee,Ie,L){var I,j,J,N,K,R;Ee.exports=(R=L(12),L(78),j=(I=R).lib.WordArray,K=(J=I.algo).SHA224=(N=J.SHA256).extend({_doReset:function(){this._hash=new j.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),I.SHA224=N._createHelper(K),I.HmacSHA224=N._createHmacHelper(K),R.SHA224)},78:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),function(I){var q=R,j=q.lib,J=j.WordArray,N=j.Hasher,K=q.algo,_=[],b=[];!function(){function T(F){for(var k=I.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function C(F){return 4294967296*(F-(0|F))|0}for(var S=2,A=0;A<64;)T(S)&&(A<8&&(_[A]=C(I.pow(S,.5))),b[A]=C(I.pow(S,1/3)),A++),S++}();var M=[],E=K.SHA256=N.extend({_doReset:function(){this._hash=new J.init(_.slice(0))},_doProcessBlock:function(T,C){for(var S=this._hash.words,A=S[0],F=S[1],k=S[2],m=S[3],x=S[4],B=S[5],O=S[6],U=S[7],G=0;G<64;G++){if(G<16)M[G]=0|T[C+G];else{var de=M[G-15],ge=M[G-2];M[G]=((de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3)+M[G-7]+((ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10)+M[G-16]}var ue=A&F^A&k^F&k,Fe=U+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&B^~x&O)+b[G]+M[G];U=O,O=B,B=x,x=m+Fe|0,m=k,k=F,F=A,A=Fe+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ue)|0}S[0]=S[0]+A|0,S[1]=S[1]+F|0,S[2]=S[2]+k|0,S[3]=S[3]+m|0,S[4]=S[4]+x|0,S[5]=S[5]+B|0,S[6]=S[6]+O|0,S[7]=S[7]+U|0},_doFinalize:function(){var T=this._data,C=T.words,S=8*this._nDataBytes,A=8*T.sigBytes;return C[A>>>5]|=128<<24-A%32,C[14+(A+64>>>9<<4)]=I.floor(S/4294967296),C[15+(A+64>>>9<<4)]=S,T.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});q.SHA256=N._createHelper(E),q.HmacSHA256=N._createHmacHelper(E)}(Math),R.SHA256)},545:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(802),function(I){var q=R,j=q.lib,J=j.WordArray,N=j.Hasher,_=q.x64.Word,b=q.algo,M=[],E=[],T=[];!function(){for(var A=1,F=0,k=0;k<24;k++){M[A+5*F]=(k+1)*(k+2)/2%64;var x=(2*A+3*F)%5;A=F%5,F=x}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var B=1,O=0;O<24;O++){for(var U=0,G=0,de=0;de<7;de++){if(1&B){var le=(1<<de)-1;le<32?G^=1<<le:U^=1<<le-32}128&B?B=B<<1^113:B<<=1}T[O]=_.create(U,G)}}();var C=[];!function(){for(var A=0;A<25;A++)C[A]=_.create()}();var S=b.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,x=0;x<m;x++){var B=A[F+2*x],O=A[F+2*x+1];B=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),(U=k[x]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),U.low^=B}for(var G=0;G<24;G++){for(var de=0;de<5;de++){for(var le=0,ge=0,Ae=0;Ae<5;Ae++)le^=(U=k[de+5*Ae]).high,ge^=U.low;var X=C[de];X.high=le,X.low=ge}for(de=0;de<5;de++){var ue=C[(de+4)%5],ye=C[(de+1)%5],ce=ye.high,Fe=ye.low;for(le=ue.high^(ce<<1|Fe>>>31),ge=ue.low^(Fe<<1|ce>>>31),Ae=0;Ae<5;Ae++)(U=k[de+5*Ae]).high^=le,U.low^=ge}for(var he=1;he<25;he++){var Ye=(U=k[he]).high,rt=U.low,Z=M[he];Z<32?(le=Ye<<Z|rt>>>32-Z,ge=rt<<Z|Ye>>>32-Z):(le=rt<<Z-32|Ye>>>64-Z,ge=Ye<<Z-32|rt>>>64-Z);var ae=C[E[he]];ae.high=le,ae.low=ge}var ne=C[0],oe=k[0];for(ne.high=oe.high,ne.low=oe.low,de=0;de<5;de++)for(Ae=0;Ae<5;Ae++){var Pt=C[he=de+5*Ae],Be=C[(de+1)%5+5*Ae],it=C[(de+2)%5+5*Ae];(U=k[he]).high=Pt.high^~Be.high&it.high,U.low=Pt.low^~Be.low&it.low}var U,tt=T[G];(U=k[0]).high^=tt.high,U.low^=tt.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,x=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(I.ceil((m+1)/x)*x>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var B=this._state,O=this.cfg.outputLength/8,U=O/8,G=[],de=0;de<U;de++){var le=B[de],ge=le.high,Ae=le.low;ge=16711935&(ge<<8|ge>>>24)|4278255360&(ge<<24|ge>>>8),G.push(Ae=16711935&(Ae<<8|Ae>>>24)|4278255360&(Ae<<24|Ae>>>8)),G.push(ge)}return new J.init(G,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});q.SHA3=N._createHelper(S),q.HmacSHA3=N._createHmacHelper(S)}(Math),R.SHA3)},913:function(Ee,Ie,L){var I,q,j,J,N,K,_,R;Ee.exports=(R=L(12),L(802),L(870),j=(q=(I=R).x64).Word,J=q.WordArray,_=(N=I.algo).SHA384=(K=N.SHA512).extend({_doReset:function(){this._hash=new J.init([new j.init(3418070365,3238371032),new j.init(1654270250,914150663),new j.init(2438529370,812702999),new j.init(355462360,4144912697),new j.init(1731405415,4290775857),new j.init(2394180231,1750603025),new j.init(3675008525,1694076839),new j.init(1203062813,3204075428)])},_doFinalize:function(){var b=K._doFinalize.call(this);return b.sigBytes-=16,b}}),I.SHA384=K._createHelper(_),I.HmacSHA384=K._createHmacHelper(_),R.SHA384)},870:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(802),function(){var I=R,j=I.lib.Hasher,J=I.x64,N=J.Word,K=J.WordArray,_=I.algo;function b(){return N.create.apply(N,arguments)}var M=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],E=[];!function(){for(var C=0;C<80;C++)E[C]=b()}();var T=_.SHA512=j.extend({_doReset:function(){this._hash=new K.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(C,S){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],x=A[3],B=A[4],O=A[5],U=A[6],G=A[7],de=F.high,le=F.low,ge=k.high,Ae=k.low,X=m.high,ue=m.low,ye=x.high,ce=x.low,Fe=B.high,he=B.low,Ye=O.high,rt=O.low,Z=U.high,ae=U.low,ne=G.high,oe=G.low,Pt=de,Be=le,it=ge,tt=Ae,Je=X,rs=ue,ud=ye,Hs=ce,ar=Fe,Qt=he,Er=Ye,Fc=rt,dd=Z,Vc=ae,Qp=ne,wa=oe,zr=0;zr<80;zr++){var Ur,Ei,Lc=E[zr];if(zr<16)Ei=Lc.high=0|C[S+2*zr],Ur=Lc.low=0|C[S+2*zr+1];else{var Bc=E[zr-15],zs=Bc.high,Aa=Bc.low,Xp=(Aa>>>1|zs<<31)^(Aa>>>8|zs<<24)^(Aa>>>7|zs<<25),Oi=E[zr-2],Us=Oi.high,Ta=Oi.low,Zp=(Ta>>>19|Us<<13)^(Ta<<3|Us>>>29)^(Ta>>>6|Us<<26),e0=E[zr-7],t0=E[zr-16],n0=t0.low;Lc.high=Ei=(Ei=(Ei=((zs>>>1|Aa<<31)^(zs>>>8|Aa<<24)^zs>>>7)+e0.high+((Ur=Xp+e0.low)>>>0<Xp>>>0?1:0))+((Us>>>19|Ta<<13)^(Us<<3|Ta>>>29)^Us>>>6)+((Ur+=Zp)>>>0<Zp>>>0?1:0))+t0.high+((Ur+=n0)>>>0<n0>>>0?1:0),Lc.low=Ur}var cr,f_=ar&Er^~ar&dd,r0=Qt&Fc^~Qt&Vc,h_=Pt&it^Pt&Je^it&Je,fd=(Be>>>28|Pt<<4)^(Be<<30|Pt>>>2)^(Be<<25|Pt>>>7),hd=M[zr],pd=hd.low,Fi=Qp+((ar>>>14|Qt<<18)^(ar>>>18|Qt<<14)^(ar<<23|Qt>>>9))+((cr=wa+((Qt>>>14|ar<<18)^(Qt>>>18|ar<<14)^(Qt<<23|ar>>>9)))>>>0<wa>>>0?1:0),gd=fd+(Be&tt^Be&rs^tt&rs);Qp=dd,wa=Vc,dd=Er,Vc=Fc,Er=ar,Fc=Qt,ar=ud+(Fi=(Fi=(Fi=Fi+f_+((cr+=r0)>>>0<r0>>>0?1:0))+hd.high+((cr+=pd)>>>0<pd>>>0?1:0))+Ei+((cr+=Ur)>>>0<Ur>>>0?1:0))+((Qt=Hs+cr|0)>>>0<Hs>>>0?1:0)|0,ud=Je,Hs=rs,Je=it,rs=tt,it=Pt,tt=Be,Pt=Fi+(((Pt>>>28|Be<<4)^(Pt<<30|Be>>>2)^(Pt<<25|Be>>>7))+h_+(gd>>>0<fd>>>0?1:0))+((Be=cr+gd|0)>>>0<cr>>>0?1:0)|0}le=F.low=le+Be,F.high=de+Pt+(le>>>0<Be>>>0?1:0),Ae=k.low=Ae+tt,k.high=ge+it+(Ae>>>0<tt>>>0?1:0),ue=m.low=ue+rs,m.high=X+Je+(ue>>>0<rs>>>0?1:0),ce=x.low=ce+Hs,x.high=ye+ud+(ce>>>0<Hs>>>0?1:0),he=B.low=he+Qt,B.high=Fe+ar+(he>>>0<Qt>>>0?1:0),rt=O.low=rt+Fc,O.high=Ye+Er+(rt>>>0<Fc>>>0?1:0),ae=U.low=ae+Vc,U.high=Z+dd+(ae>>>0<Vc>>>0?1:0),oe=G.low=oe+wa,G.high=ne+Qp+(oe>>>0<wa>>>0?1:0)},_doFinalize:function(){var C=this._data,S=C.words,A=8*this._nDataBytes,F=8*C.sigBytes;return S[F>>>5]|=128<<24-F%32,S[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(F+128>>>10<<5)]=A,C.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var C=j.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});I.SHA512=j._createHelper(T),I.HmacSHA512=j._createHmacHelper(T)}(),R.SHA512)},769:function(Ee,Ie,L){var R;Ee.exports=(R=L(12),L(506),L(873),L(66),L(270),function(){var I=R,q=I.lib,j=q.WordArray,J=q.BlockCipher,N=I.algo,K=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=N.DES=J.extend({_doReset:function(){for(var k=this._key.words,m=[],x=0;x<56;x++){var B=K[x]-1;m[x]=k[B>>>5]>>>31-B%32&1}for(var O=this._subKeys=[],U=0;U<16;U++){var G=O[U]=[],de=b[U];for(x=0;x<24;x++)G[x/6|0]|=m[(_[x]-1+de)%28]<<31-x%6,G[4+(x/6|0)]|=m[28+(_[x+24]-1+de)%28]<<31-x%6;for(G[0]=G[0]<<1|G[0]>>>31,x=1;x<7;x++)G[x]=G[x]>>>4*(x-1)+3;G[7]=G[7]<<5|G[7]>>>27}var le=this._invSubKeys=[];for(x=0;x<16;x++)le[x]=O[15-x]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],C.call(this,4,252645135),C.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),C.call(this,1,1431655765);for(var x=0;x<16;x++){for(var B=m[x],O=this._lBlock,U=this._rBlock,G=0,de=0;de<8;de++)G|=M[de][((U^B[de])&E[de])>>>0];this._lBlock=U,this._rBlock=O^G}var le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=le,C.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function S(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}I.DES=J._createHelper(T);var A=N.TripleDES=J.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),x=k.length<4?k.slice(0,2):k.slice(2,4),B=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=T.createEncryptor(j.create(m)),this._des2=T.createEncryptor(j.create(x)),this._des3=T.createEncryptor(j.create(B))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),R.TripleDES)},802:function(Ee,Ie,L){var j,J,N,K,R;Ee.exports=(R=L(12),J=(j=R.lib).Base,N=j.WordArray,(K=R.x64={}).Word=J.extend({init:function(M,E){this.high=M,this.low=E}}),K.WordArray=J.extend({init:function(M,E){M=this.words=M||[],this.sigBytes=null!=E?E:8*M.length},toX32:function(){for(var M=this.words,E=M.length,T=[],C=0;C<E;C++){var S=M[C];T.push(S.high),T.push(S.low)}return N.create(T,this.sigBytes)},clone:function(){for(var M=J.clone.call(this),E=M.words=this.words.slice(0),T=E.length,C=0;C<T;C++)E[C]=E[C].clone();return M}}),R)},480:()=>{}},Ee=>{Ee(Ee.s=237)}]);